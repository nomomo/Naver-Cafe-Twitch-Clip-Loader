// ==UserScript==
// @name        Naver-Cafe-Clip-Loader
// @version     1.3.2
// @author      Nomo
// @description Naver Cafe 에서 Youtube Clip, Streamable, Afreecatv VOD, Clippy, Twitch(해외) 등의 외부 VOD 시청을 도와주는 유저스크립트 확장
// @supportURL  https://github.com/nomomo/Naver-Cafe-Twitch-Clip-Loader/issues
// @match       https://cafe.naver.com/*
// @match       https://clips.twitch.tv/*parent=cafe.naver.com*
// @match       https://player.twitch.tv/*parent=cafe.naver.com*
// @match       https://serviceapi.nmv.naver.com/*
// @match       https://www.youtube.com/embed/*origin=https%3A%2F%2Fcafe.naver.com*
// @match       https://*/*parent=cafe.naver.com&extension=NCCL*
// @namespace   Naver-Cafe-Clip-Loader
// @icon        https://raw.githubusercontent.com/nomomo/Naver-Cafe-Twitch-Clip-Loader/master/images/logo.png
// @homepageURL https://github.com/nomomo/Naver-Cafe-Twitch-Clip-Loader/
// @downloadURL https://github.com/nomomo/Naver-Cafe-Twitch-Clip-Loader/raw/main/Naver-Cafe-Clip-Loader.user.js
// @updateURL   https://github.com/nomomo/Naver-Cafe-Twitch-Clip-Loader/raw/main/Naver-Cafe-Clip-Loader.user.js
// @run-at      document-start
// @require     https://greasemonkey.github.io/gm4-polyfill/gm4-polyfill.js
// @require     https://code.jquery.com/jquery-3.6.0.min.js
// @grant       GM.addStyle
// @grant       GM_addStyle
// @grant       GM.getValue
// @grant       GM_getValue
// @grant       GM.setValue
// @grant       GM_setValue
// @grant       GM.deleteValue
// @grant       GM_deleteValue
// @grant       GM.listValues
// @grant       GM_listValues
// @grant       GM.info
// @grant       GM_info
// @grant       GM.xmlHttpRequest
// @grant       GM_xmlhttpRequest
// @grant       GM.registerMenuCommand
// @grant       GM_registerMenuCommand
// @grant       GM.addValueChangeListener
// @grant       GM_addValueChangeListener
// @grant       GM.removeValueChangeListener
// @grant       GM_removeValueChangeListener
// @grant       unsafeWindow
// @connect     youtube.com
// @connect     tv.kakao.com
// @connect     tv.naver.com
// @connect     vlive.tv
// ==/UserScript==

(()=>{var e={600:(e,t,n)=>{var i=n(81),a=n(645)(i);a.push([e.id,'.NCCL_container {\r\n    position: relative;\r\n}\r\n.NCCL_container .NCCL_iframe_container {\r\n    display:flex;\r\n    background-color: #000;\r\n}\r\n.NCCL_container .NCCL_iframe {\r\n    width:100%;\r\n    height:100%;\r\n}\r\n.NCCL_container .NCCL_description {\r\n    display: flex;\r\n    align-items:center;\r\n    padding: 0 16px;\r\n    border: 1px solid #ddd;\r\n    box-sizing: border-box;\r\n    margin-top:0px;\r\n    text-decoration: none;\r\n    width: 100%;\r\n    height: 40px;\r\n    vertical-align: middle;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 4%);\r\n    font-family:se-nanumsquare,"나눔고딕",nanumgothic,Apple SD Gothic Neo,"맑은 고딕",Malgun Gothic,"돋움",dotum,sans-serif;\r\n    background-color:#fff;\r\n}\r\nbody #app .NCCL_container .NCCL_description svg,\r\nbody #app .NCCL_container .NCCL_description img.NCCL_video_logo {\r\n    flex-shrink: 0;\r\n    margin-right:10px;\r\n    user-select: none;\r\n}\r\n.NCCL_container .NCCL_description .NCCL_title {\r\n    flex-shrink: 0;\r\n    color:#333;\r\n    font-size:14px;\r\n    font-weight: 700;\r\n    margin-right: 10px;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    max-width: calc(100% - 18px);\r\n    padding:3px 0;\r\n}\r\n.NCCL_container .NCCL_description .NCCL_link {\r\n    color:#999;\r\n    font-size:12px;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    padding:5px 0 3px 0;\r\n}\r\n\r\n/* container 가 연달아 인접한 경우 */\r\n.NCCL_container + .NCCL_container {\r\n    margin-top:30px;\r\n} \r\n/*\r\n.NCCL_container {\r\n    margin-top:30px;\r\n}\r\n*/\r\n/*\r\n.se-viewer .NCCL_container:first-child {\r\n    margin-top:0px;\r\n}\r\n*/\r\n/*.se-viewer .se-sectionTitle + .NCCL_container[data-NCCL-type=\'NAVER_VID\'], .se-viewer .se-text + .NCCL_container[data-NCCL-type=\'NAVER_VID\'],*/\r\n.se-viewer .se-sectionTitle + .NCCL_container\r\n{\r\n    margin-top:20px;\r\n}\r\n\r\n.NCCL_container .NCCL_thumbnail_container{\r\n    flex-grow: 1;\r\n    position: relative;\r\n    cursor: pointer;\r\n    overflow: hidden;\r\n}\r\n.NCCL_container .NCCL_thumbnail{\r\n    width:100%;\r\n    height:100%;\r\n    object-fit: cover;\r\n}\r\n.NCCL_container .NCCL_thumbnail_container.playbtn::before{\r\n    content: \'▶\';\r\n    font-size: 15vw;\r\n    width: 16vw;\r\n    height: 16vw;\r\n    position: absolute;\r\n    z-index: 10;\r\n    color: #fff;\r\n    text-align: center;\r\n    font-family: monospace;\r\n    border-radius: 0.5vw;\r\n    top: calc(50% - 16vw / 2);\r\n    left: calc(50% - 16vw / 2);\r\n    opacity: 1.0;\r\n    padding: 0 0 0 0.8vw;\r\n    user-select: none;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    transform: scaleX(0.9);\r\n    -webkit-transition: background-color 150ms linear;\r\n    -ms-transition: background-color 150ms linear;\r\n    transition: background-color 150ms linear;\r\n    text-shadow: 3px 3px 15px rgb(0 0 0 / 30%);\r\n}\r\n.NCCL_container .NCCL_thumbnail_container.playbtn:hover::before{\r\n    background-color:rgba(255,255,255,0.2);\r\n    box-shadow: 0px 0px 1vw rgb(0 0 0 / 40%);\r\n    opacity:1.0;\r\n}\r\n\r\n\r\n\r\n.NCCL_container .NCCL_loader_container {\r\n}\r\n.NCCL_container .NCCL_loader,\r\n.NCCL_container .NCCL_loader:after {\r\n  border-radius: 50% !important;\r\n  width: 15vw !important;\r\n  height: 15vw !important;\r\n}\r\n.NCCL_container .NCCL_loader {\r\n    box-sizing: border-box;\r\n    position: absolute !important;\r\n    z-index: 10000 !important;\r\n    top: calc(50% - 7.5vw) !important;\r\n    left: calc(50% - 7.5vw) !important;\r\n    font-size: 10px !important;\r\n    text-indent: -9999em !important;\r\n    border-top: 1.8vw solid rgba(255, 255, 255, 0.3) !important;\r\n    border-right: 1.8vw solid rgba(255, 255, 255, 0.3) !important;\r\n    border-bottom: 1.8vw solid rgba(255, 255, 255, 0.3) !important;\r\n    border-left: 1.8vw solid #ffffff !important;\r\n    animation: NCCLload8 1.1s infinite linear !important;\r\n}\r\n@keyframes NCCLload8 {\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n.NCCL_container .NCCL_loader_desc_container {\r\n    position: absolute;\r\n    top: calc(50% - 5vw);\r\n    left: calc(50% - 5vw);\r\n    color: #fff;\r\n    text-shadow: 0 0 1px rgb(0 0 0 / 70%), 0 0 3px rgb(0 0 0 / 50%), 0 0 5px rgb(0 0 0 / 60%);\r\n    z-index: 10000;\r\n    width: 10vw;\r\n    height: 10vw;\r\n    box-sizing: border-box;\r\n    display: flex;\r\n    align-items: center;\r\n    text-align: center;\r\n}\r\n.NCCL_container .NCCL_loader_desc {\r\n    width: 100%;\r\n    font-size: 1.8vw !important;\r\n    font-family: se-nanumsquare,"나눔고딕",nanumgothic,Apple SD Gothic Neo,"맑은 고딕",Malgun Gothic,"돋움",dotum,sans-serif !important;\r\n}\r\n.NCCL_container .NCCL_loader_desc .NCCL_loader_version {\r\n    display: block;\r\n    font-size: 10px !important;\r\n    position: absolute;\r\n    bottom: -5vw;\r\n    left: 0px;\r\n    color: #fff;\r\n    width: 100%;\r\n    opacity: 0.2;\r\n}\r\n\r\n\r\n\r\n\r\n.NCCL_container .NCCL_error_container {\r\n    position: absolute;\r\n    top: calc(50% - 20px);\r\n    max-width: 90%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    margin: 0;\r\n    padding: 20px;\r\n    z-index: 999999;\r\n    font-size: 14px !important;\r\n    background: rgba(0,0,0,0.85);\r\n    color: #fff;\r\n    border: none;\r\n    box-shadow: 0 0 4px rgb(0 0 0 / 70%), 0 0 4px rgb(255 255 255 / 70%);\r\n    box-sizing: border-box;\r\n    font-family: se-nanumsquare,"나눔고딕",nanumgothic,Apple SD Gothic Neo,"맑은 고딕",Malgun Gothic,"돋움",dotum,sans-serif !important;\r\n    line-height: 130%;\r\n}\r\n.NCCL_container .NCCL_error{\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n}\r\n.NCCL_container .NCCL_error_container a{\r\n    color:#00e686;\r\n}\r\n.NCCL_container .NCCL_error_container a:hover{\r\n    filter:brightness(1.1);\r\n}\r\n\r\n\r\n.NCCL_prism_container .NCCL_error_container {\r\n    position: absolute;\r\n    top: calc(50% - 20px);\r\n    max-width: 90%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    margin: 0;\r\n    padding: 20px;\r\n    z-index: 999999;\r\n    font-size: 14px !important;\r\n    background: rgba(0,0,0,0.85);\r\n    color: #fff;\r\n    border: none;\r\n    box-shadow: 0 0 4px rgb(0 0 0 / 70%), 0 0 4px rgb(255 255 255 / 70%);\r\n    box-sizing: border-box;\r\n    font-family: se-nanumsquare,"나눔고딕",nanumgothic,Apple SD Gothic Neo,"맑은 고딕",Malgun Gothic,"돋움",dotum,sans-serif !important;\r\n    line-height: 130%;\r\n}\r\n\r\n\r\n\r\n.NCCL_container .NCCL_iframe_container[data-NCCL-type="TIKTOK"]{\r\n    box-sizing: border-box;\r\n    border-top: 1px solid #ddd;\r\n    border-left: 1px solid #ddd;\r\n    border-right: 1px solid #ddd;\r\n    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 4%);\r\n}\r\n\r\n\r\n/* Dark Mode Compatible*/\r\nhtml[data-dark="true"] .NCCL_container .NCCL_description,\r\nhtml[data-darkreader-scheme="dark"] .NCCL_container .NCCL_description\r\n{\r\n    background-color: #333;\r\n    border-color:#222;\r\n}\r\nhtml[data-dark="true"] .NCCL_container .NCCL_description .NCCL_title,\r\nhtml[data-darkreader-scheme="dark"] .NCCL_container .NCCL_description .NCCL_title\r\n{\r\n    color:#fff;\r\n}\r\nhtml[data-dark="true"] .NCCL_container .NCCL_description .NCCL_link,\r\nhtml[data-darkreader-scheme="dark"] .NCCL_container .NCCL_description .NCCL_link\r\n{\r\n    color:#aaa;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n.pzp-pc-ui-error-dialog__message div.naver_player_reload_btn {\r\n    color: #fff;\r\n    float: left;\r\n    font-family: se-nanumsquare,"나눔고딕",nanumgothic,Apple SD Gothic Neo,"맑은 고딕",Malgun Gothic,"돋움",dotum,sans-serif;\r\n    height: 16px;\r\n    line-height: normal;\r\n    cursor:pointer;\r\n    margin-left:10px;\r\n    margin-top:1px;\r\n}\r\n\r\n.pzp-pc-ui-error-dialog__message div.naver_player_reload_btn:hover {\r\n    color: #00e686;\r\n}\r\n\r\n.pzp-pc-ui-error-dialog__message div.naver_player_reload_error_btn {\r\n    border-radius: 5px;\r\n    border: 1px solid #666;\r\n    background: #333;\r\n    padding: 10px 20px;\r\n    text-shadow: 0 0 2px rgb(0 0 0 / 10%);\r\n    color: #fff;\r\n    line-height: 23px;\r\n    max-width: 600px;\r\n    font-weight: 400;\r\n    margin: 20px auto 0 auto;\r\n    cursor: pointer;\r\n    font-family: se-nanumsquare,"나눔고딕",nanumgothic,Apple SD Gothic Neo,"맑은 고딕",Malgun Gothic,"돋움",dotum,sans-serif;\r\n    box-shadow: 0 0 8px #666;\r\n}\r\n.pzp-pc-ui-error-dialog__message div.naver_player_reload_error_btn:hover {\r\n    background: #252525;\r\n}\r\n.pzp-pc__error-dialog.reloaded div.naver_player_reload_error_btn:hover {\r\n    background: #333;\r\n}\r\n.pzp-pc-ui-error-dialog__message.reloaded, .pzp-pc__error-dialog.reloaded{\r\n    filter: blur(3px);\r\n    opacity: 0.8;\r\n}\r\n.pzp-pc-ui-error-dialog__message.reloaded div.naver_player_reload_error_btn, .pzp-pc__error-dialog.reloaded div.naver_player_reload_error_btn {\r\n    cursor: default;\r\n}\r\n\r\n\r\n\r\n\r\n/* naver prism player 에 NCCL_container 가 연달아 오는 경우 */\r\n.NCCL_prism_container + .NCCL_container {\r\n    margin-top:5px;\r\n}',""]),e.exports=a},613:(e,t,n)=>{var i=n(81),a=n(645)(i);a.push([e.id,"@keyframes glow {\r\n    to {\r\n        color: #0aeb7f;\r\n        text-shadow: 0 0 9px white, 0 0 10px #0aeb7f;\r\n    }\r\n}\r\n.BANJJAK{\r\n    animation: glow 0.3s 2 alternate;\r\n}\r\n\r\n.NCCL_NaverCafe_MessageBox {\r\n    padding: 5px 10px;\r\n    animation: 0.5s ease 0s 4 alternate none running glow;\r\n    position: fixed;\r\n    left: 0px;\r\n    bottom: 20px;\r\n    z-index: 10000000;\r\n    color: rgb(255, 255, 255);\r\n    background-color: rgb(3 199 90);\r\n    border:none;\r\n    border-radius: 5px;\r\n    opacity: 1;\r\n    line-height: 16px;\r\n    box-shadow: 0px 2px 6px rgba(0,0,0,0.3);\r\n    max-width: 100%;\r\n    font-size: 12px;\r\n    white-space: pre-wrap;\r\n    user-select: text;\r\n}",""]),e.exports=a},254:(e,t,n)=>{var i=n(81),a=n(645)(i);a.push([e.id,'.u_rmc_controls_btn div.naver_player_reload_btn {\r\n    color: #fff;\r\n    float: left;\r\n    font-family: se-nanumsquare,"나눔고딕",nanumgothic,Apple SD Gothic Neo,"맑은 고딕",Malgun Gothic,"돋움",dotum,sans-serif;\r\n    height: 16px;\r\n    line-height: normal;\r\n    cursor:pointer;\r\n    margin-left:10px;\r\n    margin-top:1px;\r\n}\r\n\r\n.u_rmc_controls_btn div.naver_player_reload_btn:hover {\r\n    color: #00e686;\r\n}\r\n\r\n.u_rmcplayer .u_rmcplayer_error_layer div.naver_player_reload_error_btn {\r\n    border-radius: 5px;\r\n    border: 1px solid #666;\r\n    background: #333;\r\n    padding: 10px;\r\n    text-shadow: 0 0 2px rgb(0 0 0 / 10%);\r\n    color: #fff;\r\n    font-size: 14px;\r\n    line-height: 23px;\r\n    letter-spacing: -0.5px;\r\n    max-width: 350px;\r\n    font-weight: 400;\r\n    margin: 20px auto 0 auto;\r\n    cursor: pointer;\r\n    font-family: se-nanumsquare,"나눔고딕",nanumgothic,Apple SD Gothic Neo,"맑은 고딕",Malgun Gothic,"돋움",dotum,sans-serif;\r\n    box-shadow: 0 0 8px #666;\r\n}\r\n.u_rmcplayer .u_rmcplayer_error_layer div.naver_player_reload_error_btn:hover {\r\n    background: #252525;\r\n}\r\n.u_rmcplayer .u_rmcplayer_error_layer div.naver_player_reload_error_btn:hover {\r\n    background: #252525;\r\n}\r\n.u_rmcplayer .u_rmcplayer_error_layer .u_rmc_error_txt.reloaded div.naver_player_reload_error_btn:hover {\r\n    background: #333;\r\n}\r\n.u_rmcplayer .u_rmcplayer_error_layer .u_rmc_error_txt.reloaded{\r\n    filter: blur(3px);\r\n    opacity: 0.8;\r\n}\r\n.u_rmcplayer .u_rmcplayer_error_layer .u_rmc_error_txt.reloaded div.naver_player_reload_error_btn {\r\n    cursor: default;\r\n}\r\n\r\n.u_rmc_share {\r\n    display: none;\r\n}\r\n\r\n.u_rmcplayer .u_rmcplayer_video_info .u_rmcplayer_shadow{\r\n    min-height: 50px !important;\r\n    background-image: linear-gradient(to top,rgba(0,0,0,0),rgba(0,0,0,.5)) !important;\r\n}\r\n.u_rmcplayer .u_rmcplayer_control_bg{\r\n    height: 50px !important;\r\n    min-height: 50px !important;\r\n    background-image: linear-gradient(to bottom,rgba(0,0,0,0),rgba(0,0,0,.5)) !important;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n.u_rmcplayer .onlyspin {\r\n    transform: scale(2);\r\n}\r\n.u_rmcplayer .onlyspin::after {\r\n    animation: rmc_spinner 1s infinite ease;\r\n    content: \' \';\r\n    height: 8px;\r\n    width: 8px;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 10px;\r\n    top: 0;\r\n    margin: auto;\r\n    padding: 0;\r\n    border-radius: 8px;\r\n    z-index: -1;\r\n    filter: invert(1);\r\n    line-height: normal;\r\n    font-size: 8px;\r\n    word-break: normal;\r\n    user-select: none;\r\n    pointer-events: none;\r\n}',""]),e.exports=a},952:(e,t,n)=>{var i=n(81),a=n(645)(i);a.push([e.id,'\r\n:root{\r\n    --NCCL-font-color:#FFF;\r\n    --NCCL-background-color:#202020;\r\n    --NCCL-border-color:#383838;\r\n\r\n    \r\n    --NCCL-font-color-lighter:#AAA;\r\n    --NCCL-background-color-lighter:#303030;\r\n    --NCCL-border-color-lighter:#383838;\r\n    \r\n    --NCCL-font-color-lightest:#AAA;\r\n    --NCCL-background-color-lightest:#404040;\r\n    --NCCL-border-color-lightest:#484848;\r\n}\r\n\r\n*::-webkit-scrollbar { background: #505050 !important; }\r\n*::-webkit-scrollbar-thumb { background: #353535 !important; }\r\n\r\n#powerAd-div, #cafe_sdk {display:none}\r\n\r\nh1,h2,h3,h4,h5,h6\r\n,.skin-1080 .ia-info-data .gm-tcol-c .id .ellipsis\r\n,.skin-1080 #ia-info-data-emblem .txt\r\n,.skin-1080 .com .box-w .group-list .tcol-c\r\n,.skin-1080 .com .pocket_nav\r\n,.skin-1080 .com .pocket_nav .filter-50\r\n,.skin-1080 .com .box-w .group-mlist .tcol-c\r\n,.skin-1080 #cafe-secede\r\n,.skin-1080 .ia-info-data\r\n,.skin-1080 .ia-info-data2\r\n,.skin-1080 .ia-info-data3\r\n,.skin-1080 .ia-info-data3 li\r\n,.skin-1080 .SpecialMenu .menu_list .link_special\r\n,.skin-1080 .article-album .album-box .tit .ellipsis\r\n,.skin-1080 .board-notice.type_event .article, .skin-1080 .board-notice.type_up .article\r\n,.skin-1080 .article-board .pers_nick_area .p-nick a\r\n,.skin-1080 .article-board .td_date\r\n,.skin-1080 .article-board .td_view\r\n,.skin-1080 .article-album-sub .tit .ellipsis\r\n,.skin-1080 .RelatedArticles .member_area\r\n,.skin-1080 .ArticlePaginate .btn.number\r\n,.skin-1080 .PopularArticles .PopularCafeList .popular_list .post_box .title\r\n,.skin-1080 .RelatedArticles .date_area\r\n,.skin-1080 .article-board .td_likes\r\n,.skin-1080 .article-board .article\r\n,.skin-1080 .select_component .date_enter .tit\r\n,.skin-1080 .article-movie-sub .con\r\n,.skin-1080 .article-movie-sub .tit_area .tit strong\r\n,.skin-1080 #main-area .m-tcol-c\r\n,.skin-1080 #special-menu .special-menu .link_special\r\n,.skin-1080 #neighbor-cafe .comment\r\n,.skin-1080 #neighbor-cafe .bca\r\n,.skin-1080 #widget_company_info\r\n,.skin-1080 #widget_company_info .tit_company\r\n,.skin-1080 #widget_company_info .list_company .tit\r\n,.skin-1080 #widget_company_info .list_company li\r\n,.skin-1080 .article-album .album-box li .price\r\n,.skin-1080 .SaleInfo .CommercialDetail .list_detail .btn_text\r\n,.skin-1080 .ModalLayer\r\n,.skin-1080 .ModalLayer .layer_commerce_safety_guide .deal_thead\r\n,.skin-1080 .ModalLayer .layer_commerce_safety_guide .deal_td\r\n,.skin-1080 .ModalLayer .layer_commerce_safety_guide .deal_list\r\n,.skin-1080 .ModalLayer .layer_commerce_safety_guide .safety_deal_text\r\n,.skin-1080 .SaleInfo\r\n,.skin-1080 .SaleInfo .CommercialDetail .list_title\r\n,.skin-1080 .SaleInfo .ProductCategory\r\n,.skin-1080 .CafeViewer .se-viewer .se-section-oglink.se-section.se-l-large_image .se-oglink-info\r\n,.skin-1080 .CafeViewer .se-viewer .se-module-oglink .se-oglink-title\r\n,.skin-1080 .CafeViewer .se-viewer .se-video .se-media-meta\r\n,.skin-1080 .se-viewer .se-video .se-media-meta-info, .se-viewer .se-video .se-media-meta-info-title\r\n,.skin-1080 .CafeViewer .se-viewer .se-video .se-media-meta-info-wrap:not(.se-is-activated) .se-media-meta-info-description\r\n,.skin-1080 .ArticleTagList .item\r\n,.skin-1080 .ArticleTagList .item a\r\n,.skin-1080 .pop_container\r\n,.skin-1080 .CommentWriter .comment_inbox_text\r\n,.skin-1080 .gnb_my_lyr\r\n,.skin-1080 .gnb_my_li .gnb_my_content\r\n,.skin-1080 #gnb a,.skin-1080 #gnb a:visited,.skin-1080 #gnb a:active,.skin-1080 #gnb a:focus\r\n,.skin-1080 .gnb_my_li .gnb_my_content .gnb_pay_check a,.skin-1080  .gnb_my_li .gnb_my_content .gnb_pay_check span,.skin-1080  .gnb_my_li .gnb_my_content .gnb_pay_check strong\r\n,.skin-1080 .gnb_bdr\r\n,.skin-1080 .gnb_txt\r\n,.skin-1080 .cc_layer_mynews .cc_mynews_list .info_top .box\r\n,.skin-1080 .cc_layer_mynews .cc_mynews_list .info_title\r\n,.skin-1080 .cc_layer_mynews .cc_mynews_list .cc_mynews_info\r\n,.skin-1080 .cc_layer_mynews .cc_mynews_list .info_txt\r\n,.skin-1080 .cafe_list .sort li.on a\r\n,.skin-1080 .cafe_list .sort li a\r\n,.skin-1080 .cafe_list .lst_mycafe li .cafe_name h5 a\r\n,.skin-1080 .LowLevelAccessGuide .tit_level\r\n,.skin-1080 .LowLevelAccessGuide .txt_level\r\n,.skin-1080 .LowLevelAccessGuide .list_explanation .explanation\r\n,.skin-1080 .LowLevelAccessGuide .list_explanation li\r\n,.skin-1080 .LowLevelAccessGuide .list_level .desc\r\n{\r\n    color:var(--NCCL-font-color) !important;\r\n}\r\n\r\n.skin-1080 .ia-info-data .gm-tcol-c\r\n,.skin-1080 .ia-info-data3 em\r\n,.skin-1080 .ia-info-data2 .mem-cnt-info .link_invite\r\n,.skin-1080 #member-action-data\r\n,.skin-1080 .info-action-tab .gm-tcol-t\r\n,.skin-1080 #member-action-data .prfl_info\r\n,.skin-1080 #member-action-data .grade\r\n,.skin-1080 #member-action-data .grade .txt\r\n,.skin-1080 #linked-member #lm-list .tcol-c\r\n,.skin-1080 .m-tcol-c\r\n,.skin-1080 #naver-gnb #gnb-menu .naver-h,.skin-1080 #naver-gnb #gnb-menu .m-cafe,.skin-1080 #naver-gnb #gnb-menu .join-cafe,.skin-1080 #naver-gnb #gnb-menu .chatting-cafe,.skin-1080 #naver-gnb #gnb-menu #gnb,.skin-1080 #naver-gnb #gnb-menu .gnb_name\r\n,.skin-1080 .Gnb .gnb_menu .gnb_link\r\n,.Gnb .GnbNaver #gnb a.gnb_my .gnb_name\r\n,.WritingHeader .tool_area .temp_save_area .btn_temp_save\r\n,.WritingHeader .tool_area .temp_save_area .btn_temp_count\r\n,.skin-1080 .board-notice.type_event .cmt, .skin-1080 .board-notice.type_up .cmt\r\n,.skin-1080 .article-board .board-list .head\r\n,.skin-1080 .WriterInfo .profile_info .nick_level\r\n,.skin-1080 .CommentBox .comment_option .comment_tab .comment_tab_item .comment_tab_button[aria-selected=true]\r\n,.skin-1080 .RelatedArticlesTabContainer__tab button[aria-pressed=true]\r\n,.skin-1080 .RelatedArticlesTabContainer__tab button\r\n,.skin-1080 .footer\r\n,.skin-1080 .footer .cafe_name\r\n,#theaterModeBtn\r\n,#darkModeBtn\r\n,#button_town_cafe\r\n,.skin-1080 .prev-next a\r\n,.skin-1080 .select_component .select_list li a\r\n,.skin-1080 .select_component2 .select_list li a\r\n,.skin-1080 .article-movie-sub .txt\r\n,.skin-1080 .article-movie-sub .user_info .m-tcol-c\r\n,.skin-1080 .check_box label\r\n,.skin-1080 .input_component input::placeholder\r\n,.skin-1080 .alarm_switch .alarm_txt\r\n,.skin-1080 .SaleInfo .BottomNotice\r\n,.skin-1080 .SaleInfo .BottomNotice .text_title\r\n,.skin-1080 .SaleInfo .BottomNotice .text_info\r\n,.skin-1080 .CafeViewer .se-viewer .se-module-oglink .se-oglink-summary\r\n,.skin-1080 .CafeViewer .se-viewer .se-video .se-media-meta-info-tag\r\n,.skin-1080 .list-style .total\r\n,.skin-1080 .cc_layer_mynews .cc_mynews_list .info_bottom\r\n,.skin-1080 .cafe_list .lst_mycafe li .cafe_name .second\r\n,.skin-1080 .cafe_list .lst_mycafe li .cafe_name .second\r\n,.skin-1080 .list_sub_tab .link\r\n,.skin-1080 .LowLevelAccessGuide .txt_level .level\r\n{\r\n    color:var(--NCCL-font-color-lighter) !important;\r\n}\r\n\r\n/* space */\r\n.Gnb .gnb_menu .gnb_item:after\r\n,#naver-gnb #gnb-menu .tcol-c\r\n,.footer .cafe_link:before\r\n,.RelatedArticlesTabContainer__tab button[aria-pressed=true]:after\r\n,.skin-1080 .prev-next .pgR:before\r\n{\r\n    background-color:var(--NCCL-border-color) !important;\r\n}\r\n\r\n.skin-1080 .CommentBox\r\n,.skin-1080 .ArticleContentBox\r\n,.skin-1080 .ArticleContentBox .article_header\r\n,.skin-1080 .CommentBox .comment_list .CommentItem\r\n,.skin-1080 .RelatedArticles .list_item\r\n,.skin-1080 .RelatedArticles .list_item:first-child\r\n,.skin-1080 .RelatedArticlesTabContainer__tab button[aria-pressed=true]\r\n,.skin-1080 .RelatedArticlesTabContainer__tab .tab_menu\r\n,.skin-1080 .PopularArticles .PopularCafeList .popular_list .list_item\r\n,.skin-1080 .select_component2 .select_list\r\n,.skin-1080 .select_component .select_list\r\n,.skin-1080 .article-movie-sub li\r\n,.skin-1080 .area_info_box\r\n,.skin-1080#main-area .list-tit\r\n,.skin-1080 .list-style .check_box ~ .sort_form\r\n,.skin-1080 .list-style .sort_form\r\n,.skin-1080 .com .box-w .group-mlist\r\n,.skin-1080 .info-action-tab .tit-bookmark\r\n,.skin-1080 .list_sub_tab\r\n,.skin-1080 .SaleInfo .CommercialDetail .section\r\n,.skin-1080 .PurchaseButton.PurchaseButton--bottom\r\n,.skin-1080 .ModalLayer .layer_commerce_safety_guide .deal_table\r\n,.skin-1080 .gnb_my_lyr\r\n,.skin-1080 .cafe_list .lst_mycafe\r\n,.skin-1080 .cafe_list_control\r\n,.skin-1080 .article-board tbody td\r\n,.skin-1080 .search_result .learn_more.is_selected + .search_input\r\n{\r\n    border-color:var(--NCCL-border-color);\r\n}\r\n\r\n\r\n.skin-1080 .list_sub_tab .on .link\r\n{\r\n    border-color:var(--NCCL-border-color-lightest);\r\n}\r\n\r\n/* normal */\r\nhtml\r\n, iframe\r\n,.skin-1080\r\n,.skin-1080 .layout_content\r\n,.skin-1080 #linked-member #lm-list\r\n,.skin-1080 .gate-list.border-sub\r\n,.skin-1080 .article-board thead th\r\n,.skin-1080 .article-board tbody td\r\n,.skin-1080 .search_result .search_input\r\n,.skin-1080 .prev-next\r\n,.skin-1080 .prev-next a\r\n,.skin-1080 .list-search\r\n,.NCCL_container .NCCL_description\r\n,.NCCL_container .NCCL_description .NCCL_title\r\n{\r\n    color:var(--NCCL-font-color);\r\n    background-color:var(--NCCL-background-color);\r\n    border-color:var(--NCCL-border-color);\r\n}\r\n\r\n.skin-1080 .search_result .search_input{\r\n    border:1px solid var(--NCCL-border-color);\r\n}\r\n\r\n\r\n/* lighter */\r\n.skin-1080 #cafe-info-action\r\n,.skin-1080 .info-action-tab .tit-bookmark .btn-bookmark-off\r\n,.skin-1080 #cafe-menu\r\n,.skin-1080 #cafe-menu div.cafe-menu-space\r\n,.skin-1080 .box-g-m\r\n,.skin-1080 #cafe-menu .cafe-menu-tit\r\n,.skin-1080 #cafe-menu .cafe-menu-tit .gm-tcol-t\r\n,.skin-1080 #cafe-menu .cafe-menu-list\r\n,.skin-1080 #cafe-menu .cafe-menu-list li\r\n,.skin-1080 #cafe-menu .cafe-menu-list li a\r\n,.skin-1080 #cafe-menu .cafe-menu-list h1\r\n,.skin-1080 #cafe-menu .cafe-menu-list h2\r\n,.skin-1080 #cafe-menu .cafe-menu-list h3\r\n,.skin-1080 #cafe-menu .cafe-menu-list h4\r\n,.skin-1080 #cafe-menu .cafe-menu-list h5\r\n,.skin-1080 #cafe-menu .cafe-menu-list h6\r\n,.skin-1080 .com .box-w\r\n,.skin-1080 .box_notice\r\n,.skin-1080 #special-menu\r\n,.skin-1080 .SpecialMenu\r\n,.skin-1080 .SpecialMenu .menu_list\r\n,.skin-1080 .cafe-search .inp\r\n,.skin-1080 .area_info_box\r\n,.skin-1080 #ia-info-data-emblem\r\n,.skin-1080 .ia-info-data2\r\n,.skin-1080 .info-action-tab\r\n,.skin-1080 .CommentWriter\r\n,.skin-1080 .ArticlePaginate .btn.number[aria-pressed=true]\r\n,.skin-1080 .RelatedArticles .list_item.selected\r\n,.skin-1080 .select_component\r\n,.skin-1080 .select_component .select_box\r\n,.skin-1080 .select_component .select_list li\r\n,.skin-1080 .select_component2\r\n,.skin-1080 .select_component2 .select_box\r\n,.skin-1080 .select_component2 .select_list li\r\n,.skin-1080 .input_component\r\n,.skin-1080 .input_component input\r\n,.skin-1080 .select_component .date_enter\r\n,.skin-1080 .select_component .date_enter input\r\n,.skin-1080 .btn_type1.post_write\r\n,.skin-1080 #widget-count\r\n,.alarm_switch .layer_alarm\r\n,.skin-1080 #widget-currency\r\n,.skin-1080 #widget-currency .bg-body tr:nth-child(even) th, .skin-1080 #widget-currency .bg-body tr:nth-child(even) td\r\n,.skin-1080 #widget-currency .bg-head\r\n,.skin-1080 .com .box-ww.white_box\r\n,.skin-1080 .com .box-ww\r\n,.skin-1080 .PurchaseButton .purchase_chat .btn_purchase\r\n,.skin-1080 .PurchaseButton .purchase_chat .btn_commerce_status.type_chat\r\n,.skin-1080 .PurchaseButton .purchase_chat .btn_commerce_status.type_pay\r\n,.skin-1080 .FormNoticeContent\r\n,.skin-1080 .SaleInfo .CommercialDetail .list_detail .btn_commerce\r\n,.skin-1080 .ModalLayer .layer_wrap\r\n,.skin-1080 .ModalLayer .layer_commerce_safety_guide .deal_thead\r\n,.skin-1080 .ModalLayer .layer_commerce_safety_guide .deal_td\r\n,.skin-1080 .ModalLayer .layer_commerce_safety_guide .deal_list\r\n,.skin-1080 .ModalLayer .layer_commerce_safety_guide .safety_deal_text\r\n,.skin-1080 .CafeViewer .se-viewer .se-section-oglink.se-section.se-l-large_image .se-oglink-info\r\n,.skin-1080 .CafeViewer .se-viewer .se-video .se-media-meta\r\n,.skin-1080 .se-viewer .se-module-oglink\r\n,.skin-1080 .ArticleTagList .item\r\n,.skin-1080 .CommentBox .comment_list .CommentItem--mine\r\n,.skin-1080 .CommentBox .comment_list .CommentItem.CommentItem--mine::before\r\n,.skin-1080 .gnb_my_li .gnb_my_content\r\n,.skin-1080 .gnb_my_lyr_iframe\r\n,.skin-1080 .select_component .select_list\r\n,.skin-1080 .cc_layer_mynews .cc_mynews_header\r\n,.skin-1080 .cc_layer_mynews .cc_mynews_list li\r\n,.skin-1080 .cc_layer_mynews\r\n,.skin-1080 #naver-gnb #join-cafe-iframe\r\n,.skin-1080 .cafe_list .lst_mycafe li\r\n,.skin-1080 .cafe_list .lst_mycafe li\r\n,.skin-1080 .cafe_list .sort_area\r\n,.skin-1080 .cafe_list_control\r\n,.skin-1080 .LowLevelAccessGuide .guide_box\r\n,.skin-1080 .select_component2 .select_list\r\n{\r\n    color:var(--NCCL-font-color);\r\n    background-color:var(--NCCL-background-color-lighter);\r\n    border-color:var(--NCCL-border-color);\r\n}\r\n\r\n.skin-1080 #neighbor-cafe .comm-btn-top a\r\n,.skin-1080 .ModalLayer .layer_seller_contact .contact_box\r\n,.skin-1080 #gnb .gnb_my_li .gnb_my_community a,.skin-1080  .gnb_notice_li .gnb_notice_all,.skin-1080  a.gnb_service_all, .gnb_svc_more .svc_btns\r\n,.skin-1080 #naver-gnb #gnb-menu .gnb_txt\r\n,.skin-1080 .LowLevelAccessGuide .cafe_level_info\r\n,.skin-1080 #GM_setting #GM_setting_content.useTabs #GM_tabs #GM_tabs_item_container .GM_tab_item.on\r\n{\r\n    color:var(--NCCL-font-color);\r\n    background-color:var(--NCCL-background-color-lightest) !important;\r\n    border-color:var(--NCCL-border-color) !important;\r\n}\r\n\r\n\r\n.skin-1080 #nomo_settings\r\n,.skin-1080 #nomo_settings li\r\n,.skin-1080 #GM_setting_footer\r\n{\r\n    color:var(--NCCL-font-color);\r\n    background-color:var(--NCCL-background-color) !important;\r\n    border-color:var(--NCCL-border-color);\r\n}\r\n\r\n.skin-1080 #nomo_settings #GM_setting .GM_setting_list_sub\r\n,.skin-1080 #nomo_settings #GM_setting .GM_setting_title\r\n,.skin-1080 #nomo_settings #GM_setting .GM_setting_desc\r\n,.skin-1080 #GM_setting #GM_setting_content.useTabs #GM_tabs #GM_tabs_item_container .GM_tab_item:hover\r\n{\r\n    color:var(--NCCL-font-color);\r\n    background-color:var(--NCCL-background-color-lightest) !important;\r\n    border-color:var(--NCCL-border-color) !important;\r\n}\r\n\r\n.skin-1080 #nomo_settings #GM_setting #GM_setting_content.useTabs #GM_tabs\r\n,.skin-1080 #nomo_settings #GM_setting ul\r\n,.skin-1080 #GM_setting #GM_setting_content.useTabs #GM_tabs #GM_tabs_item_container:first-child\r\n{\r\n    border-color:var(--NCCL-border-color) !important;\r\n}\r\n\r\n.skin-1080 #nomo_settings #GM_setting .GM_setting_under_dev .GM_setting_title{\r\n    color:#c9adff;\r\n}\r\n\r\n.skin-1080 #nomo_settings #GM_setting input\r\n,.skin-1080 #nomo_settings #GM_setting .btn-default\r\n,.skin-1080 #nomo_settings #GM_setting .btn-primary\r\n,.skin-1080 #nomo_settings #GM_setting .form-control\r\n{\r\n    color:var(--NCCL-font-color);\r\n    background-color:var(--NCCL-background-color-lighter);\r\n    border-color:var(--NCCL-border-color);\r\n}\r\n.skin-1080 #nomo_settings a\r\n,.skin-1080 #nomo_settings a:hover\r\n,.skin-1080 #nomo_settings a:focus{\r\n    color:var(--NCCL-font-color-lighter) !important;\r\n}\r\n#GM_setting .GM_setting_under_dev .GM_setting_title{\r\n    color:#c9adff;\r\n}\r\n.skin-1080 #GM_setting .GM_setting_item_disable\r\n,.skin-1080 #GM_setting .GM_setting_item_disable .GM_setting_title\r\n,.skin-1080 #GM_setting .GM_setting_item_disable .GM_setting_desc\r\n{\r\n    color:#747474 !important;\r\n}\r\n\r\n/* lightest */\r\n.skin-1080 .cafe-write-btn a\r\n,.skin-1080 .ia-info-btn .link_chat\r\n,.skin-1080 .box_notice .link_more\r\n,.WritingHeader .tool_area .temp_save_area .btn_temp_save\r\n,.WritingHeader .tool_area .temp_save_area .btn_temp_count\r\n,.WriterInfo .profile_info .link_talk\r\n,.BaseButton.size_default:first-child\r\n,.BaseButton.size_default\r\n,.skin-1080 .board-notice.type_event .board-tag-txt, .skin-1080 .board-notice.type_up .board-tag-txt\r\n,.skin-1080 .prev-next a.on\r\n,.skin-1080 .select_component2 .select_list li a:hover\r\n,.skin-1080 .select_component .select_list li a:hover\r\n,.skin-1080 .select_component .date_enter .btn_set\r\n,.skin-1080 #widget_company_info .link_company\r\n,.skin-1080 .cafe-search .btn\r\n,.skin-1080 #cafe-menu #favoriteMenuGroup\r\n,.skin-1080 #cafe-menu #favoriteMenuGroup li\r\n,.skin-1080 #cafe-menu #favoriteMenuGroup li a\r\n,.skin-1080 #cafe-menu .cafe-menu-tit.frst\r\n,.skin-1080 #cafe-menu .cafe-menu-tit.frst h3\r\n,.skin-1080 #cafe-menu .cafe-menu-tit.frst a\r\n,.skin-1080 .input_search_area .btn-search-green\r\n{\r\n    color:var(--NCCL-font-color);\r\n    background-color:var(--NCCL-background-color-lightest);\r\n    border-color:var(--NCCL-border-color-lightest);\r\n}\r\n\r\n/* 공지 */\r\n.skin-1080 .board-notice.type_menu .board-tag-txt\r\n,.skin-1080 .board-notice.type_required .board-tag-txt\r\n,.skin-1080 .board-notice.type_main .board-tag-txt\r\n{\r\n    background: #303030;\r\n    border-color: #404040;\r\n    color: #fff;\r\n}\r\n\r\n/* 글쓰기 */\r\n.skin-1080 .setting_area, .skin-1080 .setting_area *{\r\n    color:var(--NCCL-font-color-lighter);\r\n    background-color:var(--NCCL-background-color-lighter);\r\n    border-color:var(--NCCL-border-color-lighter);\r\n}\r\n\r\n/*emoji*/\r\n.CommentBox .comment_list .CommentItemSticker .comment_sticker_link .image\r\n,.se-viewer .se-sticker-image{\r\n    background-color:var(--NCCL-background-color-lightest);\r\n}\r\n\r\n.ArticleTool .button_comment .svg-icon\r\n,.prev-next .pgR:after\r\n,.footer .naver_cafe\r\n,.left_area .BaseButton.size_default:not(.BaseButton--skinGreen) svg.svg-icon\r\n,.right_area .BaseButton.size_default:not(.BaseButton--skinGreen) svg.svg-icon\r\n,.se-viewer .se-video .se-media-meta-toggle-button\r\n{\r\n    filter:invert(1)\r\n}\r\n\r\n.toggle_switch .switch_slider\r\n{\r\n    filter:invert(1) brightness(2.5) contrast(0.78);\r\n}\r\n\r\n#linked-member .member-reload\r\n,#linked-member .member-up\r\n{\r\n    filter:invert(1) brightness(1.2) contrast(0.7);\r\n}\r\n\r\n#naver-gnb #gnb-menu .gnb_service_li .gnb_icon\r\n,.CommentBox .comment_option .comment_tab .comment_refresh_button\r\n,.SubscribeButton .ToggleSwitch.ToggleSwitch--skinGray .switch_slider\r\n{\r\n    filter:invert(1) contrast(0.7) brightness(0.5);\r\n}\r\n\r\n.check_box input + label:before\r\n{\r\n    filter:invert(1) contrast(0.3) brightness(0.8);\r\n}\r\n\r\n.skin-1080 .article-board [class*="list-i"]\r\n,.skin-1080 #cafe-menu .cafe-menu-list .ico_new\r\n,.skin-1080 #cafe-menu .cafe-menu-tit .ico_new\r\n,.ico_new\r\n,.skin-1080 .board-notice.type_required .cmt, .skin-1080 .board-notice.type_main .cmt\r\n,.skin-1080 .article-board .board-list .cmt\r\n,.skin-1080 #naver-gnb #gnb-menu .chatting-cafe .count\r\n{\r\n    filter:grayscale(0.4);\r\n}\r\n\r\n.BaseButton--skinGreen\r\n,.skin-1080 #cafe-menu .cafe-menu-tit .ico-bookmark\r\n{\r\n    filter:grayscale(1.0);\r\n}\r\n\r\n.toggle_switch .switch_input:checked + .switch_slider{\r\n    background-color:#AAA;\r\n}\r\n.skin-1080 #cafe-menu .cafe-menu-list{\r\n    margin-top:0px;\r\n    padding-top:6px;\r\n}\r\n\r\n.naver-splugin-c svg,\r\n.button_sticker,\r\n.button_file,\r\n.btn_type1.post_write:before{\r\n    filter:brightness(10);\r\n}\r\n\r\n/*\r\n.se-media-meta-info-description::before, .se-media-meta-info-title::before{\r\n    background-color:var(--NCCL-background-color) !important;\r\n}\r\n*/\r\n',""]),e.exports=a},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,a,r){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(i)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(o[l]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);i&&o[c[0]]||(void 0!==r&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=r),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),a&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=a):c[4]="".concat(a)),t.push(c))}},t}},81:e=>{"use strict";e.exports=function(e){return e[1]}},830:(e,t)=>{"use strict";t.N=void 0;const n=/^([^\w]*)(javascript|data|vbscript)/im,i=/&#(\w+)(^\w|;)?/g,a=/&(newline|tab);/gi,r=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,o=/^.+(:|&colon;)/gim,s=[".","/"];t.N=function(e){const t=(l=e||"",l.replace(i,((e,t)=>String.fromCharCode(t)))).replace(a,"").replace(r,"").trim();var l;if(!t)return"about:blank";if(function(e){return s.indexOf(e[0])>-1}(t))return t;const d=t.match(o);if(!d)return t;const c=d[0];return n.test(c)?"about:blank":t}}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var r=t[i]={id:i,exports:{}};return e[i](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=!1;function t(){return e}function i(){if(e){for(var t=arguments,n=t.length,i=t,a=n;a>0;a--)t[a]=i[a-1];t[0]="[NCCL]  ",t.length=n+1,console.log.apply(console,t)}}function a(){if(e){for(var t=arguments,n=t.length,i=t,a=n;a>0;a--)t[a]=i[a-1];t[0]="[NCCL]  ",t.length=n+1,console.warn.apply(console,t)}}function r(){if(e){for(var t=arguments,n=t.length,i=t,a=n;a>0;a--)t[a]=i[a-1];t[0]="[NCCL]  ",t.length=n+1,console.error.apply(console,t)}}window.NOMO_DEBUG=i,window.NOMO_WARN=a,window.NOMO_ERROR=r;!function(e,t,n){function i(e,t,n){o.addMethod(t,n,e.unbindEvent),o.addMethod(t,n,e.unbindEventWithSelectorOrCallback),o.addMethod(t,n,e.unbindEventWithSelectorAndCallback)}function a(e){e.arrive=d.bindEvent,i(d,e,"unbindArrive"),e.leave=c.bindEvent,i(c,e,"unbindLeave")}if(e.MutationObserver&&"undefined"!=typeof HTMLElement){var r=0,o=function(){var t=HTMLElement.prototype.matches||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector;return{matchesSelector:function(e,n){return e instanceof HTMLElement&&t.call(e,n)},addMethod:function(e,t,i){var a=e[t];e[t]=function(){return i.length==arguments.length?i.apply(this,arguments):"function"==typeof a?a.apply(this,arguments):n}},callCallbacks:function(e,t){t&&t.options.onceOnly&&1==t.firedElems.length&&(e=[e[0]]);for(var n,i=0;n=e[i];i++)n&&n.callback&&n.callback.call(n.elem,n.elem);t&&t.options.onceOnly&&1==t.firedElems.length&&t.me.unbindEventWithSelectorAndCallback.call(t.target,t.selector,t.callback)},checkChildNodesRecursively:function(e,t,n,i){for(var a,r=0;a=e[r];r++)n(a,t,i)&&i.push({callback:t.callback,elem:a}),a.childNodes.length>0&&o.checkChildNodesRecursively(a.childNodes,t,n,i)},mergeArrays:function(e,t){var n,i={};for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);return i},toElementsArray:function(t){return n===t||"number"==typeof t.length&&t!==e||(t=[t]),t}}}(),s=function(){var e=function(){this._eventsBucket=[],this._beforeAdding=null,this._beforeRemoving=null};return e.prototype.addEvent=function(e,t,n,i){var a={target:e,selector:t,options:n,callback:i,firedElems:[]};return this._beforeAdding&&this._beforeAdding(a),this._eventsBucket.push(a),a},e.prototype.removeEvent=function(e){for(var t,n=this._eventsBucket.length-1;t=this._eventsBucket[n];n--)if(e(t)){this._beforeRemoving&&this._beforeRemoving(t);var i=this._eventsBucket.splice(n,1);i&&i.length&&(i[0].callback=null)}},e.prototype.beforeAdding=function(e){this._beforeAdding=e},e.prototype.beforeRemoving=function(e){this._beforeRemoving=e},e}(),l=function(t,i){var a=new s,r=this,l={fireOnAttributesModification:!1};return a.beforeAdding((function(n){var a,o=n.target;(o===e.document||o===e)&&(o=document.getElementsByTagName("html")[0]),a=new MutationObserver((function(e){i.call(this,e,n)}));var s=t(n.options);a.observe(o,s),n.observer=a,n.me=r})),a.beforeRemoving((function(e){e.observer.disconnect()})),this.bindEvent=function(e,t,n){t=o.mergeArrays(l,t);for(var i=o.toElementsArray(this),r=0;r<i.length;r++)a.addEvent(i[r],e,t,n)},this.unbindEvent=function(){var e=o.toElementsArray(this);a.removeEvent((function(t){for(var i=0;i<e.length;i++)if(this===n||t.target===e[i])return!0;return!1}))},this.unbindEventWithSelectorOrCallback=function(e){var t,i=o.toElementsArray(this),r=e;t="function"==typeof e?function(e){for(var t=0;t<i.length;t++)if((this===n||e.target===i[t])&&e.callback===r)return!0;return!1}:function(t){for(var a=0;a<i.length;a++)if((this===n||t.target===i[a])&&t.selector===e)return!0;return!1},a.removeEvent(t)},this.unbindEventWithSelectorAndCallback=function(e,t){var i=o.toElementsArray(this);a.removeEvent((function(a){for(var r=0;r<i.length;r++)if((this===n||a.target===i[r])&&a.selector===e&&a.callback===t)return!0;return!1}))},this},d=new function(){function e(e,t){return!(!o.matchesSelector(e,t.selector)||(e._id===n&&(e._id=r++),-1!=t.firedElems.indexOf(e._id)))&&(t.firedElems.push(e._id),!0)}var t={fireOnAttributesModification:!1,onceOnly:!1,existing:!1};d=new l((function(e){var t={attributes:!1,childList:!0,subtree:!0};return e.fireOnAttributesModification&&(t.attributes=!0),t}),(function(t,n){t.forEach((function(t){var i=t.addedNodes,a=t.target,r=[];null!==i&&i.length>0?o.checkChildNodesRecursively(i,n,e,r):"attributes"===t.type&&e(a,n)&&r.push({callback:n.callback,elem:a}),o.callCallbacks(r,n)}))}));var i=d.bindEvent;return d.bindEvent=function(e,a,r){n===r?(r=a,a=t):a=o.mergeArrays(t,a);var s=o.toElementsArray(this);if(a.existing){for(var l=[],d=0;d<s.length;d++)for(var c=s[d].querySelectorAll(e),p=0;p<c.length;p++)l.push({callback:r,elem:c[p]});if(a.onceOnly&&l.length)return r.call(l[0].elem,l[0].elem);setTimeout(o.callCallbacks,1,l)}i.call(this,e,a,r)},d},c=new function(){function e(e,t){return o.matchesSelector(e,t.selector)}var t={};c=new l((function(){return{childList:!0,subtree:!0}}),(function(t,n){t.forEach((function(t){var i=t.removedNodes,a=[];null!==i&&i.length>0&&o.checkChildNodesRecursively(i,n,e,a),o.callCallbacks(a,n)}))}));var i=c.bindEvent;return c.bindEvent=function(e,a,r){n===r?(r=a,a=t):a=o.mergeArrays(t,a),i.call(this,e,a,r)},c};t&&a(t.fn),a(HTMLElement.prototype),a(NodeList.prototype),a(HTMLCollection.prototype),a(HTMLDocument.prototype),a(Window.prototype);var p={};i(d,p,"unbindAllArrive"),i(c,p,"unbindAllLeave")}}(window,"undefined"==typeof jQuery?null:jQuery,void 0);var o=function(e,t,n){var i,a="",r="",s=void 0,l="",d=[],c={},p={},u={},h=!1,_={},m={},g={},f=!1,v={$container:void 0,$GM_setting_head:void 0,$GM_setting_content:void 0,$GM_homepage_link:void 0,$GM_multilang:void 0,$ul:void 0,$inputs:void 0,$lis:{},$tabs:void 0},y={},b=!1,G=function(){if(b){for(var e=arguments,t=e.length,n=e,i=t;i>0;i--)e[i]=n[i-1];e[0]="+[GM_SETTINGS]  ",e.length=t+1,console.log.apply(console,e)}},w=(navigator.language||navigator.userLanguage).toLowerCase().substring(0,2),k=w,C="ko",x=!1;const M={en:{title_settings:"Settings",title_reset:"Reset",donate:"Donate",buymeacoffee:"Buy me a coffee",buymeacoffeeDesc:"Support my projects by buying me a coffee! ☕",toonation:"Toonation",button_reset_settings:"Reset Settings",confirm_reset_settings:"Are you sure you want to reset the settings?",complete_reset_settings:"Settings reset complete!",button_reset_settings_all:"Script reset (refresh is required)",confirm_reset_settings_all:"Do you really want to reset script?",complete_reset_settings_all:"Script initialization complete!",auto_saved:"Autosaved: ",err_val_req:"A value must be entered.",err_num_req:"Only numbers can be entered.",err_num_over:"The input value must be a number greater than or equal to : ",err_num_not_more_than:"The input value must be a number less than or equal to: ",err_valid_array_string:"Only English letters, numbers, commas (,) and underscores (_) can be entered.",err_value_empty:"Something for which no value exists, such as an empty value.",err_value_dup:"Duplicate value exists: ",err_value_blank:"There is an item of a space in the string: ",setting_changed_from_other_window:"설정이 다른 창에서 변경되어 다시 불러옵니다.",sendFeedback:"Send Feedback"},ko:{title_settings:"Settings",title_reset:"Reset",donate:"Happy?",buymeacoffee:"Buy me a coffee 로 커피 한 잔 사주기",buymeacoffeeDesc:"커피 한 잔☕ 으로 프로젝트를 지원해주세요~",toonation:"Toonation 으로 후원하기",button_reset_settings:"Reset Settings",confirm_reset_settings:"진짜 설정을 초기화 할까요?",complete_reset_settings:"설정 초기화 완료!",button_reset_settings_all:"전체 초기화(새로고침 필요)",confirm_reset_settings_all:"진짜 스크립트를 모두 초기화 할까요?",complete_reset_settings_all:"스크립트 초기화 완료!",auto_saved:"자동 저장 됨: ",err_val_req:"반드시 값이 입력되어야 합니다.",err_num_req:"숫자만 입력 가능합니다.",err_num_over:"입력 값은 다음 값 이상의 숫자이어야 합니다. : ",err_num_not_more_than:"입력 값은 다음 값 이하의 숫자이어야 합니다. : ",err_valid_array_string:"영문, 숫자, 콤마(,), 언더바(_) 만 입력 가능합니다.",err_value_empty:"공백 값 등 값이 존재하지 않는 항목이 존재합니다.",err_value_dup:"중복된 값이 존재합니다: ",err_value_blank:"문자열 내 공백이 존재하는 항목이 있습니다: ",setting_changed_from_other_window:"설정이 다른 창에서 변경되어 다시 불러옵니다: ",sendFeedback:"피드백 보내기"}};var L=function(e){var t="";if("object"==typeof e){var n=Object.keys(e);if(0===n.length)return t;t=void 0!==e[k]||void 0!==e[C]?e[k]:e[n[0]]}else t=e;return t},T=function(e){return void 0!==M[k]?M[k][e]:void 0!==M[C]?M[C][e]:""},N=async function(){G("load_"),""!==l&&(u=await GM.getValue(l,u)),u.Lang=await $(),t[l]=u},S=async function(){G("save_"),""!==l&&await GM.setValue(l,u),t[l]=u,e.each(d,(function(e,t){void 0!==p[t]&&void 0!==p[t].change&&p[t].change(u[t])})),d=[]},$=async function(){return k=await GM.getValue(l+"_LANG",w),G("loadLang_",k),k},A=async function(){if(g=await GM.getValue(l+"_CONFIG"),G("loadConfig_",g),!g){G("NO CONFIG, CREATE NEW DARA");let e=GM.info.script.version,t=e.split(".");for(let e=0;e<t.length;e++)t[e]=Number(t[e]);g={latestVersionAry:t,latestVersion:e,lastVersionCheckDate:void 0,lastCheckedVersion:void 0},await E()}return g},E=async function(){await GM.setValue(l+"_CONFIG",g),G("saveConfig_",g)},O=async function(){await A();let e=GM.info.script.version;if(m=K(g),g.latestVersion!==e){let t=g.latestVersion.split("."),n=e.split(".");if(t.length===n.length)for(let e=0;e<n.length;e++){if(n[e]=Number(n[e]),t[e]=Number(t[e]),n[e]>t[e]){f=!0;break}if(n[e]<t[e])break}g.latestVersionAry=n,g.latestVersion=e,await E()}f&&G(`SCRIPT UPDATED - ${m.latestVersion} -> ${g.latestVersion}`)},I=function(t,n,i){t.empty(),t.empty();for(var a=0;a<i.length;a++){for(var r=e("<tr></tr>"),o=0;o<i[a].length;o++)0==o&&r.append(`<td>${a+1}</td>`),r.append(`<td>${i[a][o]}</td>`);r.append(`<td class="table_btn_container"><span title="Modify" alt="Modify" class="glyphicon glyphicon-pencil cp table_modify" GM_setting_key="${n}"></span><span title="Save" alt="Save" style="display:none;" class="glyphicon glyphicon-floppy-disk cp table_save" GM_setting_key="${n}"></span></td>`),r.append(`<td class="table_btn_container"><span title="Delete" alt="Delete" class="glyphicon glyphicon-trash cp table_delete" GM_setting_key="${n}"></span><span title="Cancel" alt="Cancel" style="display:none;" class="glyphicon glyphicon-remove cp table_cancel" GM_setting_key="${n}"></span></td>`),t.append(r)}for(var s=e("<tr></tr>"),l=0;l<p[n].head.length;l++)0==l&&s.append("<td></td>"),s.append("<td></td>");s.append(`<td class="table_btn_container"><span title="New" alt="New" class="glyphicon glyphicon-plus cp table_new" GM_setting_key="${n}"></span><span title="Save" alt="Save" style="display:none;" class="glyphicon glyphicon-floppy-disk cp table_new_save" GM_setting_key="${n}"></span></td>`),s.append(`<td class="table_btn_container"><span title="Cancel" alt="Cancel" style="display:none;" class="glyphicon glyphicon-remove cp table_new_cancel" GM_setting_key="${n}"></span></td>`),t.append(s)},B=function(t){var n,i,a=p[t].category,r=(p[t].depth,p[t].type),o=L(p[t].category_name),s=L(p[t].category_desc),l=(p[t].under_dev,p[t].radio_enable_value),d=L(p[t].title),c=L(p[t].desc),u=e("<div class='GM_setting_input_container'></div>"),h=-1!==e.inArray(r,["tag","textarea","object"]);switch(r){case"radio":var _=p[t].radio;for(var m in n=e("<div class='' GM_setting_type='radio'></div>"),_){var g=e("<div class='form-check radio-inline'></div>"),f=e("<label class='form-check-label'>"+L(_[m].title)+"</label>"),b=e("<input name='GM_setting_"+t+"' class='form-check-input' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' onfocus='this.blur()' />").attr({GM_setting_key:t,value:_[m].value,type:"set"===r?"text"===r:"tag"===r?"textarea":r});g.append(b).append(f),n.append(g)}break;case"combobox":var G=p[t].options;for(var w in n=e(`<select name="GM_setting_${t}" class='form-select form-select-sm'></select>`).attr({GM_setting_type:r,GM_setting_key:t,GM_setting_category:void 0===a?"default":a,GM_setting_radio_enable_value:void 0===l?"none":l}),G){var k=e(`<option spellcheck='false' value="${w}" onfocus='this.blur()'>${L(G[w].title)}</option>`);n.append(k)}break;case"table":var C=(n=e(`<table name="GM_setting_${t}" class="table table-bordered table-striped table-hover"><thead><tr></tr></thead><tbody></tbody></table>`).attr({GM_setting_key:t})).find("thead tr");C.append("<th>#</th>");for(var x=0;x<p[t].head.length;x++)C.append(`<th>${p[t].head[x]}</th>`);C.append('<th class="table_btn_container"> </th>'),C.append('<th class="table_btn_container"> </th>');break;case"text":n=e("<input class='form-control form-control-sm' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' />\")}").attr({type:"text",GM_setting_key:t});break;default:n=e(`<${h?"textarea ":"input "} class='form-check-input' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' ${"checkbox"===r?"onfocus='this.blur()'":""}${h?"></textarea>":" />"}`).attr({type:"set"===r?"text"===r:"tag"===r?"textarea":r,GM_setting_key:t})}i=e(void 0!==o?void 0!==s?`<div class='GM_setting_category_name'>${o}</div><div class='GM_setting_category_desc'>${s}</div>`:`<div class='GM_setting_category_name'>${o}</div>`:"<div class='GM_setting_category_blank'></div>");var M=e("<div class='GM_setting_list_sub'></div>"),T=e("<div class='GM_setting_list_head'></div>"),N=e(`<span class='GM_setting_title'>${d}</span>`),S=e(`<span class='GM_setting_desc'>${c}</span>`);T.append(N).append(S),"checkbox"===r?(u.append(n),u.addClass("form-check form-switch"),n.attr("role","switch"),n.on("change",(function(){e(this).is(":checked")?e(this).closest("label").addClass("active"):e(this).closest("label").removeClass("active"),e(this).is(":disabled")?e(this).closest("label").addClass("disable").prop("disabled",!0):e(this).closest("label").removeClass("disable").prop("disabled",!1)}))):u.append(n),M.append(T).append(u),v.$lis[t].empty().append(i).append(M),y[t]=n,void 0!==p[t].append&&u.append(p[t].append)},P=function(t){G("createlayout_ | $g_elem = ",t),y={},(i=e(t)).empty(),v.$container=e("<div id='GM_setting'></div>"),v.$GM_setting_content=e("<div id='GM_setting_content'></div>"),v.$ul=e("<ul></ul>"),v.$GM_setting_head=e("<div id='GM_setting_head'></div>");let n,d="";try{n=GM.info.script.updateURL||GM.info.script.downloadURL,d=GM.info.script.version}catch(e){n=void 0,d="알 수 없음"}if(G("versionUpdateUrl",n),h){v.$tabs=e("<div id='GM_tabs'></div>"),v.$tabs_item_container=e("<div id='GM_tabs_item_container'></div>"),v.$tabs_item_container.append('<div class="GM_tab_item on" gm_setting_key="all">전체 보기</div>'),v.$tabs_item_container.append('<div class="GM_tab_item" gm_setting_key="version">버전</div>');for(let e in _)v.$tabs_item_container.append(`<div class="GM_tab_item" gm_setting_key="${e}">${_[e].title}</div>`);v.$tabs.append(v.$tabs_item_container),v.$GM_setting_content.append(v.$tabs),v.$GM_setting_content.addClass("useTabs"),v.$tabs_item_container.on("click",".GM_tab_item",(function(t){v.$tabs_item_container.find(".GM_tab_item").removeClass("on"),e(t.target).addClass("on");let n=e(t.target).attr("gm_setting_key");if("all"===n)i.animate({scrollTop:0},100);else{unsafeWindow.$=e;let t=v.$ul.find(`li[gm_setting_category="${n}"]`).get(0).offsetTop-i.get(0).offsetTop-2;i.animate({scrollTop:t},100)}})),i.on("scroll",(function(){let t=i.scrollTop();G("currentScrollTop",t),e(".GM_setting_category").each((function(){let t=e(this);G("$elem.position().top",t.position().top),t.position().top<=0&&t.position().top+t.height()>0&&(v.$tabs_item_container.find(".GM_tab_item").removeClass("on"),v.$tabs_item_container.find(`.GM_tab_item[gm_setting_key='${t.attr("gm_setting_category")}']`).addClass("on"))}))}))}v.$GM_setting_content.append(v.$ul),i.append(v.$container),v.$container.append(v.$GM_setting_head).append(v.$GM_setting_content),v.$GM_homepage_link=e(`<div class='GM_homepage_link' style='display:none;'><a href='${GM.info.script.homepage}' target='_blank'>${GM.info.script.name} v${GM.info.script.version} (${GM.info.script.homepage})</a></div>`),void 0!==GM.info&&null!==GM.info&&void 0!==GM.info.script&&null!==GM.info.script&&void 0!==GM.info.script.homepage&&null!==GM.info.script.homepage&&""!==GM.info.script.homepage&&v.$GM_homepage_link.show(),v.$GM_multilang_select=e('<select id=\'GM_multilang_select\' class="form-control input-sm"><option value="ko">한국어</option><option value="en">English</option></select>'),v.$GM_multilang=e("<div class='GM_multilang' style='display:none'></div>").append(v.$GM_multilang_select),x&&(v.$GM_multilang.show(),v.$GM_multilang_select.val(k),v.$GM_multilang_select.on("change",(async t=>{var n=k;e("option:selected",this);k=this.value,G(`LANG VALUE CHANGED FROM ${n} TO ${k}`),await async function(e){null==e?(await GM.setValue(l+"_LANG",k),G("saveLang_",k)):(await GM.setValue(l+"_LANG",e),G("saveLang_",e))}(),null!=s?(e(s).empty(),P(s)):G("NO CREATED LAYOUT")}))),v.$GM_setting_head.append("<div class='GM_setting_logo'>Settings</div>").append(e("<div class='GM_setting_menu_right'></div>").append(v.$GM_homepage_link).append(v.$GM_multilang));for(let t in p){var c=p[t].category,m=p[t].depth,f=p[t].type,w=L(p[t].category_name),C=p[t].under_dev,M=p[t].debug,N=p[t].radio_enable_value,$=p[t].tab;v.$lis[t]=e("<li></li>"),v.$ul.append(v.$lis[t]),v.$lis[t].attr({GM_setting_type:f,GM_setting_key:t,GM_setting_depth:m,GM_setting_category:void 0===c?"default":c,GM_setting_radio_enable_value:void 0===N?"none":N,GM_setting_tab:void 0===$?"default":$}),v.$lis[t].addClass(`GM_setting_depth${m}`),void 0!==N&&v.$lis[t].attr("GM_setting_radio_enable_value",p[t].radio_enable_value),C&&v.$lis[t].addClass("GM_setting_under_dev"),M&&v.$lis[t].addClass("GM_setting_debug"),void 0!==w&&v.$lis[t].addClass("GM_setting_category"),C&&!u.under_dev&&v.$lis[t].css({display:"none",opacity:"0"}),M&&!b&&v.$lis[t].css({display:"none",opacity:"0"}),B(t)}if(q(),W(),i.find("input[type='checkbox']").on("click",(function(){W()})),i.find("input[type='radio']").on("click",(function(){W()})),v.$container.on("click",".table_modify",(function(t){G("clicked table_modify btn");var n=e(t.target),i=n.closest("tbody"),a=n.closest("tr");i.find(".table_modify").hide(),i.find(".table_delete").hide(),i.find(".table_new").hide(),i.find(".table_save").hide(),i.find(".table_cancel").hide(),a.find(".table_save").show(),a.find(".table_cancel").show();for(var r=a.find("td"),o=0;o<r.length-2;o++)if(0!=o){var s=e(r[o]),l=s.text();s.html(`<input type="text" value="${l}" orivalue="${l}"></input>`)}})),v.$container.on("click",".table_save",(async function(t){G("clicked table_save btn");for(var n=e(t.target),a=n.closest("tr"),r=a.find("input"),o=Number(a.find("td").first().text())-1,s=n.attr("GM_setting_key"),l=0;l<r.length;l++)u[s][o][l]=e(r[l]).val();await S(),V(T("auto_saved")+(new Date).toLocaleTimeString(),i);var d=n.closest("tbody"),c=u[s];I(d,s,c)})),v.$container.on("click",".table_cancel",(function(t){G("clicked table_cancel btn");var n=e(t.target),i=n.attr("GM_setting_key"),a=n.closest("tbody"),r=u[i];I(a,i,r)})),v.$container.on("click",".table_delete",(async function(t){G("clicked table_delete btn");var n=e(t.target);if(confirm("Delete?")){var a=n.closest("tr"),r=Number(a.find("td").first().text())-1;a.remove();var o=n.attr("GM_setting_key");u[o].splice(r,1),await S();var s=n.closest("tbody"),l=u[o];I(s,o,l),V(T("auto_saved")+(new Date).toLocaleTimeString(),i)}})),v.$container.on("click",".table_new",(function(t){G("clicked table_new btn");var n=e(t.target),i=n.closest("tbody");i.find(".table_modify").hide(),i.find(".table_delete").hide(),i.find(".table_new").hide(),i.find(".table_new_save").show(),i.find(".table_new_cancel").show();for(var a=n.closest("tr").find("td"),r=0;r<a.length-2;r++){if(0!=r)e(a[r]).html('<input type="text" value=""></input>')}})),v.$container.on("click",".table_new_save",(async function(t){G("clicked table_new_save btn");for(var n=e(t.target),a=n.closest("tr").find("input"),r=[],o=0;o<a.length;o++)r.push(e(a[o]).val());var s=n.attr("GM_setting_key");u[s].push(r),await S(),V(T("auto_saved")+(new Date).toLocaleTimeString(),i);var l=n.closest("tbody"),d=u[s];I(l,s,d)})),v.$container.on("click",".table_new_cancel",(function(t){G("clicked table_new_cancel btn");var n=e(t.target).attr("GM_setting_key"),i=e(t.target).closest("tbody"),a=u[n];I(i,n,a)})),v.$container.find("select").on("change",(function(){G("GM_setting - select change"),Q(e(this),i,y)})),v.$container.find("input, textarea").on("input",(function(){G("GM_setting - text change"),Q(e(this),i,y)})),r&&n){v.$version=e(`<li class="GM_setting_category GM_setting_depth1" gm_setting_category="version">\n            <div class="GM_setting_category_name">버전</div>\n            <div class="GM_setting_category_desc"></div>\n            <div class="GM_setting_list_sub">\n                <div class="GM_setting_list_head">\n                    <span class="GM_setting_title">\n                    <span class="currentVersion">현재 버전: ${d}</span>\n                    <span class="availableVersion"></span>\n                    </span>\n                    <span class="GM_setting_desc">\n                        <div class="lastVersionCheckedDate"></div>\n                        <div class="v_download" style="display:none;margin-top:5px;">\n                            <a href="${n}" style="color:#fff;text-decoration:none;" target="_blank">\n                                <button type="button" class="btn btn-primary">\n                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">\n                                        <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>\n                                        <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>\n                                    </svg>\n                                    <span class="GM_setting_version_check_text">지금 설치!</span>\n                                </button>\n                            </a>\n                        </div>\n                    </span>\n                </div>\n                <div class="GM_setting_input_container">\n                    <div class="GM_setting_version_reflesh_btn GM_setting_version_reflesh">\n                        <div class="GM_btn_sub_vv v_reflesh">\n                            <button type="button" class="btn btn-primary">\n                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-repeat" viewBox="0 0 16 16">\n                                    <path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"/>\n                                    <path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"/>\n                                </svg>\n                                <span class="GM_setting_version_check_text">버전 확인하기</span>\n                            </button>\n                        </div>\n                        <div class="GM_btn_sub_vv v_loading" style="display:none;">\n                            <button type="button" class="btn btn-primary">\n                                <span class="GM_setting_version_check_text">확인 중...</span>\n                            </button>\n                        </div>\n                        <div class="GM_btn_sub_vv v_checked" style="display:none;">\n                            <button type="button" class="btn btn-primary" style="cursor:default;">\n                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle-fill" viewBox="0 0 16 16">\n                                    <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>\n                                </svg>\n                                <span class="GM_setting_version_check_text">이미 최신 버전입니다!</span>\n                            </button>\n                        </div>\n                        <div class="GM_btn_sub_vv v_updateAvailable" style="display:none;">\n                            <a href="${n}" style="color:#fff;text-decoration:none;" target="_blank">\n                                <button type="button" class="btn btn-primary">\n                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle-fill" viewBox="0 0 16 16">\n                                        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>\n                                    </svg>\n                                    <span class="GM_setting_version_check_text">업데이트 가능</span>\n                                </button>\n                            </a>\n                        </div>\n                        <div class="GM_btn_sub_vv v_fail" style="display:none;">\n                            <button type="button" class="btn btn-primary" style="cursor:default;">\n                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">\n                                    <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"/>\n                                </svg>\n                                <span class="GM_setting_version_check_text">확인 실패</span>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            </li>\n            `),v.$ul.prepend(v.$version);let t=function(e){if(g.lastCheckedVersion&&v.$version.find(".availableVersion").html(`<span style='color:#ddd;user-select:none;'> | </span>마지막으로 확인된 버전: ${g.lastCheckedVersion}`),g.lastCheckedVersion){let t=GM.info.script.version.split("."),n=!1,i=g.lastCheckedVersion.split(".");for(let e=0;e<t.length;e++){if(Number(i[e])>Number(t[e])){n=!0;break}if(Number(i[e])<Number(t[e])){n=!1;break}}v.$version.find(".GM_setting_list_sub").removeClass("bg_lightgreen"),2==e&&v.$version.find(".GM_btn_sub_vv").hide(),n?(v.$version.find(".v_download").show(),2==e&&v.$version.find(".v_updateAvailable").show(),v.$version.find(".GM_setting_list_sub").addClass("bg_lightgreen"),v.$version.find(".availableVersion").html(`<span style='color:#ddd;user-select:none;'> | </span><svg style="vertical-align: baseline;color: mediumseagreen;margin: 0 2px 0 0;" xmlns="http://www.w3.org/2000/svg" width="11" height="11" fill="currentColor" class="bi bi-check-circle-fill" viewBox="0 0 16 16">\n                        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>\n                      </svg><strong>업데이트를 설치할 준비가 완료됨: ${g.lastCheckedVersion}</string>`)):1==e?v.$version.find(".v_reflesh").show():2==e&&v.$version.find(".v_checked").show()}else 2==e&&v.$version.find(".GM_btn_sub_vv").hide(),v.$version.find(".v_reflesh").show();let t="";if(g.lastVersionCheckDate){const e=new Date(g.lastVersionCheckDate),n={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};t=new Intl.DateTimeFormat(void 0,n).format(e)}v.$version.find(".lastVersionCheckedDate").text(`마지막으로 확인한 날짜: ${g.lastVersionCheckDate?t:"없음"}`)};t(1),v.$container.on("click",".GM_setting_version_reflesh",(async function(n){e(this);e(this).removeClass("GM_setting_version_reflesh"),v.$version.find(".GM_btn_sub_vv").hide(),v.$version.find(".v_download").hide(),v.$version.find(".v_loading").show(),e(this).css("cursor","default"),async function(e,t,n){try{G("versionCheck_",e);const i=await fetch(e);if(!i.ok)return G("check version error, response is not ok.",i),void n();G("response",i);const a=await i.json();if(G("jsonData",a),void 0!==t&&a&&a.version)await A(),g.lastVersionCheckDate=Number(new Date),g.lastCheckedVersion=a.version,await E(),G("version check",g),t(a.version)}catch(e){if(G("check version error.",e),void 0!==n)return void n()}}(r,(function(){t(2)}),(function(){}))}))}v.$ul.append(`<li class="GM_setting_category GM_setting_depth1" gm_setting_category="advanced">\n            <div class="GM_setting_category_name">${T("title_reset")}</div>\n            <div class="GM_setting_category_desc"></div>\n            <div class="GM_setting_list_sub">\n                <div class="GM_setting_list_head">\n                    <span class="GM_setting_title">\n                        <span class="GM_setting_reset btn btn-primary" style="margin-left:0;">${T("button_reset_settings")}</span>\n                        \x3c!--<span class="GM_setting_reset_all btn btn-primary">button_reset_settings_all</span>--\x3e\n                    </span>\n                    <span class="GM_setting_desc"></span>\n                </div>\n                <div class="GM_setting_input_container">\n                </div>\n            </div>\n        </li>`),v.$ul.find(".GM_setting_reset").on("click",(async function(){confirm(T("confirm_reset_settings"))&&(await o.reset(),o.createlayout(i),V(T("complete_reset_settings")+(new Date).toLocaleTimeString(),i))})),v.$ul.find(".GM_setting_reset_all").on("click",(async function(){if(confirm(T("confirm_reset_settings_all"))){for(var e=await GM.listValues(),t=0;t<e.length;t++){var n=e[t];await GM.deleteValue(n)}await o.reset(),o.createlayout(i),V(T("complete_reset_settings_all")+(new Date).toLocaleTimeString(),i)}})),v.$ul.append(`<li class="GM_setting_category GM_setting_depth1" gm_setting_category="advanced">\n        <div class="GM_setting_category_name">${T("donate")}</div>\n        <div class="GM_setting_category_desc"></div>\n        <div class="GM_setting_list_sub">\n            <div class="GM_setting_list_head">\n                <span class="GM_setting_title">\n                    ${T("buymeacoffee")}\n                </span>\n                <span class="GM_setting_desc">\n                    ${T("buymeacoffeeDesc")}\n                </span>\n            </div>\n            <div class="GM_setting_input_container form-group">\n            <a href="https://www.buymeacoffee.com/nomomo" target="_blank"><img src="https://cdn.buymeacoffee.com/buttons/default-yellow.png" alt="Buy Me A Coffee" height="41" width="174"></a>\n            </div>\n        </div>\n        </li>\n        `),a&&v.$ul.append(`<li class="GM_setting_depth1" gm_setting_category="advanced">\n            <div class="GM_setting_category_blank"></div>\n            <div class="GM_setting_list_sub">\n                <div class="GM_setting_list_head">\n                    <span class="GM_setting_title">\n                        <a href="${a}" target="_blank"><span class="GM_setting_reset btn btn-primary" style="margin-left:0;">${T("sendFeedback")}</span></a>\n                    </span>\n                    <span class="GM_setting_desc">\n                    </span>\n                </div>\n                <div class="GM_setting_input_container form-group">\n                </div>\n            </div>\n            </li>\n            `),v.$GM_setting_content.after(`\n        <div id="GM_setting_footer">\n            <a href="${GM.info.script.homepage}" target="_blank">${GM.info.script.name}</a> v${GM.info.script.version}\n            <div class="footer_divider"></div> <span class="GM_Setting_Debug_Toggle">GM Setting v23.9.6</span>\n            <div class="footer_divider"></div> ©2017-${(new Date).getFullYear()} <a href="https://nomo.asia/" target="_blank">NOMO</a></div>\n        `);var O=0,D=void 0;v.$container.on("click","span.GM_Setting_Debug_Toggle",(async function(){if(clearTimeout(D),(O+=1)>4)return O=0,b=!b,await GM.setValue("DEBUG",b),V(`DEBUG MODE : "${b?"ON":"OFF"}"`,i),void(b?v.$ul.find(".GM_setting_debug").css("opacity",0).slideDown("fast").animate({opacity:1},{queue:!1,duration:"fast"}):v.$ul.find(".GM_setting_debug").css("opacity",1).slideUp("fast").animate({opacity:0},{queue:!1,duration:"fast"}));D=setTimeout((function(){O=0}),1e3)}))},D=void 0,V=function(t,n){if(void 0!==n){var i="GM_setting_autosaved";n.find("."+i).animate({bottom:"+=40px"},{duration:300,queue:!1}),e("<div style='animation: glow .5s 10 alternate; position:fixed; left:10px; bottom:20px; z-index:10000000;' class='"+i+" btn btn-success'>"+t+"</div>").appendTo(n).fadeIn("fast").animate({opacity:1},6e3,(function(){e(this).fadeOut("fast").delay(600).remove()})).animate({left:"+=30px"},{duration:300,queue:!1})}},z=async function(t){if(!(p[t].autosavepass&&void 0!==u[t]||"table"===u[t].type)){var n=Y(t);"tag"===p[t].type&&(1===(n=n.split(",")).length&&""===n[0]&&(n=[]),e.each(n,(function(e,t){n[e]=t.replace(/^\s*|\s*$/g,"")}))),u[t]!==n&&-1===d.indexOf(t)&&d.push(t),u[t]=n}},U=async function(e){if(G("read_"),void 0===e)for(var t in y)await z(t);else await z(e)},R=function(e){F(e,y[e],u[e])},q=function(e){if(G("write_"),void 0===e)for(let e in y)R(e);else R(e)},Y=function(t){var n,i=y[t];switch(p[t].type){case"checkbox":n=i.prop("checked");break;case"set":case"text":case"tag":case"textarea":n=i.val();break;case"object":n=JSON.parse(i.val());break;case"radio":n=i.find("input:checked").val();break;case"combobox":n=i.find("option:selected").val();break;case"table":n=[];for(var a=i.find("tbody").find("tr"),r=0;r<a.length-1;r++){n.push([]);for(var o=e(a[r]).find("td"),s=0;s<o.length-2;s++)if(0!==s){var l=e(o[s]).text();n[r][s-1]=l}}break;default:n=void 0}return n},F=function(t,n,i){switch(p[t].type){case"checkbox":n.prop("checked",i).trigger("change");break;case"set":case"text":n.val(i);break;case"tag":case"textarea":n.val(i),n.height("auto"),n.height(String(Number(n.prop("scrollHeight"))+0)+"px");break;case"object":n.val(JSON.stringify(i)),n.height("auto"),n.height(String(Number(n.prop("scrollHeight"))+0)+"px");break;case"radio":n.find("input[value="+i+"]").prop("checked",!0);break;case"combobox":n.find("option[value="+i+"]").prop("selected",!0);break;case"table":var a=n.find("tbody");a.empty();for(var r=0;r<i.length;r++){for(var o=e("<tr></tr>"),s=0;s<i[r].length;s++)0==s&&o.append(`<td>${r+1}</td>`),o.append(`<td>${i[r][s]}</td>`);o.append(`<td class="table_btn_container"><span title="Modify" alt="Modify" class="glyphicon glyphicon-pencil cp table_modify" GM_setting_key="${t}"></span><span title="Save" alt="Save" style="display:none;" class="glyphicon glyphicon-floppy-disk cp table_save" GM_setting_key="${t}"></span></td>`),o.append(`<td class="table_btn_container"><span title="Delete" alt="Delete" class="glyphicon glyphicon-trash cp table_delete" GM_setting_key="${t}"></span><span title="Cancel" alt="Cancel" style="display:none;" class="glyphicon glyphicon-remove cp table_cancel" GM_setting_key="${t}"></span></td>`),a.append(o)}for(var l=e("<tr></tr>"),d=0;d<p[t].head.length;d++)0==d&&l.append("<td></td>"),l.append("<td></td>");l.append(`<td class="table_btn_container"><span title="New" alt="New" class="glyphicon glyphicon-plus cp table_new" GM_setting_key="${t}"></span><span title="Save" alt="Save" style="display:none;" class="glyphicon glyphicon-floppy-disk cp table_new_save" GM_setting_key="${t}"></span></td>`),l.append(`<td class="table_btn_container"><span title="Cancel" alt="Cancel" style="display:none;" class="glyphicon glyphicon-remove cp table_new_cancel" GM_setting_key="${t}"></span></td>`),a.append(l)}},W=async function(){var t=v.$lis;for(let n in t){let i=e(t[n]);i.removeClass("GM_setting_item_disable"),i.find("input, textarea, select").prop("disabled",!1),i.find("input[type='checkbox']").trigger("change"),i.removeClass("depthStart").removeClass("depthEnd")}var n,i=[!0,!0],a=void 0,r=1e3;for(let _ in t){let m=e(t[_]);var o=p[_].depth,s=p[_].radio_enable_value;p[_].type;if(void 0===a);else{var l=a.attr("GM_setting_depth");if(r>=o&&(n=void 0,r=1e3),l==o&&l>0)void 0!==n&&(i[l-1]=n==s);else if(l<o){1!=l||a.hasClass("GM_setting_category")||a.addClass("depthStart"),n=void 0;var d=a.find("input[type='checkbox']"),c=a.find("input[type='radio']"),u=a.find("select");0!==d.length&&d.is(":checked")?i[l]=!0:0!==c.length?(n=a.find("input[type='radio']:checked").val(),r=l,a.find("input[type='radio']:checked").val()==s?i[l]=!0:i[l]=!1):0!==u.length?i[l]=!0:i[l]=!1}!m.hasClass("GM_setting_category")&&1==o&&o<l&&a.addClass("depthEnd")}a=m;for(var h=0;h<o;h++)if(p[_].disable||!i[h]){m.addClass("GM_setting_item_disable"),m.find("input, textarea, select").prop("disabled",!0),m.find("input[type='checkbox']").trigger("change");break}}},H=function(t,n){var i,a,r,o=!0,s="";if("number"===p[t].valid)o=e.isNumeric(n),""===n?s+=T("err_val_req"):o?void 0!==p[t].min_value&&p[t].min_value>n?(o=!1,s+=T("err_num_over")+p[t].min_value):void 0!==p[t].max_value&&p[t].max_value<n&&(o=!1,s+=T("err_num_not_more_than")+p[t].max_value):s+=T("err_num_req");else if(""!==n&&"array_string"===p[t].valid){i=e.map(n.split(","),e.trim);var l=n.match(/^[A-Za-z0-9 _,]*$/);if(null===l||0===l.length)o=!1,s+=T("err_valid_array_string");else if(-1!==e.inArray("",i))o=!1,s+=T("err_value_empty"),G(i,e.inArray("",i));else if(new Set(i).size!==i.length){o=!1,a=[],r=i.sort();for(var d=0;d<i.length-1;d++)r[d+1]==r[d]&&-1===e.inArray(r[d],a)&&a.push(r[d]);s+=T("err_value_dup")+a.join(",")}else for(var c=0;c<i.length;c++)if(-1!==i[c].indexOf(" ")){o=!1,s+=T("err_value_blank")+i[c];break}}else if(""!==n&&"array_word"===p[t].valid)if(i=e.map(n.split(","),e.trim),-1!==e.inArray("",i))o=!1,s+=T("err_value_empty"),G(i,e.inArray("",i));else if(new Set(i).size!==i.length){o=!1,a=[],r=i.sort();for(var u=0;u<i.length-1;u++)r[u+1]==r[u]&&-1===e.inArray(r[u],a)&&a.push(r[u]);s+=T("err_value_dup")+a.join(",")}return{valid:o,message:s}},Q=async function(t,n,i){var a=t.attr("GM_setting_key"),r=Y(a),o=H(a,r);t.closest("div").find(".invalid_text").remove(),o.valid?t.closest("div").removeClass("invalid"):(G("validation",o),t.closest("div").addClass("invalid"),t.after("<div class='invalid_text'>"+o.message+"</div>")),clearTimeout(D),D=setTimeout((async function(){var t=!0;e.each(i,(function(e,n){if(!H(e,Y(e)).valid)return t=!1,!1})),t&&(await U(),S(),V(T("auto_saved")+(new Date).toLocaleTimeString(),n))}),1e3)},j=function(e,t){var n=Object.keys(e).sort(),i=Object.keys(t).sort();return JSON.stringify(n)===JSON.stringify(i)},K=function(e){return JSON.parse(JSON.stringify(e))};return{init:async function(t,o){l=t,await async function(e){for(var t in G("init_",p),e&&(e.DEBUG&&G("GM_setting - DEBUG",b=!0),e.CONSOLE_MSG&&(G=e.CONSOLE_MSG),e.SETTINGS&&(p=e.SETTINGS),e.MULTILANG&&(x=!0,e.LANG_DEFAULT&&(C=e.LANG_DEFAULT)),e.TABS&&(h=!0),e.feedbackLink&&(a=e.feedbackLink),e.packageJsonLink&&(r=e.packageJsonLink)),p)c[t]=p[t].value;if(c.Lang="",await O(),await N(),f)if(e.MIGRATION){G("Migration required");let t=K(u);(u=e.MIGRATION(m,g,t))||(G("Unknown error during migration. load original settings"),u=t),await S()}else G("Migration required, but there is no user MIGRATION function");if(!j(c,u)){for(t in c)void 0===u[t]&&(u[t]=c[t]);for(t in u)void 0===c[t]&&delete u[t];await S()}if(h)for(let e in p){let t=p[e].category,n=p[e].category_name,i=p[e].category_desc;void 0!==t&&void 0!==n&&void 0!==i&&(_[t]={},_[t].title=n,_[t].desc=i)}}(o),await async function(){"function"==typeof GM.addValueChangeListener&&(G("설정에 대한 addValueChangeListener 바인드"),GM.addValueChangeListener(l,(async function(t,n,a,r){r&&(G("다른 창에서 설정 변경됨. val_name, old_value, new_value:",t,n,a),await N(),e.each(n,(function(e,t){void 0!==p[e]&&void 0!==p[e].change&&n[e]!==a[e]&&p[e].change(u[e])})),d=[],void 0!==s&&(P(s),V(T("setting_changed_from_other_window")+(new Date).toLocaleTimeString(),i)))}))),e(n).on("input","input[gm_setting_key='under_dev']",(function(){G("실험실 기능 온오프 이벤트");var t=e(this);let n="";b||(n=":not(.GM_setting_debug)"),t.is(":checked")?i.find(".GM_setting_under_dev"+n).css("opacity",0).slideDown("fast").animate({opacity:1},{queue:!1,duration:"fast"}):i.find(".GM_setting_under_dev"+n).css("opacity",1).slideUp("fast").animate({opacity:0},{queue:!1,duration:"fast"})}))}(),GM.addStyle('\n#GM_setting .btn {font-size:12px;}\n.GM_setting_autosaved.btn {\n    max-width:100%;\n    font-size:12px;\n    white-space:pre-wrap;\n    user-select:text;\n}\n#GM_setting .btn-xxs {\n    cursor: pointer;\n    padding: 4px 4px;\n}\n#GM_setting label.btn-xxs {\n    box-sizing: content-box;\n    width:11px;\n    height:11px;\n}\n#GM_setting a{\n    color: #428bca;\n    text-decoration: none;\n}\n#GM_setting a:hover, #GM_setting a:focus {\n    color: #2a6496;\n    text-decoration: underline;\n}\n#GM_setting {clear:both;margin-left:auto; margin-right:auto; padding:0;max-width:1400px; min-width:750px; box-sizing:content-box;}\n#GM_setting, #GM_setting table {font-size:13px;}\n\n#GM_setting .GM_setting_logo{font-family:auto;height:25px;display:inline-block;white-space:nowrap}\n#GM_setting .GM_setting_menu_right{display:flex;height:25px;float:right;}\n#GM_setting .GM_homepage_link{font-size:12px;font-weight:normal;align-self:flex-end;}\n#GM_setting .GM_multilang{margin-left:15px;}\n\n#GM_setting_head{margin-left:auto; margin-right:auto; padding:20px 0px 10px 10px;font-size:18px;font-weight:800;max-width:1400px; min-width:750px; box-sizing:content-box;}\n#GM_setting ul {padding:0 0 20px 0;border-top: 2px solid #999;}\n#GM_setting li {display:block;list-style:none;margin:0px;padding:0px;}\n\n#GM_setting .GM_setting_depth1.GM_setting_category:first-child {margin-top:0px;}\n#GM_setting .GM_setting_depth1.GM_setting_category {margin-top:30px;padding-top:10px;}\n#GM_setting li[GM_setting_key=\'version_check\'] {margin-top:0px !important}\n\n#GM_setting .GM_setting_category_name{display:block;box-sizing:border-box;font-weight:700;vertical-align:top;flex:0 0 100px;font-size:16px;}\n#GM_setting .GM_setting_category_name svg{\n    width:16px !important;\n    height:16px !important;\n    vertical-align:middle !important;\n    margin-right:5px !important;\n}\n#GM_setting .GM_setting_category_desc{margin-bottom: 5px;}\n#GM_setting .GM_setting_category_blank{display:block;box-sizing:border-box;padding:0 0 0 0px;vertical-align:top;flex:0 0 100px;font-size:14px;}\n\n#GM_setting .GM_setting_list_sub{display:flex;background:#fff;border-radius:5px;padding:10px 20px;margin:0 0 1px 0;border:1px solid #eee;cursor:default;}\n/*#GM_setting li:not(.GM_setting_item_disable) .GM_setting_list_sub:hover{background:#f9f9f9;}*/\n\n#GM_setting .GM_setting_list_head{box-sizing:border-box;vertical-align:top;flex:3 1 0;}\n#GM_setting .GM_setting_depth1 .GM_setting_list_head {padding-left:0px;}\n#GM_setting .GM_setting_depth2 .GM_setting_list_head {padding-left:30px;}\n#GM_setting .GM_setting_depth3 .GM_setting_list_head {padding-left:60px;}\n#GM_setting .GM_setting_depth4 .GM_setting_list_head {padding-left:90px;}\n#GM_setting .GM_setting_depth5 .GM_setting_list_head {padding-left:120px;}\n\n/*\nli:not([gm_setting_depth="1"]) + li[gm_setting_depth="1"]:not(.GM_setting_category)\n{\n    border-top: 1px solid #ccc !important;\n    margin-top: 10px !important;\n    padding-top: 10px !important;\n}\n*/\n\n#GM_setting li.depthStart {\n    /*border-top: 1px solid #ccc !important;\n    padding-top: 10px !important;*/\n    margin-top: 10px !important;\n}\n#GM_setting li.depthEnd {\n    /*border-bottom: 1px solid #ccc !important;\n    padding-bottom: 10px !important;*/\n    margin-bottom: 10px !important;\n}\n\n\n#GM_setting .GM_setting_title{display:block;font-size:13px;color:#000;}\n#GM_setting .GM_setting_desc{display:block;font-size:12px;color:#666;}\n\n#GM_setting .form-select, #GM_setting .GM_setting_input_container{font-size:12px;}\n#GM_setting .form-select{width:auto;max-width:95%;cursor:pointer;}\n#GM_setting .form-check{min-height:unset;}\n\n#GM_setting .GM_setting_input_container {box-sizing:border-box;padding:0 0 0 30px;vertical-align:top;flex:1 1 0;min-width:200px; position:relative;text-align: right;text-align: -moz-right;text-align: -o-right;text-align: -ms-right;text-align: -webkit-right;}\n#GM_setting .GM_setting_input_container .form-check-input {margin-top:0px; cursor:pointer;}\n#GM_setting .GM_setting_input_container.form-switch .form-check-input {margin-left:0px;position:absolute;top:3px;right:3px;transform: scale(1.4);}\n#GM_setting .GM_setting_input_container span{vertical-align:top;}\n#GM_setting .GM_setting_input_container span.btn{margin:0 0 0 10px;}\n#GM_setting .form-check .form-check-input{margin-left:0px;transform: scale(1.2);}\n#GM_setting .radio-inline{display:inline-block;padding-left:15px; padding-right:0px; margin:0 0 3px 0; cursor:pointer; line-height: 100%; min-height:1.2rem;}\n#GM_setting .radio-inline .form-check-label{padding-left:5px;}\n\n#GM_setting .form-check-input:disabled{opacity:0.3;filter:grayscale(1) brightness(1.5);}\n\n#GM_setting .form-check-input:checked{background-color: #0d6efd; border-color: #0d6efd;}\n\n#GM_setting input[type="text"]{ width: 100px; height: 30px; padding: 5px 5px; font-size:12px; }\n#GM_setting textarea{ width: 250px; height: 30px; padding: 5px 5px; font-size:12px; }\n/*#GM_setting .radio-inline{ font-size:12px; padding-left:0; padding-right:10px; margin:0 0 3px 0; cursor:pointer;}\n#GM_setting .radio-inline input{ margin:0 5px 0 0; cursor:pointer; }*/\n\n#GM_setting table {margin:0; width:100%;}\n#GM_setting th, #GM_setting td {height: 24px;}\n#GM_setting table th, #GM_setting table td{padding:2px 5px;}\n#GM_setting table th {border: 1px solid; border-color: inherit;}\n#GM_setting .table_btn_container {white-space: nowrap; vertical-align:middle; width:24px; font-size:14px; padding:0; text-align:center;}\n#GM_setting .table_btn_container span {padding:0}\n#GM_setting table input[type="text"] {padding:1px 2px; height:auto; width:100%; margin-left:auto; margin-right:auto;}\n\n#GM_setting .GM_setting_item_disable, #GM_setting .GM_setting_item_disable .GM_setting_title, #GM_setting .GM_setting_item_disable .GM_setting_desc{color:#ccc !important}\n#GM_setting .invalid input, #GM_setting .invalid textarea{border-color:#dc3545;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;color:#dc3545;}\n#GM_setting .invalid input:focus, #GM_setting .invalid textarea:focus{border-color:#dc3545;box-shadow:0 0 0 0.2rem rgba(220,53,69,.25);outline:0;color:#dc3545;}\n#GM_setting .invalid {color:#dc3545}\n#GM_setting .invalid_text {font-size:12px;padding:5px 0 0 5px;}\n\n#GM_setting .GM_setting_under_dev .GM_setting_title{color:#6441a5;font-style:italic}\n#GM_setting .GM_setting_debug .GM_setting_title{color:#6441a5;font-style:italic}\n\n#GM_setting .btn-xxs {cursor:pointer;padding:4px 4px;} /*padding: 1px 2px;font-size: 9px;line-height: 1.0;border-radius: 3px;margin:0 2px 2px 0;*/\n#GM_setting .btn-xxs .glyphicon{}\n#GM_setting .btn-xxs span.glyphicon {font-size:11px; opacity: 0.1;}\n#GM_setting .btn-xxs.active span.glyphicon {opacity: 0.9;}\n#GM_setting .btn-xxs.disable {opacity: 0.3;cursor:not-allowed;}\n\n#GM_setting_footer { padding: 30px 0 30px 0; margin: 30px 0 0 0; border-top: 1px solid #ccc; text-align: center; font-size:13px; letter-spacing:0.2px; user-select:none;}\n#GM_setting_footer .footer_divider { margin: 0 5px; display: inline-block; width: 1px; height: 13px; background-color: #ebebeb; }\n\n#GM_setting .cp {cursor:pointer}\n\n#GM_setting .GM_setting_list_desc {margin-bottom:0px;}\n#GM_setting .form-control {width:auto;}\n\n#GM_setting optdesc {\n    display: list-item;\n    list-style-type: initial;\n    padding-inline-start: 0;\n    text-indent: 0px;\n    margin-left: 20px;\n}\n\n#GM_setting #GM_setting_content.useTabs {\n    display:flex;\n}\n\n#GM_setting #GM_setting_content.useTabs #GM_tabs {\n    flex-shrink:0;\n    width:140px;\n    font-size:14px;\n    padding-right:0px;\n    margin-right:20px;\n    border-right:1px solid #ccc;\n    border-top: 2px solid #999;\n}\n\n#GM_setting #GM_setting_content.useTabs #GM_tabs #GM_tabs_item_container {\n    position:sticky;\n    top:20px;\n}\n\n#GM_setting #GM_setting_content.useTabs #GM_tabs #GM_tabs_item_container svg{\n    width:13px !important;\n    height:13px !important;\n    vertical-align:middle !important;\n    margin-right:5px !important;\n}\n\n#GM_setting #GM_setting_content.useTabs #GM_tabs #GM_tabs_item_container .GM_tab_item {\n    font-size:13px;\n    padding:2px 5px;\n    border-radius:2px;\n    margin-bottom:2px;\n    cursor:pointer;\n}\n#GM_setting #GM_setting_content.useTabs #GM_tabs #GM_tabs_item_container .GM_tab_item:hover {\n    color:#000;\n    background:#eee;\n}\n#GM_setting #GM_setting_content.useTabs #GM_tabs #GM_tabs_item_container .GM_tab_item.on {\n    color:#000;\n    background:#eee;\n}\n\n#GM_setting #GM_setting_content.useTabs > ul {\n    flex-grow: 1;\n}\n\n#GM_setting .lihide {\n    display:none !important;\n}\n\n.lihide + li.GM_setting_depth1.GM_setting_category {\n    margin-top: 0px !important;\n}\n\n#GM_setting .GM_setting_version_reflesh .v_download,\n#GM_setting .GM_setting_version_reflesh .v_checked,\n#GM_setting .GM_setting_version_reflesh .v_fail,\n#GM_setting .GM_setting_version_reflesh .v_loading {\n    display:none;\n}\n\n#GM_setting .availableVersion {\n\n}\n#GM_setting .bg_lightgreen {\n    background: #ddffdd;\n}\n\n')},load:async function(){G("GM_setting - load"),await N()},save:async function(){G("GM_setting - save"),await S()},save_overwrite:async function(){var n=u,i=t[l];G("_settings",p),e.each(n,(function(e,t){void 0!==p[e]&&void 0!==p[e].change&&n[e]!==i[e]&&p[e].change(i[e])})),u=t[l],G("GM_setting - save_overwrite"),await S()},reset:async function(){await GM.setValue(l,c),await N()},createlayout:function(e){s=e,P(e)},getType:function(e){return void 0!==p[e]?p[e].type:void 0},message:function(e,t){V(e,t)}}}(jQuery,window,document);const s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};var l=function(e){return String(e).replace(/[&<>"'`=/]/g,(function(e){return s[e]}))};window.GLOBAL={};var d=void 0;function c(){try{if(void 0===document)return void i("Document is undefined from openSettingsMenu");if(!/(^https:\/\/cafe\.naver\.com\/)/.test(document.location.href))return void i("no naver cafe: return from openSettingsMenu");clearTimeout(d);var e="GM_Setting_Bootstrap";$("#nomo_settings_container").remove();var t=$('\n        <div id="nomo_settings_container" style="display:none;cursor:pointer;position:fixed;top:0;left:0;width:100%;height:100%;z-index:200000;background:rgba(0,0,0,0.93);">\n            <div id="nomo_settings" style="background-color:#f5f5f5;cursor:default;font-size:12px;max-width:900px;max-height:calc(100% - 40px);margin:20px auto;padding:10px 20px;border-radius:5px;overflow-y:scroll;"></div>\n        </div>').appendTo("body");if(t.on("click",(function(){$(this).fadeOut(500,(function(){$(this).remove()})),d=setTimeout((function(){$("#GM_Setting_css_temp").remove(),$("#GM_Setting_Bootstrap").remove()}),500)})),t.find("#nomo_settings").on("click",(function(e){e.stopPropagation()})),!document.getElementById(e)){var n=document.getElementsByTagName("head")[0],a=document.createElement("link");a.id=e,a.rel="stylesheet",a.type="text/css",a.crossOrigin="anonymous",a.href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css",a.integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9",a.media="all",n.appendChild(a)}0==$("#GM_Setting_css_temp").length&&$("head").append('\n            <link rel="preconnect" href="https://fonts.googleapis.com">\n            <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>\n            <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">\n            <style id=\'GM_Setting_css_temp\' rel=\'stylesheet\' type=\'text/css\'>ul, ol{margin:0; padding:0 !important;}\n            #nomo_settings::-webkit-scrollbar { width: 8px; height: 8px; background: #eee; }\n            #nomo_settings::-webkit-scrollbar-thumb { background: #ccc; }\n            body{overflow-y:hidden;}\n            body #GM_setting .GM_setting_list_head {vertical-align:bottom;}\n            body #GM_setting .form-check-input:checked{background-color: #2DB400; border-color: #2DB400;}\n            body #GM_setting .btn.btn-primary {filter: hue-rotate(280deg);}\n\n            #GM_setting, #GM_setting .GM_setting_title, #GM_setting .GM_setting_desc, #GM_setting .GM_setting_logo, #GM_setting .GM_homepage_link\n            {font-family: \'Inter\',"맑은 고딕",Malgun Gothic,"돋움",dotum,sans-serif;}\n            </style>'),$("#nomo_settings_container").fadeIn(500),GM_setting.createlayout($("#nomo_settings"))}catch(e){i("Error from openSettingsMenu function",e)}}function p(){if(function(){if(!GLOBAL.isNaverCafeTop)return;window.addEventListener("message",(function(e){if("https://cafe.naver.com"!==e.origin)return;let t;switch(e.data.type){case"NCCL_Message":t=e.data,u(t.msg,$("body"));break;case"NCCL_UpdateHistory":t=e.data,window.history.replaceState(null,null,t.url)}}),!1)}(),"function"==typeof GM.registerMenuCommand&&(GM.registerMenuCommand("상세 설정 열기 (새 창)",(function(){var e=$(window).width(),t=$(window).height(),n=e>930?930:e/5*4,i=e/2-n/2,a=t/2-t/5*4/2;window.open("https://cafe.naver.com/NaverCafeClipLoaderSettings/","winname","directories=no,titlebar=no,toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width="+n+",height="+t/5*4+",top="+a+",left="+i)})),GM.registerMenuCommand("상세 설정 열기 (현재 창)",c)),$(document).ready((function(){try{if(GM_SETTINGS.alwaysShowFavoriteBoard){let e=$("#favoriteMenuGroupBtn");0!==e.length&&e.hasClass("down-btn")&&toggleFavoriteMenuGroup()}}catch(e){i("Error from alwaysShowFavoriteBoard",e)}try{if("0"!==GM_SETTINGS.naverBoardDefaultArticleCount&&Number(GM_SETTINGS.naverBoardDefaultArticleCount)>0){unsafeWindow.oriSearchFrmAfter=unsafeWindow.searchFrmAfter,unsafeWindow.searchFrmAfter=function(e){var t=unsafeWindow.oriSearchFrmAfter.toString().match(/clubid=(\d+)/);null!==t&&t.length>=2?(i("clubid",t),$("#cafe_main").attr("src",`/ArticleSearchList.nhn?search.clubid=${t[1]}&search.searchBy=0&search.query=${URLEncoder.encode(e.query.value,"MS949")}&userDisplay=${GM_SETTINGS.naverBoardDefaultArticleCount}`)):unsafeWindow.oriSearchFrmAfter(e)},unsafeWindow.oriDrawFavoriteCafeMenuList=unsafeWindow.drawFavoriteCafeMenuList,unsafeWindow.drawFavoriteCafeMenuList=function(e){unsafeWindow.oriDrawFavoriteCafeMenuList(e);let t=$("#cafe-menu #favoriteMenuGroup").find("a");i("$as",t),t.each((function(e,t){setTimeout((function(){let e=$(t),n=e.attr("href");-1!==n.indexOf("userDisplay")||/\/popular$/.test(n)||e.attr("href",`${n}&userDisplay=${GM_SETTINGS.naverBoardDefaultArticleCount}`)}),1)}))},$("#cafe-menu").find(".cafe-menu-list a[target='cafe_main']").each((function(e,t){setTimeout((function(){let e=$(t),n=e.attr("href");-1!==n.indexOf("userDisplay")||/\/popular$/.test(n)||e.attr("href",`${n}&userDisplay=${GM_SETTINGS.naverBoardDefaultArticleCount}`)}),1)}))}}catch(e){i("Error from naverBoardDefaultArticleCount",e)}})),"0"!=GM_SETTINGS.autoScrollByVideoVisibility&&(unsafeWindow.getCafeMainScrollTop=function(){let e=$("#content-area");return 0===e.length?-1:e.offset().top}),GM_SETTINGS.youtubeFixClickAfterScrolling){let e;$(document).on("wheel",(function(t){i("wheel event",t),e||(e=$("iframe#cafe_main")),0!=e.length?e[0].contentWindow.parentScrollEvent(t):e=void 0}))}}function u(e,t){if(GLOBAL.isNaverCafeMain)window.parent.postMessage({type:"NCCL_Message",msg:e},"https://cafe.naver.com");else if(GLOBAL.isNaverCafeTop&&void 0!==t){var n="GM_setting_autosaved";if(t.find("."+n).animate({bottom:"+=40px"},{duration:300,queue:!1}),$("<div class='"+n+" NCCL_NaverCafe_MessageBox'>"+e+"</div>").appendTo(t).fadeIn("fast").animate({opacity:1},11e3,(function(){$(this).fadeOut("fast").delay(600).remove()})).animate({left:"+=30px"},{duration:300,queue:!1}),-1!==e.indexOf("NCCL_Message_Count")){let e=setInterval((function(){let t=$(".NCCL_Message_Count").text();i("oriCount",t),t=Number(t);let n=t-1;0==t?clearInterval(e):(i("newCount",n),$(".NCCL_Message_Count").text(n))}),1e3)}}}class h{static nvideos=0;static videos=[];static videosSequence=[];constructor(e){this.type=e.type,this.typeName=e.typeName,this.id=e.id,this.originalUrl=e.originalUrl,this.url=e.url,this.iframeUrl=e.iframeUrl,this.title=e.title,this.desc=e.desc,this.view=e.vide,this.logoSVG=e.logoSVG,this.origin=e.origin,this.isEmbed=e.isEmbed,this.thumbnailUrl=e.thumbnailUrl,this.video=e.video,this.originalWidth=e.originalWidth?Number(e.originalWidth):void 0,this.originalHeight=e.originalHeight?Number(e.originalHeight):void 0,this.isSetMaxQuality=!1,this.lazyLoad=!0,this.postMessageUrl=e.iframeUrl?"https://"+this.iframeUrl.split("/")[2]:void 0,this.parseDataRequired=!!e.parseDataRequired&&e.parseDataRequired,this.isDataLoading=!1,this.isDataLoaded=!1,this.isDataSucceed=!1,this.parseDataCallbackQueue=[],this.autoPlay=!!e.autoPlay&&e.autoPlay,this.muted=!!e.muted&&e.muted,this.blockThumbnailClickEvent=!1,this.firstPlayed=!1,this.createIframeLazyObserve=!1,this.parseDataObserve=!1,this.$outermostContainer=void 0,this.$iframeContainer=void 0,this.$iframe=void 0,this.iframeLoaded=!1,this.$thumbnailContainer=void 0,this.$thumbnail=void 0,this.$logoSVG=void 0,this.$loop=void 0,this.$error=void 0,this.$btnPlay=void 0,this.$btnPause=void 0,this.$btnReplay=void 0,this.seq=h.nvideos,h.nvideos+=1,h.videos.push(this),this.iframeUrl&&-1!==this.iframeUrl.indexOf("seq=undefined")&&(this.iframeUrl=this.iframeUrl.replace("seq=undefined",`seq=${this.seq}`)),0===this.seq&&GM_SETTINGS.autoPlayNextClip&&(this.lazyLoad=!1),this.noAutoScrollOnce=!1}static init(){i(document.location.href,"VideoBase - init"),h.updateVideoSize(),window.addEventListener("message",(function(e){if("NCCL"===e.data.type){if(i("received postMessage (embed -> naver)",e.data),i("VideoBase.videos",h.videos),void 0===e.data.seq||""===e.data.seq)return;switch(e.data.event){default:break;case"play":h.videos[e.data.seq].autoPlayPauseOthers("play");break;case"ended":h.videos[e.data.seq].autoPlayPauseOthers("ended")}}}))}static updateVideoSize(){i("VideoBase - updateVideoSize");var e=String(Math.max(GM_SETTINGS.videoWidth,1));GM_addStyle(`\n            .NCCL_iframe_container {\n                width:${e}%;\n                aspect-ratio:calc(16 / 9);\n            }\n        `)}static stopAll(){Object.values(this.videos).forEach((e=>{e.pause()}))}static arriveVideo(){}setVolumeStart(){}play(){if(i("VideoBase - play",this.id),!this.$iframe||!this.iframeLoaded)return;this.autoPlayPauseOthers("play");let e={type:"NCCL",event:"play",seq:this.seq};this.$iframe.get(0).contentWindow.postMessage(e,this.postMessageUrl)}pause(){if(i("VideoBase - pause",this.id),!this.$iframe||!this.iframeLoaded)return;let e={type:"NCCL",event:"pause",seq:this.seq};this.$iframe.get(0).contentWindow.postMessage(e,this.postMessageUrl)}stop(){if(i("VideoBase - stop",this.id),!this.$iframe||!this.iframeLoaded)return;let e={type:"NCCL",event:"pause",seq:this.seq};this.$iframe.get(0).contentWindow.postMessage(e,this.postMessageUrl)}eventPlay(){}eventPause(){}eventEnded(){}eventPlaying(){}eventWaiting(){}eventLoadedData(){}setMaxQuality(){}checkParseData(e){if(this.parseDataRequired){if(this.isDataLoading)return i("Now clip data loading, insert queue"),void(e||"function"!=typeof e||this.parseDataCallbackQueue.push(e));if(this.isDataLoaded){if(!this.isDataSucceed)return void i("VideoYoutube insertIframe 에서 clip data 관련 알 수 없는 에러",this);e||"function"!=typeof e||(this.parseDataCallbackQueue.push(e),this.postParseData())}else i("No clip data loaded, insert queue and load clip data"),this.parseDataCallbackQueue.push(e),this.parseData()}}async parseData(){}postParseData(){for(this.$thumbnailContainer.addClass("playbtn"),this.hideLoader();this.parseDataCallbackQueue.length>0;)i("parseDataCallbackQueue",this.parseDataCallbackQueue.length,this),this.parseDataCallbackQueue[0].call(this),this.parseDataCallbackQueue.shift(0)}thumbnailLoaded(){}createIframeContainer(e){i("VideoBase - createIframeContainer",this.id);let t=this;this.$outermostContainer=$('<div class="NCCL_container"></div>').data("NCCL-type",this.typeName),this.$iframeContainer=$('<div class="NCCL_iframe_container"></div>').data("NCCL-type",this.typeName),this.$thumbnailContainer=$('<div class="NCCL_thumbnail_container"></div>').data("NCCL-type",this.typeName);let n=0==this.seq?"eager":"lazy";"autoLoad"!==GM_SETTINGS.convertMethod&&this.thumbnailUrl&&(this.$thumbnail=$('<img class="NCCL_thumbnail" />').attr("loading",n).attr("src",this.thumbnailUrl).data("NCCL-type",this.typeName).on("load",(function(e){t.thumbnailLoaded(e)})),this.$thumbnailContainer.append(this.$thumbnail)),this.$iframeContainer.append(this.$thumbnailContainer),this.$loader=$(`<div class="NCCL_loader_container" style="display:none;">\n        <div class="NCCL_loader"></div>\n        <div class="NCCL_loader_desc_container"><div class="NCCL_loader_desc">Loading…<div class="NCCL_loader_version">NCCL v${GLOBAL.version}</div></div></div>\n        </div>`),this.$thumbnailContainer.append(this.$loader),this.parseDataRequired?this.$loader.fadeIn(100):this.$thumbnailContainer.addClass("playbtn"),this.$title=$('<div class="NCCL_title"></div>').data("NCCL-type",this.typeName).text(this.title?this.title:this.desc?this.desc:"제목없음");let a=this.url||this.originalUrl;if(this.$logoSVG=this.logoSVG?$(`${this.logoSVG})`):$("<span style='display:none;'></span>"),a?(this.$desc=$('<a class="NCCL_description" target="_blank"></a>').data("NCCL-type",this.typeName).attr("href",this.url),this.$link=$('<div class="NCCL_link"></div>').data("NCCL-type",this.typeName).text(this.url?"("+this.url+")":""),this.$desc.append(this.$logoSVG).append(this.$title).append(this.$link)):(this.$desc=$('<div class="NCCL_description"></div>').data("NCCL-type",this.typeName),this.$desc.append(this.$logoSVG).append(this.$title)),GM_SETTINGS.hideDescription&&this.$desc.hide(),this.$outermostContainer.append(this.$iframeContainer).append(this.$desc),e.after(this.$outermostContainer),e.remove(),this.parseDataRequired){this.parseDataObserve=!0;const e=1.5*Math.max(1080,window.screen.height);new IntersectionObserver(((e,n)=>{e.forEach((e=>{if(e.intersectionRatio>0){if(n.unobserve(e.target),!t.parseDataObserve)return;t.parseDataObserve=!1,t.lazyLoad=!1,t.checkParseData(t.insertIframe)}}))}),{root:null,threshold:[0,.2,.4,.6,.8,1],rootMargin:`${e}px 10px ${e}px 10px`}).observe(this.$outermostContainer[0])}else this.insertIframe();GLOBAL.isNaverCafeMain&&GM_SETTINGS.removeOriginalLinks&&$("a.se-link").each((function(e,n){var i=$(n);if(i.attr("href")!==t.originalUrl)return!0;var a=i.closest("p");a.text()===t.originalUrl?a.remove():i.remove()}))}insertIframe(){let e=this;"autoLoad"===GM_SETTINGS.convertMethod?this.lazyLoad?this.createIframeLazy():(this.preCreateIframe(),this.createIframe(),this.postCreateIframe()):this.$thumbnailContainer.on("click",(function(){e.blockThumbnailClickEvent||(e.blockThumbnailClickEvent=!0,e.preCreateIframe(),e.createIframe(),e.postCreateIframe())}))}createIframeLazy(){let e=this;this.createIframeLazyObserve=!0;const t=1.5*Math.max(1080,window.screen.height);new IntersectionObserver(((t,n)=>{t.forEach((t=>{if(t.intersectionRatio>0){if(n.unobserve(t.target),i("createIframeLazy LAZYLOAD",e,t),!e.createIframeLazyObserve)return;e.createIframeLazyObserve=!1,e.preCreateIframe(),e.createIframe(),e.postCreateIframe()}}))}),{root:null,threshold:[0,.2,.4,.6,.8,1],rootMargin:`${t}px 10px ${t}px 10px`}).observe(this.$outermostContainer[0])}createIframe(){let e=this;this.iframeLoaded=!1,this.$iframe=$(`<iframe class="NCCL_iframe" frameborder="0" allowfullscreen="true" allow="${this.autoPlay?"autoplay; ":""}accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture" scrolling="no"></iframe>`).data("NCCL-id",this.id).data("NCCL-type",this.typeName).attr("src",this.iframeUrl),this.$iframe.on("load",(function(){e.iframeLoaded=!0})),this.$iframeContainer.empty().append(this.$iframe)}preCreateIframe(){this.$thumbnailContainer&&this.$thumbnailContainer.hide()}postCreateIframe(){this.hideLoader();try{this.postMessageUrl="https://"+this.iframeUrl.split("/")[2]}catch(e){i("There is no iframeUrl",this),this.postMessageUrl="https://www.youtube.com"}}autoPlayPauseOthers(e){i("autoPlayPauseOthers",e,"id=",this.id,"seq=",this.seq);let t=!1;for(let n=0;n<h.videos.length;n++){if(!h.videos[n])continue;let i=h.videos[n].seq;if("play"===e){if(this.seq===i){this.autoScrollToView(Number(GM_SETTINGS.autoScrollByVideoVisibility));continue}if(!GM_SETTINGS.autoPauseOtherClips)return!1;h.videos[n].pause()}else if("ended"===e){if(!GM_SETTINGS.autoPlayNextClip)return!1;if(t){h.videos[n].play();break}if(this.seq===i){t=!0;continue}}}}playEvent(){this.firstPlayed=!0}updateThumbnail(e){e?(this.thumbnailUrl=e,this.$thumbnail?(i("update thumbnail url",this.id,this.seq,e),this.$thumbnail.attr("src",this.thumbnailUrl)):this.$iframe||(i("create $thumbnail"),this.$thumbnail=$('<img class="NCCL_thumbnail" />').data("NCCL-type",this.typeName).attr("src",this.thumbnailUrl),this.$thumbnailContainer.empty().append(this.$thumbnail))):r("updateThumbnail - no thumbnail url",e)}updateTitle(e){this.$title&&(i("update title",this.id,this.seq,e),this.$title.text(e))}showLoader(){this.$loader&&this.$loader.fadeIn(100)}hideLoader(){this.$loader&&this.$loader.fadeOut(100)}showError(e){this.hideLoader(),this.$error&&this.$error.remove(),this.$error=$(`<div class="NCCL_error_container"><div class="NCCL_error">${e}</div></div>`),this.$iframeContainer?(this.$iframeContainer.append(this.$error),this.$error.show()):this.$seComponent?(this.$seComponent.append(this.$error),this.$error.show()):i("There is no proper element in showError function")}hideError(){this.$error&&this.$error.fadeOut(100)}showParsingError(e,t){let n="";switch(void 0===e&&(e=0),e){default:n=t;break;case 0:n="데이터 가져오기에 실패했습니다. 링크에 직접 접속해주세요.";break;case 1:n="동영상 소유자가 다른 웹사이트에서 재생할 수 없도록 설정한 것 같습니다. 링크에 직접 접속해주세요."}this.showError(`[${GLOBAL.scriptName} v${GLOBAL.version}]<br />${n}<br /><a class="errorURL"></a>`),this.$outermostContainer.find(".errorURL").attr("href",this.originalUrl).text(this.originalUrl),this.$thumbnailContainer.css("cursor","default")}resizeByRatio(e,t,n){let a=this.$iframeContainer.width(),r=a/e+n,o=Math.max(parent.window.innerHeight*t,300);r=parseInt(Math.min(o,r)),i("new_height",r);let s=a/r;Math.abs(s-16/9)>.2&&(s<1&&(s=1),s>4&&(s=4),this.$iframeContainer.attr("style",`aspect-ratio:${s}`))}getNewWidth(){let e=800,t=parent.window.innerHeight;"1"==GM_SETTINGS.shortsAutoResizeType?t-=0:"2"==GM_SETTINGS.shortsAutoResizeType&&(t-=230),i("parentHeight",t);let n=GM_SETTINGS.hideDescription?10:40,a=300,r=a/9*16-n,o=t-n;o>0&&("1"==GM_SETTINGS.shortsAutoResizeType?r=Math.min(o-30,.9*o):"2"==GM_SETTINGS.shortsAutoResizeType&&(r=Math.max(o-30,.9*o)));let s=$(".article_container");0!==s.length&&(e=s.width())&&(a=e),i("originalWidth originalHeight:",this.originalWidth,this.originalHeight),i("shortsMaxWidth shortsMaxHeight:",a,r);let l=this.originalWidth/this.originalHeight,d=r*l;i("original ratio:",l),i("newWidth by original ratio:",d,"new height will be",d/l),d<=300?(i("newWidth: set to 300"),d=300):d>a&&(i("newWidth: set to shortsMaxWidth",a),d=parseInt(a));let c=d/l,p=$("div.content").width(),u=p/c;return{newWidth:p,newHeight:c,newRatio:u,newPaddingTop:100/u}}autoScrollToView(e){if(0==e||void 0===this.$outermostContainer)return;i("------------------------------------");let t=0;if(window!==parent.window){if(void 0===window.parent.getCafeMainScrollTop)return void i("there is no window.parent.getCafeMainScrollTop");if(t=window.parent.getCafeMainScrollTop(),-1==t)return void i("error in getCafeMainScrollTop");i("iframeOffset",t)}let n=this.$outermostContainer.offset().top;n+=t;let a=this.$outermostContainer.outerHeight();var r=n+a;let o,s=$(window.parent).scrollTop(),l=$(window.parent).innerHeight(),d=s+l;i("elementTop",n),i("elementOuterheight",a),i("elementBottom",r),i("visibleTop",s),i("visibleHeight",l),i("visibleBottom",d);let c=0;switch(a+20<=l?c=20:a+5<=l&&(c=5),e){default:break;case 1:case 2:n<s?(i(`elementTop < visibleTop, ${n} < ${s}`),a>l?o=n-5:1==e?o=n-c:2==e&&(o=.5*(n+r-l))):r>d&&(i(`elementBottom < visibleBottom, ${r} < ${d}`),a>l?o=n-5:1==e?o=s+r-d+c:2==e&&(o=.5*(n+r-l))),o<0&&(o=0);break;case 3:o=a>l?n-5:.5*(n+r-l),o<0&&(o=0),$(window.parent).scrollTop(o)}i("move to ",o),$(window.parent).scrollTop(o),i("------------------------------------")}}class _ extends h{constructor(e){if(e.logoSVG='<svg xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" style="vertical-align:middle;margin-right:8px;user-select: none;" viewBox="0 0 96 96" height="18px" width="18px"><g id="g10" inkscape:label="Image" inkscape:groupmode="layer"><rect y="5e-07" x="5e-07" height="96" width="96" id="rect865" style="fill:#1dc800;fill-opacity:1;stroke:#000000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none" /><path style="fill:#ffffff;stroke:#000000;stroke-width:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="m 22.810019,26.075075 h 18.03984 l 16.57371,24.254979 V 26.106948 H 75.367786 V 74.106947 H 57.391689 L 40.881729,50.075074 v 24.095618 h -18.16733 z" id="path40" /></g></svg>',e.type=GLOBAL.NAVER_VID,e.typeName="NAVER_VID",super(e),this.inkey=e.inkey,this.tags=e.tags,this.start=e.start?e.start:0,this.iframeUrl=`https://serviceapi.nmv.naver.com/view/ugcPlayer.nhn?vid=${this.id}&inKey=${this.inkey}&wmode=opaque&hasLink=0&autoPlay=${this.autoPlay}&muted=${this.muted}&beginTime=${this.start}&seq=${this.seq}`,i("new VideoNaver",e),this.title&&this.title.length>37){let e=$("#app div.ArticleContentBox div.article_header div.ArticleTitle h3");if(1===e.length){let t=e.text().trim();-1!==t.indexOf(this.title)&&(this.title=t)}}}static init(){window.addEventListener("message",(function(e){"https://serviceapi.nmv.naver.com"===e.origin&&"NCCL_NAVERVID_RELOAD"===e.data.type&&(i("NCCL_NAVERVID_RELOAD message from serviceapi.nmv.naver.com",e.data),void 0!==e.data.seq&&h.videos[e.data.seq].parseNewInkeyAndReloadPlayer(e.data.beginTime))}))}async parseNewInkeyAndReloadPlayer(e){const t=document.location.href;let n=t.match(/^https:\/\/cafe.naver.com\/ca-fe\/cafes\/(\d+)\/articles\/(\d+)/);if(i(t,n),null===n)return void i("parseNewInkeyAndReloadPlayer match null");let a=await fetch(`https://apis.naver.com/cafe-web/cafe-articleapi/v2/cafes/${n[1]}/articles/${n[2]}?query=&boardType=L&useCafeId=true&requestFrom=A`,{headers:{accept:"application/json, text/plain, */*","accept-language":"ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7","sec-ch-ua":'".Not/A)Brand";v="99", "Google Chrome";v="103", "Chromium";v="103"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","x-cafe-product":"pc"},referrer:t,referrerPolicy:"unsafe-url",body:null,method:"GET",mode:"cors",credentials:"include"});if(i("urlFetch",a),200!==a.status)return i("parseNewInkeyAndReloadPlayer - Fail to fetch",a),void this.showReloadError();var r=await a.json();i("urlText",r);for(var o,s="",l=r.result.article.contentHtml,d=$(l).find("script.__se_module_data"),c=!1,p=0;p<d.length;p++){var u=$(d[p]);let e=JSON.parse(u.attr("data-module"));if(s=e.data.vid,this.id==s){i("FOUND new inkey",this.inkey,"->",e.data.inkey),this.inkey=e.data.inkey,c=!0;break}}return c||(i("FAIL TO GET NEW VID AND INKEY FOR NAVER VIDEO"),this.showReloadError()),this.iframeUrl=`https://serviceapi.nmv.naver.com/view/ugcPlayer.nhn?vid=${this.id}&inKey=${this.inkey}&wmode=opaque&hasLink=0&autoPlay=true&beginTime=${o=e,!isNaN(parseFloat(o))&&isFinite(o)?parseInt(e):0}&seq=${this.seq}`,this.createIframe(),!0}showReloadError(){this.showError(`[${GLOBAL.scriptName} v${GLOBAL.version}]<br />플레이어 리로드에 실패했습니다. 페이지를 직접 새로고침 해주세요.</a>`)}}const m='<svg xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" style="vertical-align:middle;margin-right:8px;user-select: none;" viewBox="0 0 96 96" height="18px" width="18px"><g id="g10" inkscape:label="Image" inkscape:groupmode="layer"><rect y="5e-07" x="5e-07" height="96" width="96" id="rect865" style="fill:#1dc800;fill-opacity:1;stroke:#000000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none" /><path style="fill:#ffffff;stroke:#000000;stroke-width:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="m 22.810019,26.075075 h 18.03984 l 16.57371,24.254979 V 26.106948 H 75.367786 V 74.106947 H 57.391689 L 40.881729,50.075074 v 24.095618 h -18.16733 z" id="path40" /></g></svg>';class g extends h{constructor(e){if(e.logoSVG=m,e.type=GLOBAL.NAVER_VID_PRISM,e.typeName="NAVER_VID_PRISM",super(e),this.inkey=e.inkey,this.tags=e.tags,this.start=e.start?e.start:0,this.iframeUrl=`https://serviceapi.nmv.naver.com/view/ugcPlayer.nhn?vid=${this.id}&inKey=${this.inkey}&wmode=opaque&hasLink=0&autoPlay=${this.autoPlay}&muted=${this.muted}&beginTime=${this.start}&seq=${this.seq}`,i("new VideoNaverPrism",e),this.isExitFullscreenAfterEnd=!1,this.options_ori=e,this.$seComponent=void 0,this.$seSectionVideo=void 0,this.videoFound=!1,this.isSetMaxQuality=!1,this.latestVideoQuality=void 0,this.tryToReload=!1,this.lastTime=0,this.$NCCL_pzp_qset=void 0,this.title&&this.title.length>37){let e=$("#app div.ArticleContentBox div.article_header div.ArticleTitle h3");if(1===e.length){let t=e.text().trim();-1!==t.indexOf(this.title)&&(this.title=t)}}}static init(){if(GM_addStyle("\n            .NCCL_prism_container .se-media-meta { display:none; }\n            .NCCL_pzp_qset { border-radius: 8px; color: #fff; padding: 4px 6px !important; opacity:0; transition-property: opacity; transition-duration: 0.2s; }\n            .pzp.pzp-pc.pzp-pc--controls .NCCL_pzp_qset { opacity:1; position:relative }\n            .pzp.pzp-pc.pzp-pc--controls .NCCL_pzp_qset:hover .NCCL_pzp_qset_tooltip { visibility: visible }\n            .pzp.pzp-pc.pzp-pc--controls .NCCL_pzp_qset .NCCL_pzp_qset_tooltip{\n            font-family: -apple-system, BlinkMacSystemFont, Helvetica, Apple SD Gothic Neo, sans-serif;\n            -webkit-font-smoothing: antialiased;\n            color: #fff;\n            -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n            margin: 0;\n            padding: 0;\n            position: absolute;\n            top: -40px;\n            left: 50%;\n            height: 27px;\n            padding: 0 12px;\n            background-color: rgba(0, 0, 0, 0.6);\n            border-radius: 14px;\n            font-size: 13px;\n            line-height: 28px;\n            text-align: center;\n            color: #fff;\n            white-space: nowrap;\n            visibility: hidden;\n            transition-property: opacity;\n            transform: translateX(-50%);\n        }\n            div.pzp-pc__header .pzp-pc-header__top-shadow { display:none; }\n\n\n            /* loop btn */\n            .pzp.pzp-pc.pzp-pc--controls .NCCL_Loopbtn {\n                opacity:1;\n            }\n            .pzp .pzp-button.NCCL_Loopbtn {\n                width: 36px;\n                height: 36px;\n                padding:5px;\n                margin-right:5px;\n                opacity: 0;\n                transition-property: opacity;\n                transition-duration: 0.2s;\n            }\n            .pzp .pzp-button.NCCL_Loopbtn svg {\n                fill:#999;\n            }\n            .pzp .pzp-button.NCCL_Loopbtn.loopActivated svg {\n                fill:#ffffff;\n            }\n        "),GM_SETTINGS.alwaysShowVolumeController&&GM_addStyle("\n            .pzp.pzp-pc .pzp-pc__volume-control > .pzp-pc__volume-slider, .pzp.pzp-pc--active-volume-control .pzp-pc__volume-slider { overflow: visible; width: 80px; }\n            .pzp-pc--active-volume-control .pzp-pc__volume-slider, .pzp-pc .pzp-pc__volume-control>.pzp-pc__volume-slider { overflow: visible; width: 80px; }\n            "),1!=GM_SETTINGS.topBottomShadowOpacity&&GM_addStyle(`\n            .NCCL_prism_container .pzp.pzp-pc.pzp-pc--controls .pzp-pc-header__top-shadow,\n            .NCCL_prism_container .pzp.pzp-pc.pzp-pc--controls .pzp-pc__bottom-shadow {\n                opacity:${GM_SETTINGS.topBottomShadowOpacity} !important;\n            }\n            `),GM_SETTINGS.bottomShadowButton&&GM_addStyle("\n                div.pzp-pc__bottom-buttons { filter:drop-shadow(0px 0px 1px rgba(0, 0, 0, .9)) drop-shadow(0px 0px 1.5px rgba(0, 0, 0, .5))};\n            "),GM_SETTINGS.NaverVideoEnhancedClick){let e,t,n;$(document).on("mousedown",".NCCL_prism_container video",(function(a){e=a.pageX,t=a.pageY,n=$(a.target).get(0).paused,i("SAVE x and y",e,t,n)})),$(document).on("mouseup",".NCCL_prism_container video",(function(a){i("LOAD x and y",e,t,n);let r=e-a.pageX,o=t-a.pageY;Math.sqrt(r*r+o*o)<10||setTimeout((function(){n===$(a.target).get(0).paused&&(i("toggle play-pause by NaverVideoEnhancedClick"),$(a.target).closest(".NCCL_prism_container").find(".pzp-pc__playback-switch").trigger("click"))}),30)}))}}play(){i("VideoNaverPrism - play",this.id),this.video&&this.video.play()}pause(){i("VideoNaverPrism - pause",this.id),this.video&&this.video.pause()}stop(){i("VideoNaverPrism - stop",this.id),this.video&&this.video.stop()}eventPlay(){super.eventPlay(),this.autoPlayPauseOthers("play"),this.$NCCL_pzp_qset&&0!==this.$NCCL_pzp_qset.length&&this.$NCCL_pzp_qset.fadeOut(300)}eventPause(){}eventEnded(){this.autoPlayPauseOthers("ended"),!this.isExitFullscreenAfterEnd&&GM_SETTINGS.exitFullscreenAfterEnd&&document.fullscreenElement&&(this.isExitFullscreenAfterEnd=!0,document.exitFullscreen())}onFirstPlay(){}eventLoadeddata(e){let t=this;GM_SETTINGS.set_volume_when_stream_starts&&(this.muted?this.video.volume=0:GM_SETTINGS.set_volume_when_stream_starts&&(this.video.volume=GM_SETTINGS.target_start_volume,setTimeout((function(){let e=t.$seComponent.find(".pzp-ui-slider--volume").attr("aria-valuenow"),n=100*GM_SETTINGS.target_start_volume/e,a=n*GM_SETTINGS.target_start_volume;i("prismVolume",e,"ratioInv",n,"newVolume",a),t.video.volume=a}),100))),this.autoPlay&&!this.firstPlayed&&this.play()}onTimeupdate(e){let t=e.target.currentTime;0!==t&&(this.lastTime=t)}setMaxQuality(){if(!GM_SETTINGS.naverVideoAutoMaxQuality)return;let e=this;this.$seComponent.arrive(".pzp-pc-ui-setting-quality-item",{onlyOnce:!0,existing:!0},(function(t){if(e.isSetMaxQuality)return;let n=$(t).closest("ul").find("li");n.length>1&&e.$seComponent.arrive(".pzp-pc-setting-intro-quality",{onlyOnce:!0,existing:!0},(function(t){e.isSetMaxQuality=!0,n[1].click(),e.insertQsetDisplay();let a=$(t).find(".pzp-pc-ui-setting-intro-panel__value").text();e.latestVideoQuality=a,e.$NCCL_pzp_qset.html('<span class="NCCL_pzp_qset_tooltip">NCCL에 의해 최고 품질로 자동 설정됨</span>'+a+"<span> (최고 품질)<span>"),setTimeout((function(){e.$NCCL_pzp_qset.addClass("BANJJAK")}),200),setTimeout((function(){e.$NCCL_pzp_qset.removeClass("BANJJAK")}),3e3),new MutationObserver((function(t){t.forEach((function(t){e.firstPlayed?(i(t),e.insertQsetDisplay(),e.$NCCL_pzp_qset.text(t.target.wholeText),setTimeout((function(){e.$NCCL_pzp_qset.fadeIn(300)}),200),setTimeout((function(){e.$NCCL_pzp_qset.fadeOut(300)}),3e3)):e.latestVideoQuality!==t.target.wholeText&&(e.$NCCL_pzp_qset.text(t.target.wholeText),e.latestVideoQuality=t.target.wholeText)}))})).observe(t,{attributes:!1,childList:!1,characterData:!0,subtree:!0})}))}))}insertQsetDisplay(){0==this.$seComponent.find(".NCCL_pzp_qset").length&&null==this.$NCCL_pzp_qset&&(this.$NCCL_pzp_qset=$('<div class="NCCL_pzp_qset"></div>'),this.$seComponent.find(".pzp-pc__bottom-buttons-right").prepend(this.$NCCL_pzp_qset))}insertLoopButton(){if(!GM_SETTINGS.NaverVideoAddLoopBtn)return;let e=this;this.$seComponent.arrive(".pzp-pc__bottom-buttons-right",{onlyOnce:!0,existing:!0},(function(t){e.$seComponent.find(".NCCL_loopbtn").remove();let n=$('<button class="pzp-button pzp-pc-ui-button NCCL_Loopbtn" aria-label="루프" aria-haspopup="true" ><span class="pzp-pc-ui-button__tooltip">루프</span><svg width="22px" height="22px" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M20 7v7c0 1.103-.896 2-2 2H2c-1.104 0-2-.897-2-2V7a2 2 0 0 1 2-2h7V3l4 3.5L9 10V8H3v5h14V8h-3V5h4a2 2 0 0 1 2 2z"/></svg></button>');n.on("click",(function(t){e.video&&(e.video.loop=!e.video.loop,n.toggleClass("loopActivated"))})),$(t).prepend(n)}))}createIframeContainer(e){i("VideoNaverPrism - createIframeContainer",this.id);let t=this;if(this.$seComponent=e,this.$outermostContainer=this.$seComponent,this.$seComponent.addClass("NCCL_prism_container"),this.$seSectionVideo=e.find(".se-section-video").first(),i("isVertical",this.originalHeight>this.originalWidth,this.originalWidth,this.originalHeight),this.$seComponent.attr("NCCL_vertical",this.id),"0"!==GM_SETTINGS.shortsAutoResizeType){const{newWidth:e,newHeight:t,newRatio:n,newPaddingTop:i}=this.getNewWidth();GM_addStyle(`\n                .se-viewer .se-video.se-video-vertical.NCCL_prism_container[NCCL_vertical='${this.id}'] .se-section-video {max-width:unset !important; margin:0 auto !important; box-shadow:0px 0px 1px 1px rgb(0 0 0 / 4%);}\n                .se-viewer .se-video.se-video-vertical.NCCL_prism_container[NCCL_vertical='${this.id}'] .se-module-video {padding-top:${i}% !important}\n                .se-viewer .se-video.se-video-vertical.NCCL_prism_container[NCCL_vertical='${this.id}'] .webplayer-internal-video{object-fit: contain !important;}\n                .se-viewer .se-video.se-video-vertical.NCCL_prism_container[NCCL_vertical='${this.id}'] .pzp-poster{background-size: contain !important;}\n                .se-viewer .se-video.se-video-vertical.NCCL_prism_container[NCCL_vertical='${this.id}'] video {background: radial-gradient(ellipse at center, rgb(0 0 0 / 0%) 0%,rgb(20 20 20) 70%,rgba(0,0,0,1) 100%);}\n\n                /*\n                .se-viewer .se-video.se-video-vertical.NCCL_prism_container[NCCL_vertical='${this.id}'] video {\n                    position:relative;\n                    z-index:0;\n                    box-shadow: rgba(0, 0, 0, 0.25) 0px 54px 55px, rgba(0, 0, 0, 0.12) 0px -12px 30px, rgba(0, 0, 0, 0.12) 0px 4px 6px, rgba(0, 0, 0, 0.17) 0px 12px 13px, rgba(0, 0, 0, 0.09) 0px -3px 5px;\n                }\n                .se-viewer .se-video.se-video-vertical.NCCL_prism_container[NCCL_vertical='${this.id}'] .webplayer-internal-source-wrapper::before,\n                .se-viewer .se-video.se-video-vertical.NCCL_prism_container[NCCL_vertical='${this.id}'] .pzp-poster::before {\n                    content:'';\n                    position: absolute;\n                    top: 0%;\n                    left: 0;\n                    height: 100%;\n                    width: 100%;           \n                    background: url(${this.thumbnailUrl};);\n                    background-size: cover;\n                    background-position: center;\n                    filter: blur(50px) brightness(0.4);\n                    z-index: 0;    \n                    background-repeat: no-repeat;\n                    scale: 150%;\n                }\n                .se-viewer .se-video.se-video-vertical.NCCL_prism_container[NCCL_vertical='${this.id}'] .pzp-pc__poster::after {\n                    content:'';\n                    position: absolute;\n                    top: 0%;\n                    left: 0;\n                    height: 100%;\n                    width: 100%;           \n                    background: url(${this.thumbnailUrl};);\n                    background-size: contain;\n                    background-position: center;\n                    z-index: 0;\n                    background-repeat: no-repeat;\n                }\n                */\n                `),e<550&&GM_addStyle(`\n                .NCCL_prism_container[NCCL_vertical='${this.id}'].se-video-vertical .NCCL_pzp_qset_tooltip,\n                .NCCL_prism_container[NCCL_vertical='${this.id}'].se-video-vertical .NCCL_pzp_qset { display:none !important }\n                `)}else GM_addStyle("\n            .NCCL_prism_container.se-video-vertical .NCCL_pzp_qset_tooltip,\n            .NCCL_prism_container.se-video-vertical .NCCL_pzp_qset { display:none !important }\n            ");this.$seComponent.removeClass("se-component-content-normal").addClass("se-component-content-fit"),this.$seComponent.find(".se-section-video").css("maxWidth",`${GM_SETTINGS.videoWidth}vw`),this.$seComponent.arrive("video",{existing:!0},(function(e){i("arrive naver prism video, id = ",t.id),t.video=e,t.$video=$(e),t.videoFound=!0,t.$seComponent.on("click",".prismplayer-area.pzp-pc--ended .pzp-ui-dimmed, .prismplayer-area.pzp-pc--beforeplay .pzp-ui-dimmed",(function(){t.play()})),t.video.addEventListener("play",(e=>{t.eventPlay(e)})),t.video.addEventListener("pause",(e=>{t.eventPause(e)})),t.video.addEventListener("ended",(e=>{t.eventEnded(e)})),t.video.addEventListener("playing",(e=>{t.firstPlayed||(t.onFirstPlay(),t.firstPlayed=!0)})),t.video.addEventListener("loadeddata",(e=>{t.eventLoadeddata(e),t.videoReady=!0})),t.video.addEventListener("timeupdate",(e=>{t.onTimeupdate(e)})),new MutationObserver((function(e){e.forEach((function(e){if("class"!==e.attributeName)return;if($(e.target).hasClass("pzp-pc--error")){let e=t.$seComponent.find(".pzp-pc-ui-error-dialog__message").text();if(i("error!!",e),-1!==e.indexOf("네트워크 오류")||-1!==e.indexOf("브라우저에서 재생할 수 없는 영상")){t.$seComponent.find(".pzp-pc-ui-error-dialog__help").remove(),t.$seComponent.find(".naver_player_reload").remove();let e=$(`<div class="naver_player_reload naver_player_reload_error_btn">[${GLOBAL.scriptName} v${GLOBAL.version}]<br />네이버 플레이어를 다시 로드하려면 여기를 클릭하세요.</div>`).one("click",(function(){t.tryToReload||(t.$seComponent.find(".pzp-pc__error-dialog").addClass("reloaded"),t.tryToReload=!0,t.parseNewInkeyAndReloadPlayerPrism(t.lastTime))}));t.$seComponent.find(".pzp-pc-ui-error-dialog__message").append(e)}}}))})).observe(t.$seComponent.find(".prismplayer-area")[0],{attributes:!0,childList:!1,characterData:!1,subtree:!1})})),this.insertLoopButton(),this.setMaxQuality(),this.$container=$('<div class="NCCL_container"></div>').data("NCCL-type",this.typeName),this.$title=$('<div class="NCCL_title"></div>').data("NCCL-type",this.typeName).text(this.title?this.title:this.desc?this.desc:"제목없음"),this.url||this.originalUrl?(this.$desc=$(`<a class="NCCL_description" target="_blank">${this.logoSVG?this.logoSVG:""}</a>`).data("NCCL-type",this.typeName).attr("href",this.url),this.$link=$('<div class="NCCL_link"></div>').data("NCCL-type",this.typeName).text(this.url?"("+this.url+")":""),this.$desc.append(this.$title).append(this.$link)):(this.$desc=$(`<div class="NCCL_description">${this.logoSVG?this.logoSVG:""}</div>`).data("NCCL-type",this.typeName),this.$desc.append(this.$title)),GM_SETTINGS.hideDescription&&this.$desc.hide(),this.$container.append(this.$desc);let n=this.$seComponent.find(".se-module-video");0!==n.length?n.after(this.$container):this.$seSectionVideo.append(this.$container),GM_SETTINGS.NaverVideoEnhancedClick&&this.$seComponent.on("click",".pzp-ui-dimmed",(function(e){let n=$(e.target);0===n.parent(".pzp.pzp-pc--beforeplay").length&&0===n.parent(".pzp.pzp-pc--ended").length||(i("Play this video by clicking video background"),t.play())}))}async parseNewInkeyAndReloadPlayerPrism(e){const t=document.location.href;let n=t.match(/^https:\/\/cafe.naver.com\/ca-fe\/cafes\/(\d+)\/articles\/(\d+)/);if(i(t,n),null===n)return void i("parseNewInkeyAndReloadPlayer match null");let a=await fetch(`https://apis.naver.com/cafe-web/cafe-articleapi/v2/cafes/${n[1]}/articles/${n[2]}?query=&boardType=L&useCafeId=true&requestFrom=A`,{headers:{accept:"application/json, text/plain, */*","accept-language":"ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7","sec-ch-ua":'".Not/A)Brand";v="99", "Google Chrome";v="103", "Chromium";v="103"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","x-cafe-product":"pc"},referrer:t,referrerPolicy:"unsafe-url",body:null,method:"GET",mode:"cors",credentials:"include"});if(i("urlFetch",a),200!==a.status)return i("parseNewInkeyAndReloadPlayer - Fail to fetch",a),void this.showReloadError();var r=await a.json();i("urlText",r);for(var o="",s="",l=r.result.article.contentHtml,d=$(l).find("script.__se_module_data"),c=!1,p=0;p<d.length;p++){var u=$(d[p]);let e=JSON.parse(u.attr("data-module"));if(o=e.data.vid,this.id==o){i("FOUND new inkey",this.inkey,"->",e.data.inkey),s=e.data.inkey,c=!0;break}}if(!c)return i("FAIL TO GET NEW VID AND INKEY FOR NAVER VIDEO"),this.showReloadError(),!1;return this.options_ori.id=o,this.options_ori.inkey=s,this.options_ori.autoPlay=!0,this.options_ori.start=e,new _(this.options_ori).createIframeContainer(this.$seComponent),!0}showReloadError(){this.showError(`[${GLOBAL.scriptName} v${GLOBAL.version}]<br />플레이어 리로드에 실패했습니다. 페이지를 직접 새로고침 해주세요.</a>`)}}const f='<svg viewBox="0 0 69.15 75.91" width="18px" height="18px" style="margin-top:-2px;" xmlns="http://www.w3.org/2000/svg"><path d="M2.14,65A108.54,108.54,0,0,1,0,43.19a100.16,100.16,0,0,1,1.33-17.07,20.93,20.93,0,0,1,.71-2.77,11.1,11.1,0,0,1,6.35-6.74A28.88,28.88,0,0,1,13.26,15a83.71,83.71,0,0,1,19.15-2.37h.45A78.06,78.06,0,0,1,51.77,15a49.58,49.58,0,0,1,5.15,1.68s5.07,2,6.42,6.67A24.76,24.76,0,0,1,64,26a114.94,114.94,0,0,1,1.36,17.21,110.06,110.06,0,0,1-2.2,21.93v0a10.05,10.05,0,0,1-7.66,7.75l-.36.07a115.36,115.36,0,0,1-22.46,2.2A115.39,115.39,0,0,1,10.26,73l-.5-.1A10,10,0,0,1,4,69.2,8.83,8.83,0,0,1,2.14,65Z" fill="none"/><path d="M50.22,1.27a2.33,2.33,0,0,1-1.36,3.25l-14.11,6.41a4.66,4.66,0,0,1-4.37-.1l-9.12-4.32a2.34,2.34,0,0,1-.61-3.44h0A2.3,2.3,0,0,1,24,2.81l7,5.64a2.47,2.47,0,0,0,2.19.52A3,3,0,0,0,34,8.6L46.91.33a2.35,2.35,0,0,1,3.31.94Z" fill="#0545b1"/><g><path d="m68.24 27.38c-1-7.4-2.7-11.63-12.33-13.81a105.8 105.8 0 0 0-20.14-2.57c-1.09-0.05-2.19-0.05-3.29 0a105.71 105.71 0 0 0-20.13 2.58c-7.13 1.62-9.92 4.35-11.29 8.67-0.24 0.76 2.06-0.45 1.89 0.41s0.53 12.21 0.4 13.17c-1 7.29-4.24 7.61-4.24 7.87a134.72 134.72 0 0 0 0.89 16.3c1 7.4 2.71 11.62 12.34 13.81 8.68 2 15 1.83 20.13 2.06h3.29c5.16-0.23 11.45-0.1 20.14-2.06 9.63-2.19 11.34-6.41 12.33-13.81a132.48 132.48 0 0 0 0.9-16.31c0-0.14-1.45-3-2.88-6.78-0.14-0.37-1.08 1.57-1.22 1.19-1-2.74-1.09-8.12-1.41-10.85-0.04-0.44 4.68 0.56 4.62 0.13z" fill="#0545b1"/><path d="m43.87 33.56c-0.07-2.56-0.1-5.08 0-7.61a5.56 5.56 0 0 1 2.58-4.79 6.39 6.39 0 0 1 5.83-0.29c3 1.33 6.82 3.37 6.82 3.37 2.21 1.2 4.07 2.21 6.39 3.72a2.5 2.5 0 0 1 0.35 0.21 5.63 5.63 0 0 1 0.07 9.45c-2.2 1.46-4.11 2.85-6.37 4.25a60 60 0 0 1-5.93 3.31 7.37 7.37 0 0 1-6.32 0.32 6.14 6.14 0 0 1-3-4.94s-0.29-2.79-0.42-7z" fill="#00bbed"/><path d="m47.75 53.93c-7.31 6.8-23.16 6.81-30.27 0a1.44 1.44 0 0 0-2 2.07c8.21 7.84 25.8 7.85 34.21 0a1.43 1.43 0 1 0-1.95-2.1z" fill="#fff"/><path d="M41.91,42.6a.2.2,0,0,1,0-.07l0-.43-1-10.77,0-.3a5,5,0,0,0-.13-.69,5.55,5.55,0,0,0-4.43-4.13,5.64,5.64,0,0,0-.93-.08h-5.53a5.29,5.29,0,0,0-.8.06,5.56,5.56,0,0,0-4.56,4.14c0,.18-.08.37-.11.55l-.05.58-1,10.7,0,.25a1.15,1.15,0,0,0,0,.19,1.48,1.48,0,0,0,0,.21,5.56,5.56,0,0,0,4.14,5.37,5.45,5.45,0,0,0,1.41.19h7.51a5.5,5.5,0,0,0,.91-.08,5.57,5.57,0,0,0,4.64-5.48Z" fill="#1ac62f"/><path d="m21.11 36.67c-2.13 7.11-8.5 10.73-15.54 9.51-7.31-1.26-12.59-11.6-8.95-18 3.12-5.46 9.92-9.5 17-7.32 7.55 2.35 9.64 8.63 7.49 15.81z" fill="#f2338a"/><circle cx="54.1" cy="33.27" r="4.69" fill="#1a1919"/><circle cx="10.46" cy="33.27" r="4.69" fill="#1a1919"/></g></svg>';class v extends h{constructor(e){e.logoSVG=f,e.type=GLOBAL.AFTV_VOD,e.typeName="AFTV_VOD",super(e),this.parseDataRequired=!0,this.start=e.start,i("new VideoAFTV",e)}async parseData(){if(this.isDataLoading||this.isDataLoaded)return;this.isDataLoading=!0;let e=await fetch(`https://openapi.afreecatv.com/vod/embedinfo?vod_url=https://vod.afreecatv.com/player/${this.id}`,{method:"POST",cors:"no-cors",body:""});if(200===e.status){let t=await e.json();if(i("AFTV response",t),void 0===t.html)return this.isDataLoading=!1,this.isDataLoaded=!0,this.isDataSucceed=!1,void this.showParsingError(-1,"아프리카 비디오 파싱 중 에러가 발생했습니다."+(t.msg?"<br />"+t.msg:""));let n=t.html.match(/src=['"]([a-zA-Z0-9-_%&?=./:]+)['"]/);if(null===n)return this.isDataLoading=!1,this.isDataLoaded=!0,void(this.isDataSucceed=!1);let a=n[1];a=a.replace("embed?",`embed?parent=cafe.naver.com&extension=NCCL&seq=${this.seq}&`),-1!==a.indexOf("autoPlay")&&(a=a.replace(/(autoPlay=)(true|false)/,`$1${this.autoPlay}`)),-1!==a.indexOf("isEmbedautoPlay")&&(a=a.replace(/(isEmbedautoPlay=)(true|false)/,`$1${this.autoPlay}`)),-1!==a.indexOf("mutePlay")&&(a=a.replace(/(mutePlay=)(true|false)/,`$1${this.muted}`)),-1!==a.indexOf("showChat")&&(a=a.replace(/(showChat=)(true|false)/,`$1${GM_SETTINGS.aftvShowChat}`)),this.start>0&&(a+=`&change_second=${this.start}`),this.iframeUrl=a,this.postParseData()}else this.isDataLoading=!1,this.isDataLoaded=!0,this.isDataSucceed=!1,this.showParsingError(0)}}var y=n(830);const b='<svg style="vertical-align: middle;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="18" height="18" viewBox="0 0 461.001 461.001" style="enable-background:new 0 0 461.001 461.001;" xml:space="preserve">\n<g>\n    <path style="fill:#F61C0D;" d="M365.257,67.393H95.744C42.866,67.393,0,110.259,0,163.137v134.728c0,52.878,42.866,95.744,95.744,95.744h269.513c52.878,0,95.744-42.866,95.744-95.744V163.137C461.001,110.259,418.135,67.393,365.257,67.393z M300.506,237.056l-126.06,60.123c-3.359,1.602-7.239-0.847-7.239-4.568V168.607c0-3.774,3.982-6.22,7.348-4.514l126.06,63.881C304.363,229.873,304.298,235.248,300.506,237.056z"/>\n</g>\n</svg>';class G extends h{static nytvideos=0;static ytvideo=[];static playlistAvailable={};static playlistAvailableParsingQueue={};constructor(e){e.logoSVG=b,super(e),e.type===GLOBAL.YOUTUBE_VOD?(this.type=GLOBAL.YOUTUBE_VOD,this.ytid=e.id,this.ytClipId=void 0,this.ytPlaylistId=void 0,this.typeName="YOUTUBE_VOD"):e.type===GLOBAL.YOUTUBE_CLIP?(this.type=GLOBAL.YOUTUBE_CLIP,this.ytid=void 0,this.ytClipId=e.id,this.ytPlaylistId=void 0,this.typeName="YOUTUBE_CLIP",this.parseDataRequired=!0,this.title&&"-1"===this.title.indexOf("✂️")&&(this.title="✂️ "+this.title)):e.type===GLOBAL.YOUTUBE_PLAYLIST&&(this.type=GLOBAL.YOUTUBE_PLAYLIST,this.ytid=void 0,this.ytClipId=void 0,this.ytPlaylistId=e.id,this.typeName="YOUTUBE_PLAYLIST",this.title="[Playlist] "+this.title),this.start=e.start,this.end=e.end,this.list=e.list,this.index=e.index,this.ab_channel=e.ab_channel,i("new VideoYoutube",e),this.YTPlayer=void 0,this.isDataLoading=!1,this.isDataLoaded=!1,this.isDataSucceed=!1,this.originalThumbnailUrl=e.thumbnailUrl,this.isThumbnailReloaded=!1,this.darkMode=!!e.darkMode&&e.darkMode,this.$scrollOveray=void 0,G.nytvideos+=1,G.ytvideo.push(this)}static init(){try{if(!GM_SETTINGS.useYoutube)return;$("head").prepend('<script async type="text/javascript" src="https://www.youtube.com/iframe_api"><\/script>')}catch(a){i("FAIL TO LOAD YOUTUBE IFRAME API. TRY TO INSERT YT API MANUALLY",a);const r="https://www.youtube.com/s/player/4c3f79c5/www-widgetapi.vflset/www-widgetapi.js";try{var e=window.trustedTypes.createPolicy("youtube-widget-api",{createScriptURL:function(e){return e}});r=e.createScriptURL(r)}catch(e){}if(!window.YT)var t={loading:0,loaded:0};if(!window.YTConfig)var n={host:"https://www.youtube.com"};t.loading||(t.loading=1,function(){var e=[];t.ready=function(n){t.loaded?n():e.push(n)},window.onYTReady=function(){t.loaded=1;for(var n=0;n<e.length;n++)try{e[n]()}catch(e){}},t.setConfig=function(e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])};var i=document.createElement("script");i.type="text/javascript",i.id="www-widgetapi-script",i.src=r,i.async=!0;var a=document.currentScript;if(a){var o=a.nonce||a.getAttribute("nonce");o&&i.setAttribute("nonce",o)}var s=document.getElementsByTagName("script")[0];s?s.parentNode.insertBefore(i,s):document.getElementsByTagName("head")[0].appendChild(i)}())}}onYTPlayerReady(e){e.target.muted?e.target.setVolume(0):GM_SETTINGS.set_volume_when_stream_starts&&e.target.setVolume(100*GM_SETTINGS.target_start_volume)}onYTPlayerStateChange(e){let t=e.target.seq;GM_SETTINGS.autoPauseOtherClips&&e.data===YT.PlayerState.PLAYING?h.videos[t].eventPlay():GM_SETTINGS.autoPlayNextClip&&e.data===YT.PlayerState.ENDED&&h.videos[t].eventEnded()}createIframe(){try{let e=this;if(void 0===YT||!YT.loading)return this.recur||(this.recur=0),this.recur+=1,i("[createIframe] There is no youtube iframe api yet, reload",this.id,this.recur),this.recur<10?void setTimeout((function(){e.createIframe()}),100*this.recur):void 0;const t="NCCL-"+this.id;this.$iframe&&this.$iframe.remove(),this.$iframe=$('<div class="NCCL_iframe"></div>'),this.$iframe.attr("id",t),this.$iframeContainer.append(this.$iframe);let n=this.originalHeight>this.originalWidth&&(/#shorts/i.test(this.title)||/shorts/i.test(this.originalUrl));if(i("isVertical",this.id,n),n&&"0"!==GM_SETTINGS.shortsAutoResizeType&&(this.$logoSVG.replaceWith('<svg style="vertical-align: middle;" fill="none" height="18" viewBox="0 0 87 115" width="18"><path clip-rule="evenodd" d="M83.99 10.81C90.08 21.24 86.62 34.66 76.26 40.79L69.05 45.06L74.17 47.38C81.58 50.74 86.52 57.99 86.96 66.17C87.40 74.34 83.27 82.09 76.26 86.24L32.76 111.97C22.41 118.10 9.08 114.61 3.00 104.18C-3.08 93.75 .37 80.33 10.73 74.20L17.94 69.93L12.82 67.61C5.41 64.25 .47 57.00 .03 48.82C-0.40 40.65 3.72 32.90 10.73 28.75L54.23 3.02C64.58 -3.10 77.91 .38 83.99 10.81Z" fill="#f00" fill-rule="evenodd"></path><path clip-rule="evenodd" d="M33 74L33 41L61 57.5L33 74Z" fill="white" fill-rule="evenodd"></path></svg>'),this.$iframeContainer.attr("NCCL_vertical",this.id),"0"!==GM_SETTINGS.shortsAutoResizeType)){const{newWidth:e,newHeight:t,newRatio:n,newPaddingTop:i}=this.getNewWidth();GM_addStyle(`\n                    .NCCL_container[NCCL_vertical='${this.id}'] {box-shadow:0px 0px 1px 1px rgb(0 0 0 / 4%);}\n                    .NCCL_iframe_container[NCCL_vertical='${this.id}'] {aspect-ratio:${n} !important;}\n                    `)}let a={height:"100%",width:"100%",videoTitle:"",playerVars:{autoplay:this.autoPlay?1:0,mute:this.muted?1:0,autohide:1,showinfo:0,controls:1,loop:0},suggestedQuality:"hd1080",events:{onReady:this.onYTPlayerReady,onStateChange:this.onYTPlayerStateChange}};if(this.ytid&&(a.videoId=this.ytid),this.start&&(a.playerVars.start=this.start),this.end&&(a.playerVars.end=this.end),this.clipt&&(a.playerVars.clipt=this.clipt),this.ytClipId&&(a.playerVars.clip=this.ytClipId),this.ytClipId&&this.clipt&&this.foundStoryBoardUrl&&this.foundStoryBoardSeq&&(a.playerVars.storyBoardUrl=this.foundStoryBoardUrl,a.playerVars.storyBoardSeq=this.foundStoryBoardSeq),this.darkMode&&(a.playerVars.darkMode=this.darkMode),this.type===GLOBAL.YOUTUBE_PLAYLIST&&this.ytPlaylistId&&(a.playerVars.listType="playlist",a.playerVars.list=this.ytPlaylistId),this.type===GLOBAL.YOUTUBE_VOD&&this.list&&(a.playerVars.list=this.list,this.index&&(a.playerVars.index=this.index),this.ab_channel&&(a.playerVars.ab_channel=this.ab_channel)),this.YTPlayer=new YT.Player(t,a),this.YTPlayer.seq=this.seq,this.YTPlayer.muted=this.muted,i("CREATE YTPlayer",this.id,a,this.YTPlayer),this.$iframe=this.$iframeContainer.find(".NCCL_iframe"),setTimeout((function(){e.$iframe.attr("title","")}),1e3),GM_SETTINGS.youtubeFixClickAfterScrolling){let t=!1;this.$iframeContainer.css("position","relative");let n="";n=GM_SETTINGS.hideTopOverlay?"0px":"55px",this.$scrollOveray=$(`<div class="NCCL_scrolloveray" style="position:absolute;width:100%;height: calc(100% - ${n} - 50px);top:${n};left:0px;z-index:1000;${t?"background:red;":""}"></div>`),this.$scrollOveray.on("click",(function(t){if(i("clicked."),!e.$iframe||"function"!=typeof e.YTPlayer.getPlayerState)return;let n=e.YTPlayer.getPlayerState();-1==n||0==n||2==n||5==n?(i("NCCL_scrolloveray clicked. Play video."),e.play()):1==n&&(i("NCCL_scrolloveray clicked. Pause video."),e.pause())})),e.$iframeContainer.append(e.$scrollOveray),e.$scrollOveray.hide()}}catch(e){i("Error from createYTIframe",e),this.showError(`[${GLOBAL.scriptName} v${GLOBAL.version}]<br />${"알 수 없는 에러가 발생했습니다. 페이지를 직접 새로고침 해보세요.<br />"+l(e)}<br /><a class="errorURL"></a>`)}}play(){this.$iframe&&"function"==typeof this.YTPlayer.playVideo&&this.YTPlayer.playVideo()}pause(){this.$iframe&&"function"==typeof this.YTPlayer.pauseVideo&&this.YTPlayer.pauseVideo()}stop(){this.$iframe&&"function"==typeof this.YTPlayer.stopVideo&&this.YTPlayer.stopVideo()}eventPlay(){super.eventPlay(),this.autoPlayPauseOthers("play")}eventPause(){}eventEnded(){this.autoPlayPauseOthers("ended")}thumbnailLoaded(e){i("thumbnailLoaded",this.id,e.target.naturalWidth,e.target.naturalHeight);let t=e.target.naturalWidth,n=e.target.naturalHeight;!this.isThumbnailReloaded&&t<150&&n<150&&(i("thumbnail image is small, replace thumbnail!"),this.isThumbnailReloaded=!0,this.originalThumbnailUrl?e.target.src=this.originalThumbnailUrl:e.target.src=e.target.src.replace("maxresdefault","hqdefault"))}parseData(){try{if(this.isDataLoading||this.isDataLoaded)return;this.isDataLoading=!0;let e=this;i("parseYoutubeClipInfo. try to connect ",e.url),GM.xmlHttpRequest({method:"GET",url:e.url,headers:{},onload:function(t){if(200!==t.status)return e.isDataLoading=!1,e.isDataLoaded=!0,e.isDataSucceed=!1,void e.showParsingError(0);const n=t.responseText;i("parseYoutubeClipInfo, status = 200");const o=n.match(/,"videoDetails":{"videoId":"([a-zA-Z0-9-_]+)"/i);if(null===o)return r("getYTClipPageInfoXHR FAIL - rpt_match_videoId",e.id),r("rpt",n),e.isDataLoading=!1,e.isDataLoaded=!0,e.isDataSucceed=!1,void e.showParsingError(0);e.ytid=o[1];const s=n.match(/clipt=([a-zA-Z0-9-_]+)/i);null!==s?e.clipt=s[1]:(a("getYTClipPageInfoXHR partial FAIL - clipt",e.id),e.clipt=void 0);const l=n.match(/<link itemprop="embedUrl" href="([a-zA-Z0-9-_./:=&;?]+)">/);let d=!1;if(null!==l&&(e.iframeUrl=l[1],d=!0),!d)return r("getYTClipPageInfoXHR FAIL - embedUrl",e.id),e.showParsingError(1),e.updateThumbnail(e.originalThumbnailUrl),e.$thumbnailContainer.css("cursor","default"),e.isDataLoading=!1,e.isDataLoaded=!0,void(e.isDataSucceed=!1);const c=n.match(/"playerStoryboardSpecRenderer":{"spec":"([a-zA-Z0-9-_,./?=|!@#$%^&*():]+)"/i),p=n.match(/"lengthSeconds":"(\d+)"/i),u=n.match(/"startTimeMs":"(\d+)"/i),h=n.match(/"endTimeMs":"(\d+)"/i);if(null!==c&&null!==p&&null!==u&&null!==h){e.storyBoardSpec=c[1],e.seconds=p[1],e.storyBoard=function(e,t,n,i){let a,r,o=t.split("|"),s=o[0].split("$")[0]+"2/",l=o[0].split("$")[0]+"1/",d=o[0].split("$N")[1];3===o.length?(a=o[2].split("M#")[1],r=o[1].split("M#")[1]):2===o.length?a=o[1].split("t#")[1]:(a=o[3].split("M#")[1],r=o[2].split("M#")[1]);let c=0,p=25,u=[];!1===n&&(p=100);let h=-1;i<120?h=1:i>=120&&i<300?h=2:i>=300&&i<900?h=5:i>=900&&(h=10);c=Math.ceil(i/h/p);let _=0,m=0;if(!0===n)for(let e=0;e<c;e++)_=m,m=_+h*p,u.push({}),u[e].url=s+"M"+e+d+"&sigh="+encodeURIComponent(a),u[e].start=_,u[e].slice=h,e!=c-1?(u[e].end=m,u[e].no=p):(u[e].end=Number(i),u[e].no=Math.ceil((u[e].end-u[e].start)/h));else for(let e=0;e<c;e++)u.push(l+"M"+e+d+"&sigh="+r);if("url"===e)return u;if("parts"===e){return{firstPart:`${s}M`,secondPart:`${d}&sigh=${a}`}}if("keys"===e){return{sgp:d.slice(9),sigh:a}}}("url",e.storyBoardSpec,!0,e.seconds),e.start=Number(u[1])/1e3,e.end=Number(h[1])/1e3,e.foundStoryBoardUrl=void 0,e.foundStoryBoardSeq=void 0;const t=(e.end-e.start)/2+e.start;for(let n=0;n<e.storyBoard.length;n++){const a=e.storyBoard[n];if(a.start<=t&&a.end>t){let n=Math.floor((t-a.start)/a.slice)+1;n<0?n=0:n>=a.no-1&&(n=a.no-1),i("found storyboard image",n,a.url),e.foundStoryBoardUrl=a.url,e.foundStoryBoardSeq=n;let r=(0,y.N)(e.foundStoryBoardUrl);"about:blank"!==r&&e.updateThumbnail(r);let o="0",s="0";n>=0&&n<10?s="calc(100% / 5)":n>=15&&n<25&&(s="calc(-100% / 5)"),n%5==0||n%5==1?o="calc(100% / 5)":n%5!=3&&n%5!=4||(o="calc(-100% / 5)"),e.$thumbnail.css("border","1px solid #eee").css("transform",`scale(calc(5/3)) translate(${o}, ${s})`)}}}else a("getYTClipPageInfoXHR partial FAIL - story board",e.id),a("rpt",n),a("rpt_match2",c),a("rpt_match3",p),a("rpt_match4",u),a("rpt_match5",h);i("getYTClipPageInfoXHR Succeed"),e.isDataLoading=!1,e.isDataLoaded=!0,e.isDataSucceed=!0,e.postParseData()}})}catch(e){r("getYTClipPageInfoXHR FAIL - catch",this.id,e),this.isDataLoading=!1,this.isDataLoaded=!0,this.isDataSucceed=!1,this.showParsingError(0)}}}const w={showUpdateMessage:{category:"version",depth:1,under_dev:!0,type:"checkbox",value:!0,title:"업데이트 알림 표시",desc:"스크립트 버전 업데이트 시 화면 좌측 하단에 스크립트가 업데이트 되었다는 알림을 띄웁니다."},convertMethod:{category:"videoCommon",category_name:"⚙️ 플레이어 설정",category_desc:"비디오 링크를 변환하는 시점, 재생 방법, 플레이어 동작을 설정합니다.<br />Youtube, Twitch Clip, Naver Video 외 플랫폼에는 적용되지 않을 수 있습니다.",depth:1,type:"radio",value:"autoLoad",title:"비디오 링크 변환 시점 선택",desc:"<optdesc>페이지 로딩 시: 링크를 비디오로 자동 변환</optdesc><optdesc>섬네일 클릭 시: 섬네일을 클릭할 때 비디오로 변환</optdesc>",radio:{autoLoad:{title:"페이지 로딩 시",value:"autoLoad"},clickRequired:{title:"섬네일 클릭 시",value:"clickRequired"}}},autoPlayFirstClip:{category:"videoCommon",depth:2,radio_enable_value:"autoLoad",type:"checkbox",value:!1,title:"[페이지 로딩 시] 페이지 로딩과 동시에 첫 번째 동영상을 자동 재생",desc:"일부 동영상 플랫폼의 경우 지원하지 않을 수 있습니다."},autoPlayFirstClipMuted:{category:"videoCommon",depth:2,radio_enable_value:"autoLoad",type:"checkbox",value:!0,title:"[페이지 로딩 시] 첫 번째 클립 자동 재생 시 음소거로 시작",desc:"일부 동영상 플랫폼의 경우 시작 시 음소거 기능을 지원하지 않아 소리가 켜진채로 자동 재생될 수 있으므로 주의하세요."},clickRequiredAutoPlay:{category:"videoCommon",depth:2,under_dev:!0,radio_enable_value:"clickRequired",type:"checkbox",value:!0,title:"[섬네일 클릭 시] 클립 로드 시 섬네일 클릭과 동시에 자동 재생",desc:""},set_volume_when_stream_starts:{category:"videoCommon",depth:1,type:"checkbox",value:!1,title:{en:"Set the volume when stream starts",ko:"비디오 로드 시 기본 사운드 볼륨(Volume) 설정"},desc:"비디오 로드 시 플레이어의 사운드 볼륨을 원하는 값으로 설정합니다.<br />TIP: Chrome 계열 브라우저는 자동 재생되는 클립을 종종 음소거합니다. 음소거 문제를 피하려면 본 옵션을 사용해보세요(안 될 수도 있음)."},target_start_volume:{category:"videoCommon",depth:2,type:"text",value:1,valid:"number",min_value:0,max_value:1,title:{en:"Volume",ko:"Volume"},desc:{en:"(Max Volume: 1.0, Mute: 0.0, Range: 0.0 ~ 1.0)",ko:"(Max Volume: 1.0, 음소거: 0.0, 범위: 0.0 ~ 1.0)"}},autoPauseOtherClips:{category:"videoCommon",depth:1,type:"checkbox",value:!0,title:"비디오 재생 시 다른 재생 중인 비디오 일시정지",desc:"다른 재생 중인 모든 비디오를 일시정지 합니다. 다음 동영상을 재생하기 위하여 이전 동영상을 정지할 필요가 없습니다. (엄청 편하다!)"},autoPlayNextClip:{category:"videoCommon",depth:1,type:"checkbox",value:!1,title:"다음 영상을 자동으로 이어서 재생",desc:"본문에 여러 개의 동영상이 존재할 때 재생이 종료되면 다음 영상을 자동으로 재생합니다."},exitFullscreenAfterEnd:{category:"videoCommon",depth:1,type:"checkbox",value:!0,title:"재생 완료 후 전체화면 자동 해제",desc:"동영상 재생이 완료되면 전체화면을 자동으로 해제합니다. 자동 전체화면 해제는 동영상 별 1회에 한해 적용됩니다."},shortsAutoResizeType:{category:"videoCommon",depth:1,type:"combobox",value:"1",title:"Shorts 비디오 크기 자동 조절",desc:"세로 비디오(예: Shorts)의 크기를 보기 좋은 사이즈로 맞춥니다.<br />Shorts 비디오가 이상하게 표시되는 경우 본 기능을 '사용 안 함'으로 설정하세요.<br /><br /><optdesc>화면 가득(기본값): 현재 브라우저의 화면 높이에 맞게 세로 비디오의 사이즈를 키웁니다. 스크롤을 살짝하면 비디오를 화면 가득 볼 수 있습니다. (1080p 해상도 권장)</optdesc><optdesc>적당히: 스크롤 없이 글 제목과 세로 비디오를 한 눈에 볼 수 있도록 비디오 사이즈를 적당히 키웁니다. (4K 해상도 권장)</optdesc><br />* 사용자가 직접 가로 비디오로 삽입한 Youtube Shorts 비디오 등 일부 비디오에는 본 기능이 적용되지 않을 수 있습니다.",options:{0:{title:"사용 안 함"},1:{title:"화면 가득"},2:{title:"적당히"}}},autoScrollByVideoVisibility:{category:"videoCommon",depth:1,type:"combobox",value:"1",title:"비디오 재생 시 자동 스크롤",desc:"비디오가 재생될 때 적절한 위치로 자동 스크롤 합니다.<br />만약 스크롤이 자동으로 이동하는 것을 원하지 않거나, 비디오가 재생될 때 스크롤 위치가 이상하게 변경되는 문제가 발생하는 경우 본 기능을 '사용 안 함'으로 설정하세요.<br /><br /><optdesc>안 보일 때만 가장 가깝게(기본값): 비디오 재생 시 플레이어의 일부가 화면에 보이지 않는 경우, 플레이어를 전체를 화면에 표시할 수 있는 가장 가까운 위치로 자동 스크롤 합니다.</optdesc><optdesc>안 보일 때만 화면 중앙: 비디오 재생 시 플레이어의 일부가 화면에 보이지 않는 경우, 플레이어가 화면 중앙에 위치하도록 자동 스크롤 합니다.</optdesc><optdesc>항상 화면 중앙: 비디오가 재생될 때 플레이어가 화면 중앙에 위치하도록 무조건 자동 스크롤 합니다.</optdesc><br />* 플레이어 높이가 화면 전체 높이보다 큰 경우 플레이어의 가장 위를 화면에 맞춥니다.",options:{0:{title:"사용 안 함"},1:{title:"안 보일 때만 가장 가깝게"},2:{title:"안 보일 때만 화면 중앙"},3:{title:"항상 화면 중앙"}}},alwaysShowVolumeController:{category:"personal",category_name:"🛠️ 개인화",category_desc:"비디오 플레이어의 외형을 개인화 합니다.",depth:1,type:"checkbox",value:!1,title:"볼륨 컨트롤바를 항상 표시",desc:"Youtube, Twitch, Naver Video 에서 플레이어의 볼륨 컨트롤바를 항상 표시합니다."},videoWidth:{category:"personal",depth:1,under_dev:!0,type:"text",value:100,valid:"number",min_value:1,max_value:100,title:"플레이어 가로 사이즈(%)",desc:"본문 사이즈 대비 비디오 플레이어의 가로 사이즈를 결정합니다.<br />(Default: 100, Range: 1~100)"},removeOriginalLinks:{category:"personal",depth:1,type:"checkbox",value:!0,title:"글 본문에서 비디오의 원본 링크 삭제",desc:"삽입된 비디오와 동일한 링크가 글 본문에 존재하는 경우 삭제하여 보기 좋게 만듭니다.<br />원본 동영상 링크를 삭제하지 않으려면 본 기능을 끄세요."},hideTopOverlay:{category:"videoCommon",depth:1,type:"checkbox",value:!1,title:"플레이어 상단 메뉴를 숨김",desc:"플레이어 위에 마우스를 올렸을 때 표시되는 상단 메뉴를 숨깁니다. 화면을 더욱 깔끔하게 표시할 수 있습니다.<br />Youtube Playlist 의 경우 본 옵션은 무시됩니다."},hidePauseOverlay:{category:"personal",depth:1,type:"checkbox",value:!0,title:"동영상 일시정지 시 표시되는 메뉴를 숨김",desc:"동영상 일시정지 시 동영상 더보기, 추천 영상 등의 화면을 가리는 오버레이를 숨깁니다."},hideEndOverlay:{category:"personal",depth:1,type:"checkbox",value:!0,title:"동영상 시청 종료 후 표시되는 메뉴를 숨김",desc:"동영상 시청 종료 후 표시되는 추천 영상 메뉴 등의 오버레이를 숨기고, Youtube 의 경우 동영상 종료 후 화면을 클릭하여 리플레이 할 수 있도록 합니다."},hideDescription:{category:"personal",depth:1,type:"checkbox",value:!1,title:"동영상 제목 및 설명을 표시하지 않음",desc:"플레이어 하단에 삽입되는 동영상 제목 및 설명 부분을 표시하지 않습니다. (플랫폼 로고, 동영상 제목, 링크 등)<br />깔끔하게 비디오만 표시하고 싶다면 본 기능을 켜세요."},hideDescriptionLogo:{category:"personal",depth:1,under_dev:!0,type:"checkbox",value:!1,title:"동영상 설명의 플랫폼 로고를 표시하지 않음",desc:"플레이어 하단 설명에서 플랫폼 로고만을 숨깁니다."},topBottomShadowOpacity:{category:"personal",depth:1,under_dev:!0,type:"text",value:1,valid:"number",min_value:0,max_value:1,title:"플레이어 상하단 그림자 투명도",desc:"Naver Prism Player 및 Youtube Player 에 마우스를 올렸을 때 플레이어 상하단 그림자의 투명도를 조절하여 비디오를 더욱 밝게 볼 수 있도록 합니다. 이 값을 0에 가깝게 설정하면 하얀 배경에서 컨트롤러 버튼이 제대로 보이지 않음에 주의하세요.<br />(범위: 0.0[그림자 없음] ~ 1.0[기본])"},bottomShadowButton:{category:"personal",depth:1,under_dev:!0,type:"checkbox",value:!1,title:"플레이어 하단 버튼 그림자 추가",desc:"Naver Prism Player 및 Youtube Player 에 마우스를 올렸을 때 나타나는 하단 버튼에 그림자를 추가합니다. '비디오 상하단 그림자 투명도' 값을 0에 가깝게 설정했을 때 사용하세요."},useNaver:{category:"naver",category_name:m+"Naver Video",category_desc:"",depth:1,type:"checkbox",value:!0,title:"Naver 관련 기능 사용",desc:"Naver video 와 관련한 스크립트 기능을 적용합니다.<br />Naver 동영상 재생에 문제가 발생하는 경우 본 기능을 꺼주세요."},naverVideoPlayerType:{category:"naver",depth:2,type:"combobox",value:"0",title:"Naver Video Player 타입",desc:"<optdesc>Prism Player: 최신 플레이어 입니다. 체감 상 조금 더 빠릅니다.</optdesc><optdesc>Legacy: 2023년 2월 이전에 적용되던 Naver Media Player 입니다. Lazyload가 적용되어 동영상이 아주 많은 글에서 좋은 퍼포먼스를 보일 수 있습니다. 이전 플레이어가 익숙하신 분들은 이 플레이어를 선택하세요.</optdesc>",options:{0:{title:"Prism Player"},1:{title:"Legacy"}}},naverVideoAutoMaxQuality:{category:"naver",depth:2,type:"checkbox",value:!0,title:"네이버 비디오를 항상 최고 품질로 시작",desc:""},NaverVideoAddLoopBtn:{category:"naver",depth:2,type:"checkbox",value:!1,title:"Loop 버튼 추가",desc:"플레이어에 Loop 버튼을 추가합니다. 재생시간이 긴 동영상을 오랜 시간 반복 재생 시 네트워크 에러가 발생할 수 있습니다."},NaverVideoEnhancedClick:{category:"naver",under_dev:!0,depth:2,type:"checkbox",value:!0,title:"네이버 비디오 화면 클릭 동작 개선",desc:"네이버 비디오 화면 위에서 클릭 후 살짝 마우스를 움직일 때 클릭이 씹히는 것을 개선합니다. 더블클릭으로 전체화면 모드를 활성화 합니다. 동영상 재생 전 & 재생이 끝난 후 배경화면을 클릭하여 동영상을 재생할 수 있습니다."},useYoutube:{category:"youtube",category_name:b+"Youtube",category_desc:"",depth:1,type:"checkbox",value:!0,title:"Youtube 관련 기능 사용",desc:"Youtube video 와 관련한 스크립트 기능을 적용합니다.<br />Youtube 동영상 재생에 문제가 발생하는 경우 본 기능을 꺼주세요."},youtubeSetQuality:{category:"youtube",depth:2,type:"combobox",value:"hd1080",title:"Youtube 비디오 품질 자동 설정",desc:"선택한 비디오 품질을 자동으로 선택합니다. 선택한 품질이 존재하지 않을 경우, 그 다음으로 가장 좋은 품질이 설정됩니다.",options:{default:{title:"사용 안 함"},highres:{title:"highres (8K)"},hd2880:{title:"hd2880 (5K)"},hd2160:{title:"hd2160 (4K)"},hd1440:{title:"hd1440 (1440p)"},hd1080:{title:"hd1080 (1080p)"},hd720:{title:"hd720 (720p)"},large:{title:"large (480p)"},medium:{title:"medium (360p)"},small:{title:"small (240p)"},tiny:{title:"tiny (144p)"}}},youtubeClipConvert:{category:"youtube",depth:2,type:"checkbox",value:!0,title:"Youtube Clip 링크를 비디오로 변환",desc:"<span style='color:#999'>예시) https://youtube.com/clip/xxxxx_xxxxxx-xxxxxx_xxxxx</span>"},youtubeClipDisableLoop:{category:"youtube",depth:3,type:"checkbox",value:!0,title:"Youtube Clip 을 반복 재생하지 않음",desc:"Youtube Clip의 Loop 기능을 강제로 비활성화 하여 클립 재생이 완료되면 비디오를 정지하도록 만듭니다."},youtubeClipStoryBoardImage:{category:"youtube",depth:3,type:"checkbox",value:!0,title:"Youtube Clip 섬네일을 스토리보드로 대체",desc:"원본 비디오의 섬네일 대신 Clip 이 생성된 시간의 스토리보드를 섬네일로 표시합니다. (스토리보드: 재생바 타임라인에 마우스 올리면 뜨는 미리보기 이미지)"},useYoutubePlaylist:{category:"youtube",depth:2,type:"checkbox",value:!0,title:"Youtube Playlist 링크를 비디오로 변환",desc:"<span style='color:#999'>예시) https://youtube.com/playlist?list=PLxxxxxxxxxxxxxxxxxxx</span>"},youtubeShortsPauseOverlayClear:{category:"youtube",depth:2,type:"checkbox",under_dev:!0,value:!0,title:"Youtube Shorts 일시정지 시 화면이 어두워지는 효과를 제거",desc:"본 기능은 Shorts 비디오 크기 자동 조절 옵션을 켜야 효과가 있습니다."},youtubeFixClickAfterScrolling:{category:"youtube",depth:2,type:"checkbox",value:!0,title:"스크롤 직후 동영상 재생 동작 개선",desc:"Chrome 브라우저에서 마우스 스크롤을 한 직후 Youtube 동영상을 클릭했을 때 재생/일시정지가 되지 않거나, 여러번 화면을 클릭해야지만 동영상이 재생되는 불편함을 해결합니다.<br />만약 Youtube 비디오를 클릭해도 재생/일시정지 되지 않는 버그가 발생하는 경우 본 기능을 끄세요."},youtubeParamList:{category:"youtube",depth:2,type:"checkbox",under_dev:!0,debug:!0,value:!1,title:"🧪🐞 Youtube 비디오 링크에서 list 파라미터를 인식",desc:"Youtube 비디오 링크에서 list 파라미터를 인식합니다. 예시) https://youtu.be/xxxxxxx?list=PLxxxxxxxxxxxxx<br />list 파라미터의 값이 유효할 경우 우측 상단에 playlist 를 펼칠 수 있는 버튼이 추가됩니다. 본 기능은 딱히 원하는 사람이 많지 않을 것으로 예상되지만 문제가 발생할 소지가 많아 정식 기능에 포함되지 않았습니다. 디버그 모드를 활성화 한 상태에서만 보입니다."},useAftv:{category:"aftv",category_name:f+"Afreecatv",category_desc:"",depth:1,type:"checkbox",value:!0,title:"Afreecatv VOD 링크를 비디오로 변환 ",desc:"<span style='color:#999'>예시) https://vod.afreecatv.com/player/11111111</span><br />하위 기능은 스크립트 설정에 따라 적용되지 않을 수도 있습니다."},aftvAutoMaxQuality:{category:"aftv",depth:2,type:"checkbox",value:!0,title:"Afreecatv 비디오를 항상 최고 품질로 시작",desc:""},aftvShowChat:{category:"aftv",depth:2,type:"checkbox",value:!1,title:"가능한 경우 채팅을 표시",desc:""},aftvBeautifier:{category:"aftv",under_dev:!0,depth:2,type:"checkbox",value:!0,title:"Afreecatv 플레이어를 더욱 보기 좋게 만듦",desc:""},useTwitch:{category:"others",category_name:"🌐 그 외 플랫폼",category_desc:"Naver, Youtube, Afreecatv 외 다른 비디오 플랫폼을 설정합니다.",depth:1,type:"checkbox",value:!1,title:"Twitch Clip 및 VOD 링크를 비디오로 변환",desc:"한국 거주 시청자는 사용할 수 없습니다."},play_and_pause_by_click:{category:"others",debug:!0,depth:2,type:"checkbox",value:!0,title:"Twitch Clip 페이지 스타일로 표시",desc:"클립 화면을 클릭하여 재생 및 일시정지 되도록 만듭니다. (편하다!)<br />일시정지 시 상단 오버레이와 재생 버튼을 숨깁니다. 재생 중 화면을 더블 클릭하여 전체화면을 할 수 있습니다."},twitch_clip_time_update_after_end:{category:"others",debug:!0,depth:2,type:"checkbox",value:!0,title:"클립 재생이 끝난 후 동영상 탐색 동작 개선",desc:"클립 재생이 끝나고 동영상을 탐색한 경우, 클립 재시작 시 마지막 탐색한 시간부터 시작하도록 동작을 개선합니다."},useStreamable:{category:"others",depth:1,type:"checkbox",value:!0,title:"Streamable 링크를 비디오로 변환 ",desc:"<span style='color:#999'>예시) https://streamable.com/xxxxxxxx</span>"},useTwip:{category:"others",depth:1,type:"checkbox",value:!0,title:"Twip Clip & VOD 링크를 비디오로 변환 ",desc:"<span style='color:#999'>예시) https://vod.twip.kr/vod/xxxxxxxxx<br />https://vod.twip.kr/clip/xxxxxxxxx</span>"},twipAutoMaxQuality:{category:"others",depth:2,type:"checkbox",value:!0,title:"Twip 비디오를 항상 최고 품질로 시작",desc:""},useKakao:{category:"others",depth:1,type:"checkbox",value:!0,title:"Kakao TV 링크를 비디오로 변환",desc:"<span style='color:#999'>예시) https://tv.kakao.com/v/1111111</span>"},useDailymotion:{category:"others",depth:1,type:"checkbox",value:!0,title:"Dailymotion 링크를 비디오로 변환",desc:"<span style='color:#999'>예시) https://www.dailymotion.com/video/xxxxxxx</span>"},useGfycat:{category:"others",depth:1,type:"checkbox",value:!0,title:"gfycat 링크를 비디오로 변환",desc:"<span style='color:#999'>예시) https://gfycat.com/xxxxxxxxxxxxxxxx</span>"},useTiktok:{category:"others",depth:1,type:"checkbox",value:!0,title:"Tiktok 링크를 비디오로 변환",desc:"<span style='color:#999'>예시) https://www.tiktok.com/@xxxxxxx/video/111111111</span>"},fixFullScreenScrollChange:{category:"etc",category_name:"⭐ 편의 기능",category_desc:"",depth:1,type:"checkbox",value:!0,title:"⭐ 네이버 카페 전체화면 스크롤 동작 개선",desc:"비디오를 전체화면 후 해제 시 스크롤 위치가 이상한 위치로 이동하는 문제를 고칩니다."},improvedRefresh:{category:"etc",depth:1,type:"checkbox",value:!1,title:"⭐ 네이버 카페 새로고침 개선",desc:"새로고침 시 첫 화면 대신 마지막으로 탐색한 페이지를 불러옵니다."},naverBoardDefaultArticleCount:{category:"etc",depth:1,type:"combobox",value:"0",title:"⭐ 게시판 글 기본 표시 개수 설정",desc:"",options:{0:{title:"기본값 사용"},5:{title:"5"},10:{title:"10"},15:{title:"15"},20:{title:"20"},30:{title:"30"},40:{title:"40"},50:{title:"50"}}},alwaysShowFavoriteBoard:{category:"etc",depth:1,type:"checkbox",value:!1,title:"⭐ 즐겨찾는 게시판을 항상 펼침",desc:""},visitedArticleStyle:{category:"etc",depth:1,type:"checkbox",value:!1,title:"글 목록에서 읽은 글의 제목을 흐릿하게 표시",desc:""},showDarkModeBtn:{category:"etc",under_dev:!0,depth:1,type:"checkbox",value:!1,title:"🧪 어두운 모드 버튼을 표시",desc:"카페 최상단 메뉴에 '어두운 모드' 버튼을 표시합니다."},useTheaterMode:{category:"theaterMode",category_name:"🎬 영화관 모드",category_desc:"",depth:1,type:"checkbox",value:!0,title:"영화관 모드 버튼을 표시",desc:"카페 최상단 메뉴에 '영화관 모드' 버튼을 표시합니다. 영화관 모드에서는 카페 글 영역을 더 넓게, 동영상을 더 크게 표시합니다."},theaterModeAlignCenter:{category:"theaterMode",depth:2,type:"checkbox",value:!0,title:"본문 가운데 정렬",desc:"본문이 화면의 정 가운데 위치하도록 레이아웃을 수정합니다."},useTheaterModeContentWidth:{category:"theaterMode",depth:2,type:"text",value:1100,valid:"number",min_value:400,max_value:1e4,title:"본문(컨텐츠) 가로 사이즈(px)",desc:"영화관 모드 시 카페 컨텐츠의 가로 사이즈를 결정합니다.<br />(Default: 1100, Range: 400~10000, 권장: 700~1400)"},under_dev:{category:"advanced",category_name:"🧪 고급",category_desc:"",depth:1,type:"checkbox",value:!1,title:"숨겨진 고급 기능 설정",desc:"숨겨진 고급 기능과 🧪실험실 기능을 직접 설정할 수 있습니다. 실험실 기능은 정상 동작하지 않을 수 있으며 소리소문 없이 사라질 수 있습니다."}};GM_addStyle("\nbody #GM_setting {min-width:800px;}\n/*\nbody #GM_setting .GM_setting_depth1 .GM_setting_list_head{width:370px;}\nbody #GM_setting .GM_setting_depth2 .GM_setting_list_head{width:340px;}\nbody #GM_setting .GM_setting_depth3 .GM_setting_list_head{width:310px;}\n*/\n\n#GM_setting .GM_setting_desc {\n    letter-spacing: -0.3px;\n}\n\n#theaterModeBtn, #darkModeBtn {\n    display: inline-block;\n    float: left;\n    margin-top: 10px;\n    font-size: 12px;\n    cursor: pointer;\n}\n\nhtml body .se-viewer .se-module-oglink.twitchClipFound:before{\n    display:none;\n}\n"),window.GM_setting=o;function k(e,t){if(i("checkIsUpdated",e,t),!t||!e||e.length!=t.length)return 0;for(let n=0;n<e.length;n++){if(e[n]<t[n])return 1;if(e[n]>t[n])return-1}return 0}function C(e,t,n){return-1!==k(e,n)&&-1===k(t,n)}var x=function(e,t,n){let a,r=e.latestVersionAry,o=t.latestVersionAry;return 1===k(r,o)&&n.showUpdateMessage&&(u(`<div style="text-align:center;">${GM.info.script.name}가 v${GM.info.script.version}로 업데이트 되었어요.<br /><a style="text-decoration:underline" href="https://github.com/nomomo/Naver-Cafe-Twitch-Clip-Loader#change-log" target="_blank">[업데이트 내역 확인하러 가기]</a><br />이 알림은 <span class="NCCL_Message_Count">10</span>초 후 사라집니다.</div>`,$("body")),i("show update message")),a=[1,2,0],C(r,o,a)&&(i("[Migration] 1.2.0 -> 1.2.1 or higher"),n.shortsAutoResize=!0),a=[1,2,9],C(r,o,a)&&(i("[Migration] 1.2.x -> 1.3.0 or higher"),n.shortsAutoResize?"0"==n.shortsAutoResizeType||"1"==n.shortsAutoResizeType?n.shortsAutoResizeType=String(Number(n.shortsAutoResizeType)+1):n.shortsAutoResizeType="1":n.shortsAutoResizeType="0"),i("migration completed",JSON.stringify(n)),n};var M=!1,L=$(`<span title="[NCCL] 클릭 시 영화관 모드를 ${M?"비활성화":"활성화"} 합니다. 영화관 모드에서는 카페 글을 더 넓게 표시하고, 네이버, 유투브, 트위치 동영상을 더 크게 표시합니다." id="theaterModeBtn">영화관 모드 ${M?"켜짐":"꺼짐"}<img src="https://cafe.pstatic.net/cafe4/ico-blank.gif" width="1" height="10" alt="" class="tcol-c"></span>`).on("click",(async()=>{i("isTheaterMode",M," -> ",!M),M=!M,await GM.setValue("theaterMode",M),"function"==typeof GM.addValueChangeListener?A():location.reload()}));async function T(){i("THEATER_INIT"),M=await GM.getValue("theaterMode",!1),"function"==typeof GM.addValueChangeListener&&GM.addValueChangeListener("theaterMode",(async function(e,t,n,a){a&&(i("다른 창에서 설정 변경됨. val_name, old_value, new_value, location:",e,t,n,document.location.href),A())})),A(),$(document).ready((function(){GLOBAL.isNaverCafeTop&&function(){if(GM_SETTINGS.useTheaterMode){var e=$("#gnb-menu");0!==e.length&&0===$("#theaterModeBtn").length&&e.prepend(L);var t=$("#front-cafe a img");if(0!==t.length){var n=t.attr("src");GM_addStyle(`\n            html.theaterMode #front-cafe::before{\n                content:'-';\n                width:100%;\n                height:100%;\n                position:absolute;\n                background-size: cover;\n                top:0;\n                left:0;\n                background-image:url(${n});\n                filter:blur(10px);\n                z-index:1;\n                transform:scale(1.1);\n            }\n\n            html.theaterMode #front-cafe img{\n                position:relative;\n                top:0;\n                left:0;\n                z-index:2;\n            }\n            `)}}}()}))}var N=void 0,S=void 0;async function A(){try{if(M=await GM.getValue("theaterMode",!1),void 0!==N&&$(N).remove(),void 0!==S&&$(S).remove(),GLOBAL.isCafeWritingMode||GLOBAL.isCafeManageMenu)return void i("CafeWritingMode or isCafeManageMenu - NO TheaterMode");var e="";if(GLOBAL.isNaverCafeMobile&&(M=!1),M){$("html").addClass("theaterMode");var t=Number(GM_SETTINGS.useTheaterModeContentWidth)*Number(Number(GM_SETTINGS.videoWidth))/100;GM_SETTINGS.theaterModeAlignCenter?e+=`\n                #cafe-body, #content-area, #front-cafe, #front-img, .footer, html.theaterMode #special-menu {width:calc(${GM_SETTINGS.useTheaterModeContentWidth}px + 60px) !important}\n                #cafe_main, .Article, .Article .article_wrap, #content-area #main-area ,html.theaterMode div.MemberProfile.layout_content, html.theaterMode #app .layout_content {width:calc(${GM_SETTINGS.useTheaterModeContentWidth}px + 60px) !important}\n\n                #group-area {position:absolute;top:0;left:-230px}\n                /*#main-area {position:absolute;top:0;left:0;}*/\n                .footer {display:none;}\n                `:e+=`\n                #cafe-body, #content-area, #front-cafe, #front-img, .footer, html.theaterMode #special-menu {width:calc(${GM_SETTINGS.useTheaterModeContentWidth}px + 220px + 60px) !important}\n                #cafe_main, .Article, .Article .article_wrap, #content-area #main-area ,html.theaterMode div.MemberProfile.layout_content, html.theaterMode #app .layout_content {width:calc(${GM_SETTINGS.useTheaterModeContentWidth}px + 60px) !important}\n                `,N=GM_addStyle(e+`\n                #front-cafe, #front-img {overflow:hidden; object-fit:cover !important;}\n\n                \n                html.theaterMode .CafeViewer .se-viewer .se-component-content\n                ,html.theaterMode .CafeViewer .se-viewer .se-component-content.se-component-content-fit\n                {\n                    max-width:${t}px !important;\n                    width:${t}px !important;\n                }\n\n                #front-cafe {text-align:center}\n                .ArticleFormBanner.bottom{margin-left:auto;margin-right:auto}\n                #cafe-intro .gate-list.border-sub {\n                    width:unset !important;\n                    float:unset !important;\n                    margin:0 auto;\n                }\n            `)}else $("html").removeClass("theaterMode"),S=GM_addStyle(e);L.attr("title",`[NCCL] 클릭 시 영화관 모드를 ${M?"비활성화":"활성화"} 합니다. 영화관 모드에서는 카페 글을 더 넓게 표시하고, 네이버, 유투브, 트위치 동영상을 더 크게 표시합니다.`).html(`영화관 모드 ${M?"켜짐":"꺼짐"}<img src="https://cafe.pstatic.net/cafe4/ico-blank.gif" width="1" height="10" alt="" class="tcol-c">`)}catch(e){i("Error from applyTheaterMode",e)}}var E=n(952),O=n.n(E),I=!1,B=$(`<span title="[NCCL] 클릭 시 다크 모드를 ${I?"비활성화":"활성화"} 합니다." id="darkModeBtn">어두운 모드 ${I?"켜짐":"꺼짐"}<img src="https://cafe.pstatic.net/cafe4/ico-blank.gif" width="1" height="10" alt="" class="tcol-c"></span>`).on("click",(async()=>{i("어두운 모드",I,"->",!I),(I=!I)?B.html('어두운 모드 켜짐<img src="https://cafe.pstatic.net/cafe4/ico-blank.gif" width="1" height="10" alt="" class="tcol-c">'):B.html('어두운 모드 꺼짐<img src="https://cafe.pstatic.net/cafe4/ico-blank.gif" width="1" height="10" alt="" class="tcol-c">'),await GM.setValue("darkMode",I),"function"==typeof GM.addValueChangeListener?D():location.reload()}));var P=void 0;async function D(){try{I=await GM.getValue("darkMode",!1),GLOBAL.isDarkMode=I,i("어두운 모드",I),B.attr("title",`[NCCL] 클릭 시 다크 모드를 ${I?"비활성화":"활성화"} 합니다.`),void 0!==P&&$(P).remove(),I?(P=GM_addStyle(O().toString().replace(/(\.skin-1080)/g,"html[data-theme='dark'] body")),$("html").attr("data-theme","dark")):$("html").attr("data-theme","default")}catch(e){i("Error from applyTheme",e)}}function V(){GM_SETTINGS.improvedRefresh&&function(){try{if(window.self!==window.top){if(unsafeWindow.top.refreshChecked)return void NOMO_DEBUG("이미 refresh 여부가 체크되었다.");const t="reload"===String(window.top.performance.getEntriesByType("navigation")[0].type);if(NOMO_DEBUG("PARENT REFRESHED? = ",t,"CURRENT URL = ",document.location.href),unsafeWindow.parent.refreshChecked=!0,!t)return;var e={url_top:void 0,url_main:void 0,date:-1};try{let t=localStorage.getItem("lastCafeMainUrl");if(null===t)return void NOMO_DEBUG("savedLSLSCMU = null");e=JSON.parse(t)}catch(e){return void NOMO_DEBUG("Error from improvedRefresh JSON.parse",e)}if(parent.location.href!==e.url_top)return void NOMO_DEBUG("저장된 url 과 현재 url 이 같지 않다",parent.location.href,e.url_top);if(NOMO_DEBUG("savedLastCafeMainUrl",e),document.location.href===e.url_main)return void NOMO_DEBUG("저장된 url_main 과 현재 url_main 이 같다",e.url_main);let n=["https://cafe.naver.com/MyCafeListGNBView.nhn"];for(let e=0;e<n.length;e++)if(-1!==document.location.href.indexOf(n[e]))return void NOMO_DEBUG("예외 목록에 포함된 URL",n[e],document.location.href);let i=Number(new Date)-e.date;i<3e3?(NOMO_DEBUG("LOAD SAVED IFRAME URL. CURRRENT URL = ",document.location.href,", SAVED URL = ",e.url_main,", REFRESHDELAY = ",i),document.location.href=e.url_main):NOMO_DEBUG("refresh delay 초과, REFRESHDELAY = ",i)}window.self===window.top&&(window.onbeforeunload=function(){let e=$("#cafe_main");if(0!==e.length){var t=e[0].contentWindow.location.href;localStorage.setItem("lastCafeMainUrl",JSON.stringify({url_top:document.location.href,url_main:t,date:Number(new Date)}))}})}catch(e){NOMO_DEBUG("Error from improvedRefresh",e)}}();try{T(),async function(){I=await GM.getValue("darkMode",!1),"function"==typeof GM.addValueChangeListener&&GM.addValueChangeListener("darkMode",(async function(e,t,n,a){a&&(i("다른 창에서 설정 변경됨. val_name, old_value, new_value, location:",e,t,n,document.location.href),D())})),$(document).ready((function(){if(GM_SETTINGS.showDarkModeBtn){var e=$("#gnb-menu");0!==e.length&&0===$("#darkModeBtn").length&&e.prepend(B)}})),D()}()}catch(e){NOMO_DEBUG("Error from theaterMode",e)}}var z=n(600),U=n.n(z);class R extends h{constructor(e){e.logoSVG='<svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" viewBox="0 0 64 64"><defs><style>.cls-1{fill:#0f90fa;}</style></defs><g><path class="cls-1" d="M45.11,15.76c-2.84,0-5.8,1.72-7.58,3.4-2.89,2.38-12.44,17-12.44,17l0,.05a8.12,8.12,0,1,1,0-9.39l4.07-6.4A15.77,15.77,0,1,0,18.42,47.7a13.57,13.57,0,0,0,11.06-5.15s5.12-7.07,7.2-10.42c1.89-3,4-8.28,8.59-8.28a8.17,8.17,0,0,1,8.19,8.47,8.58,8.58,0,0,1-8.39,8.75A8.23,8.23,0,0,1,39,38.3l-4,6.32A16.19,16.19,0,0,0,61.35,32,16.27,16.27,0,0,0,45.11,15.76Z"/></g></svg>',e.type=GLOBAL.STREAMABLE,e.typeName="STREAMABLE",super(e),this.parseDataRequired=!0,this.iframeUrl=`https://streamable.com/e/${this.id}?parent=cafe.naver.com&extension=NCCL&seq=${this.seq}&autoplay=${this.autoPlay?"1":"0"}&muted=0&omuted=${this.muted?"1":"0"}&hd=1&loop=0`,i("new VideoStreamable",e)}async parseData(){if(this.isDataLoading||this.isDataLoaded)return;this.isDataLoading=!0;let e=await fetch(`https://api.streamable.com/videos/${this.id}`,{method:"GET"});if(200===e.status){let t=await e.json();i("streamable json",t);let n=(0,y.N)(t.thumbnail_url);"about:blank"!==n&&this.updateThumbnail(n),this.postParseData()}else this.isDataLoading=!1,this.isDataLoaded=!0,this.isDataSucceed=!1,this.postParseData()}}class q extends h{constructor(e){e.logoSVG='<svg style="vertical-align: middle;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="14" height="14" viewBox="0 0 256 256" xml:space="preserve"><g transform="translate(128 128) scale(0.72 0.72)" style=""><g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(-175.05 -175.05000000000004) scale(3.89 3.89)" ><path d="M 2.015 15.448 v 63.134 h 21.493 V 90 h 12.09 l 11.418 -11.418 h 17.463 l 23.507 -23.507 V 0 H 8.06 L 2.015 15.448 z M 15.448 8.06 h 64.478 v 42.985 L 66.493 64.478 H 45 L 33.582 75.896 V 64.478 H 15.448 V 8.06 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(97,59,162); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" /><rect x="58.43" y="23.51" rx="0" ry="0" width="8.06" height="23.48" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(97,59,162); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) "/><rect x="36.94" y="23.51" rx="0" ry="0" width="8.06" height="23.48" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(97,59,162); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) "/></g></g></svg>',super(e),this.option=e.option,this.start=e.start,this.type===GLOBAL.TWITCH_CLIP?this.iframeUrl=`https://clips.twitch.tv/embed?clip=${this.id}&parent=cafe.naver.com&extension=NCCL&seq=${this.seq}&autoplay=${this.autoPlay}&muted=${this.muted}`:this.type===GLOBAL.TWITCH_VOD&&(this.iframeUrl=`https://player.twitch.tv/?video=${this.id}&parent=cafe.naver.com&extension=NCCL&seq=${this.seq}&autoplay=${this.autoPlay}&muted=${this.muted}${this.option}`),NOMO_DEBUG("new VideoTwitch",e)}}class Y extends h{constructor(e){e.logoSVG='<svg version="1.0" xmlns="http://www.w3.org/2000/svg" style="background-color:#fae100" width="18px" height="18px" viewBox="0 0 180.0 180.0" preserveAspectRatio="xMidYMid meet"><g transform="translate(0.000000,180.000000) scale(0.100000,-0.100000)" fill="#1e1e1e" stroke="none"><path d="M761 1454 c-299 -64 -496 -336 -452 -625 17 -110 60 -190 148 -276 l73 -72 0 -130 c0 -71 3 -132 8 -135 4 -2 56 32 117 77 l109 82 125 1 c102 0 139 5 196 23 139 45 252 130 327 245 106 163 106 388 0 552 -136 209 -398 313 -651 258z m-43 -331 l3 -63 54 0 55 0 0 -59 0 -60 -52 -3 -53 -3 -3 -77 -3 -78 56 0 55 0 0 -65 0 -65 -57 0 c-77 0 -124 14 -154 46 -21 23 -25 37 -29 132 l-5 107 -37 3 -38 3 0 59 0 59 38 3 37 3 3 63 3 63 62 -3 62 -3 3 -62z m306 -70 c36 -129 69 -223 76 -223 4 0 26 53 47 118 l38 117 54 3 c79 5 83 1 66 -50 -8 -24 -37 -116 -65 -205 l-51 -163 -89 0 -89 0 -36 118 c-20 64 -49 156 -65 204 -15 48 -25 90 -22 93 3 3 34 5 68 5 51 0 64 -3 68 -17z"/></g></svg>',e.type=GLOBAL.KAKAO_VID,e.typeName="KAKAO_VID",super(e),this.parseDataRequired=!0,this.iframeUrl=`https://play-tv.kakao.com/embed/player/cliplink/${this.id}?parent=cafe.naver.com&extension=NCCL&seq=${this.seq}&autoPlay=${this.autoPlay}&muted=${this.muted}`,i("new VideoKakao",e)}async parseData(){if(this.isDataLoading||this.isDataLoaded)return;this.isDataLoading=!0;let e=await GM.xmlHttpRequest({method:"GET",url:`https://tv.kakao.com/oembed?url=https://tv.kakao.com/v/${this.id}`,headers:{},responseType:"json"});if(i("kakaotv GM.xmlHttpRequest",e),200===e.status){let t=await e.response;i("kakaotv json",t);let n=t.html.match(/src=['"]([a-zA-Z0-9-_%&?=./:]+)['"]/);if(null===n)return this.isDataLoading=!1,this.isDataLoaded=!0,void(this.isDataSucceed=!1);let a=n[1];-1===a.split("/").pop().indexOf("?")?a+="?":a+="&",a+=`parent=cafe.naver.com&extension=NCCL&seq=${this.seq}&autoplay=${this.autoPlay}&muted=${this.muted}`,this.iframeUrl=a,this.postParseData()}else NOMO_WARN("kakaotv parsing fail",e),this.isDataLoading=!1,this.isDataLoaded=!0,this.isDataSucceed=!1,this.postParseData()}}class F extends h{constructor(e){e.logoSVG='<img class="NCCL_video_logo" src="https://gfycat.com/assets/favicons/favicon-32x32.png" width="18px" height"18px" />',e.type=GLOBAL.GFYCAT,e.typeName="GFYCAT",super(e),this.parseDataRequired=!0,this.iframeUrl=`https://gfycat.com/ifr/${this.id}?parent=cafe.naver.com&extension=NCCL&seq=${this.seq}&autoPlay=${this.autoPlay}&muted=${this.muted}`,i("new VideoGfycat",e)}async parseData(){try{if(this.isDataLoading||this.isDataLoaded)return;this.isDataLoading=!0;let e=await fetch(`https://api.gfycat.com/v1/oembed?url=${this.url}`,{method:"GET"});if(i("gfycat fetch",e),200===e.status){let t=await e.json();i("gfycat json",t);let n=t.html.match(/src=['"]([a-zA-Z0-9-_%&?=./:]+)['"]/);if(null===n)return this.isDataLoading=!1,this.isDataLoaded=!0,this.isDataSucceed=!1,void this.postParseData();t.width&&t.height&&this.resizeByRatio(t.width/t.height,.8,44);let a=n[1];-1===a.split("/").pop().indexOf("?")?a+="?":a+="&",a+=`parent=cafe.naver.com&extension=NCCL&seq=${this.seq}&autoplay=${this.autoPlay}&muted=${this.muted}`,this.iframeUrl=a,this.postParseData()}else NOMO_WARN("gfycat parsing fail",e),this.isDataLoading=!1,this.isDataLoaded=!0,this.isDataSucceed=!1,this.postParseData()}catch(e){NOMO_WARN("error from gfycat parsing",e),this.isDataLoading=!1,this.isDataLoaded=!0,this.isDataSucceed=!1,this.postParseData()}}}class W extends h{constructor(e){e.logoSVG='<svg viewBox="0 0 291.72499821636245 291.1" xmlns="http://www.w3.org/2000/svg" width="18px" height="18px"><path d="M219.51 291.1H71.58C32.05 291.1 0 259.05 0 219.51V71.58C0 32.05 32.05 0 71.58 0h147.93c39.53 0 71.58 32.05 71.58 71.58v147.93c.01 39.54-32.04 71.59-71.58 71.59z"/><g fill="#25f4ee"><path d="M120.96 123.89v-8.8a64.83 64.83 0 0 0-9.23-.79c-29.93-.06-56.42 19.33-65.41 47.87s1.62 59.62 26.18 76.71c-25.77-27.58-24.3-70.83 3.28-96.6a68.425 68.425 0 0 1 45.18-18.39z"/><path d="M122.62 223.53c16.73-.02 30.48-13.2 31.22-29.92V44.44h27.25a50.7 50.7 0 0 1-.79-9.44h-37.27v149.02c-.62 16.8-14.41 30.11-31.22 30.14-5.02-.04-9.97-1.28-14.42-3.6a31.276 31.276 0 0 0 25.23 12.97zM231.98 95.05v-8.29c-10.03 0-19.84-2.96-28.19-8.51a51.63 51.63 0 0 0 28.19 16.8z"/></g><path d="M203.8 78.26a51.301 51.301 0 0 1-12.76-33.89h-9.95a51.564 51.564 0 0 0 22.71 33.89zM111.73 151.58c-17.28.09-31.22 14.17-31.13 31.45a31.293 31.293 0 0 0 16.71 27.53c-10.11-13.96-6.99-33.48 6.97-43.6a31.191 31.191 0 0 1 18.34-5.93c3.13.04 6.24.53 9.23 1.45v-37.93c-3.05-.46-6.14-.7-9.23-.72h-1.66v28.84c-3.01-.82-6.12-1.18-9.23-1.09z" fill="#fe2c55"/><path d="M231.98 95.05v28.84a88.442 88.442 0 0 1-51.69-16.8v75.77c-.08 37.81-30.75 68.42-68.56 68.42a67.816 67.816 0 0 1-39.22-12.4c25.73 27.67 69.02 29.25 96.7 3.52a68.397 68.397 0 0 0 21.83-50.09v-75.56a88.646 88.646 0 0 0 51.76 16.58V96.21c-3.64-.02-7.26-.4-10.82-1.16z" fill="#fe2c55"/><path d="M180.29 182.87V107.1a88.505 88.505 0 0 0 51.76 16.58V94.84a51.73 51.73 0 0 1-28.26-16.58 51.634 51.634 0 0 1-22.71-33.89h-27.25v149.24c-.71 17.27-15.27 30.69-32.54 29.99a31.278 31.278 0 0 1-24.06-12.9c-15.29-8.05-21.16-26.97-13.11-42.26a31.274 31.274 0 0 1 27.53-16.71c3.13.03 6.24.51 9.23 1.44V123.9c-37.74.64-67.82 32.19-67.18 69.93a68.353 68.353 0 0 0 18.73 45.86 67.834 67.834 0 0 0 39.29 11.61c37.82-.01 68.49-30.62 68.57-68.43z" fill="#fff"/></svg>',e.type=GLOBAL.TIKTOK,e.typeName="TIKTOK",super(e),this.parseDataRequired=!0,this.iframeUrl=`https://www.tiktok.com/embed/v2/${this.id}?parent=cafe.naver.com&extension=NCCL&seq=${this.seq}&autoPlay=${this.autoPlay}&muted=${this.muted}`,i("new VideoTiktok",e)}async parseData(){try{if(this.isDataLoading||this.isDataLoaded)return;this.isDataLoading=!0;let e=await fetch(`https://www.tiktok.com/oembed?url=${this.url}`,{method:"GET"});if(i("Tiktok fetch",e),200===e.status){let t=await e.json();i("Tiktok json",t);let n=(0,y.N)(t.thumbnail_url);"about:blank"!==n&&this.updateThumbnail(n),t.thumbnail_width&&t.thumbnail_height&&this.resizeByRatio(t.thumbnail_width/t.thumbnail_height,.8,0),this.postParseData()}else NOMO_WARN("Tiktok parsing fail",e),this.isDataLoading=!1,this.isDataLoaded=!0,this.isDataSucceed=!1,this.postParseData()}catch(e){NOMO_WARN("error from Tiktok parsing",e),this.isDataLoading=!1,this.isDataLoaded=!0,this.isDataSucceed=!1,this.postParseData()}}}class H extends h{constructor(e){e.logoSVG='<svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" viewBox="0 0 256.000000 256.000000" style="background-color:#ffd600;border-radius:18px"><g xmlns="http://www.w3.org/2000/svg" transform="translate(0.000000,256.000000) scale(0.100000,-0.100000)" fill="#811eea" stroke="none"><path d="M0 1280 l0 -1280 1280 0 1280 0 0 1280 0 1280 -1280 0 -1280 0 0 -1280z m1030 300 l0 -130 -94 0 c-52 0 -101 -3 -110 -6 -14 -5 -16 -41 -16 -295 l0 -289 -130 0 -130 0 0 289 c0 254 -2 290 -16 295 -9 3 -58 6 -110 6 l-94 0 0 130 0 130 350 0 350 0 0 -130z m340 -82 c24 -117 45 -228 48 -245 2 -18 8 -33 12 -33 5 0 52 63 104 139 53 77 101 143 107 147 7 4 17 0 23 -9 138 -201 192 -277 198 -277 4 0 10 17 14 38 3 20 25 129 48 242 l42 205 133 3 134 3 -6 -33 c-9 -55 -158 -782 -163 -800 -5 -16 -20 -18 -139 -18 l-134 0 -72 116 -72 116 -44 -68 c-24 -38 -57 -90 -74 -116 l-29 -48 -135 0 c-131 0 -135 1 -140 23 -7 30 -165 819 -165 823 0 2 60 4 133 4 l134 0 43 -212z"/></g></svg>',e.type=GLOBAL.TWIP,e.typeName="TWIP",super(e),this.vodType=e.vodType,this.parseDataRequired="autoLoad"!==GM_SETTINGS.convertMethod,this.start||(this.start=0),this.title=this.title.replace(/^TWIP CLIP\s?-?\s?/,""),this.iframeUrl=`https://vod.twip.kr/${this.vodType}/${this.id}/embed?parent=cafe.naver.com&extension=NCCL&seq=${this.seq}&start=${this.start}&autoplay=${this.autoPlay}&muted=${this.muted}`,i("new VideoTwip",e)}async parseData(){if(this.isDataLoading||this.isDataLoaded)return;this.isDataLoading=!0;let e="";e="vod"==this.vodType?`https://vod-api.twip.kr/replay/${this.id}`:`https://vod-api.twip.kr/clip/${this.id}`;try{let t=await fetch(e,{method:"GET"});if(200===t.status){let e=await t.json();if(i("Twip json",e),e.data){if(e.data.cfVideoThumbnail){let t=(0,y.N)(e.data.cfVideoThumbnail);"about:blank"!==t&&this.updateThumbnail(t)}if(e.data.title){let t=e.data.title;this.updateTitle(t)}}this.postParseData()}else a("Twip parsing fail",t),this.isDataLoading=!1,this.isDataLoaded=!0,this.isDataSucceed=!1,this.postParseData()}catch(e){a("Twip parsing error",e),this.isDataLoading=!1,this.isDataLoaded=!0,this.isDataSucceed=!1,this.postParseData()}}}async function Q(){if($("head").append('\n        <link rel="dns-prefetch" href="https://gql.twitch.tv/">\n        <link rel="dns-prefetch" href="https://clips.twitch.tv/">\n        <link rel="dns-prefetch" href="https://static.twitchcdn.net/">\n        <link rel="dns-prefetch" href="https://production.assets.clips.twitchcdn.net/">\n        <link rel="preconnect" href="https://clips.twitch.tv/">\n        <link rel="preconnect" href="https://gql.twitch.tv/">\n        <link rel="preconnect" href="https://static.twitchcdn.net/">\n        <link rel="preconnect" href="https://production.assets.clips.twitchcdn.net/">\n    '),GM_SETTINGS.youtubeFixClickAfterScrolling){let e,t=function(){for(let e=0;e<G.ytvideo.length;e++)void 0!==G.ytvideo[e].$scrollOveray&&G.ytvideo[e].$scrollOveray.show();clearTimeout(e),e=setTimeout((function(){for(let e=0;e<G.ytvideo.length;e++)void 0!==G.ytvideo[e].$scrollOveray&&G.ytvideo[e].$scrollOveray.hide()}),1e3)};unsafeWindow.parentScrollEvent=function(e){i("parent scroll event.",e),t()},$(document).on("wheel",(function(e){i("iframe wheel event",e),t()})),window.addEventListener("message",(function(e){e.data.scrollEvent&&(i("got postmessage from youtube embed",e.data),t())}))}if(GM_SETTINGS.topUrlUpdateFromIframe){history.replaceState=(t="replaceState",n=history[t],function(){var e=n.apply(this,arguments),i=new Event(t);return i.arguments=arguments,window.dispatchEvent(i),e}),window.parent.postMessage({type:"NCCL_UpdateHistory",url:document.location.href},"https://cafe.naver.com"),window.addEventListener("replaceState",(function(e){window.parent.postMessage({type:"NCCL_UpdateHistory",url:document.location.href},"https://cafe.naver.com")}))}var t,n;GM_addStyle(U().toString()),GM_SETTINGS.hideDescriptionLogo&&GM_addStyle("\n            .NCCL_description svg, .NCCL_description .NCCL_video_logo { display:none; }\n        "),h.init(),GM_SETTINGS.useYoutube&&G.init(),GM_SETTINGS.useNaver&&(_.init(),g.init()),$(document).on("click","a.NCCL_description",(function(){h.stopAll()}));let a={};GM_SETTINGS.useTwitch&&(a[GLOBAL.TWITCH_CLIP]=/^https?:\/\/(?:clips\.twitch\.tv\/|www\.twitch.tv\/[a-zA-Z0-9-_]+\/clip\/)([a-zA-Z0-9-_]+)/i,a[GLOBAL.TWITCH_VOD]=/(?:^https?:\/\/www\.twitch.tv\/videos\/(\d+)\??(t=[hms0-9]+)?|^https?:\/\/www\.twitch.tv\/.+\/v\/(\d+)\??[a-zA-Z0-9=-_]*(&t=[hms0-9]+)?)/i),GM_SETTINGS.useYoutube&&GM_SETTINGS.youtubeClipConvert&&(a[GLOBAL.YOUTUBE_CLIP]=/^https?:\/\/(?:www\.)?youtube\.com\/clip\/([a-zA-Z0-9-_]+)/i),GM_SETTINGS.useYoutube&&GM_SETTINGS.useYoutubePlaylist&&(a[GLOBAL.YOUTUBE_PLAYLIST]=/^https?:\/\/(?:www\.)?youtube\.com\/playlist\?list=([a-zA-Z0-9-_]+)/i),GM_SETTINGS.useStreamable&&(a[GLOBAL.STREAMABLE]=/^https?:\/\/streamable\.com\/(?:e\/)?([a-zA-Z0-9-_]+)/i),GM_SETTINGS.useAftv&&(a[GLOBAL.AFTV_VOD]=/^https?:\/\/vod\.afreecatv.com\/player\/(\d+)\??(change_second=\d+)?/i),GM_SETTINGS.useTwip&&(a[GLOBAL.TWIP]=/^https?:\/\/vod\.twip\.kr\/(clip|vod)\/([a-zA-Z0-9-_]+)/i),GM_SETTINGS.useKakao&&(a[GLOBAL.KAKAO_VID]=/^https?:\/\/tv\.kakao\.com\/v\/(\d+)/i),GM_SETTINGS.useDailymotion&&(a[GLOBAL.DAILYMOTION]=/^https?:\/\/(?:www\.dailymotion\.com\/video|dai\.ly)\/([a-zA-Z0-9-_]+)/i),GM_SETTINGS.useGfycat&&(a[GLOBAL.GFYCAT]=/^https?:\/\/gfycat\.com\/(?:[a-zA-Z]{1,3}\/)?([a-zA-Z0-9]+)/i),GM_SETTINGS.useTiktok&&(a[GLOBAL.TIKTOK]=/https:\/\/www\.tiktok.com\/[-A-Z0-9+&@#/%=~_|^ㄱ-ㅎㅏ-ㅣ가-힣]+\/video\/(\d+)/i);let o=!1,s=!1;$(document).arrive(".__se_module_data",{onlyOnce:!0,existing:!0},(function(e){try{let d=$(e);if(d.hasClass("fired"))return;if(d.addClass("fired"),!o){o=!0;let e=$("html").data("dark");(GLOBAL.isDarkMode||e)&&(s=!0)}let c,p=d.closest(".se-component"),u=d;if(0!==u.length&&(c=JSON.parse(u.get(0).dataset.module)),!c||!c.data)return!1;i("obj",c);let m=!1,f=!1;if(("autoLoad"===GM_SETTINGS.convertMethod&&GM_SETTINGS.autoPlayFirstClip&&0===h.nvideos||"clickRequired"===GM_SETTINGS.convertMethod&&GM_SETTINGS.clickRequiredAutoPlay)&&(m=!0),("autoLoad"===GM_SETTINGS.convertMethod&&GM_SETTINGS.autoPlayFirstClip&&GM_SETTINGS.autoPlayFirstClipMuted&&0===h.nvideos||GM_SETTINGS.set_volume_when_stream_starts&&0===GM_SETTINGS.target_start_volume)&&(f=!0),-1!==c.type.indexOf("oglink")){if(!c.data.link)return;let e=c.data.link,o=(0,y.N)(e);if("about:blank"===o)return r("sanitizeUrl fail",e),!1;let d=p.find(".se-oglink-title").text(),u=p.find(".se-oglink-summary").text(),_=(0,y.N)(c.data.thumbnail);var t={found:!1,type:null,res:null};for(var n in a){var l=o.match(a[n]);if(null!==l){t={found:!0,type:Number(n),res:l};break}}if(!t.found)return;switch(i("matchRes",t),t.type){default:return void i("CANNOT FOUND TYPE",t.type);case GLOBAL.TWITCH_CLIP:new q({id:l[1],type:GLOBAL.TWITCH_CLIP,typeName:"TWITCH_CLIP",originalUrl:o,url:o,title:d,desc:u,view:null,origin:document.location.origin,thumbnailUrl:_,autoPlay:m,muted:f}).createIframeContainer(p);break;case GLOBAL.TWITCH_VOD:{let e,t,n="",i="";if(void 0!==l[1]&&void 0===l[3])e=l[1],n=l[2]?l[2].replace("?","").replace("&",""):"";else{if(void 0!==l[1]||void 0===l[3])return;e=l[3],n=l[4]?l[4].replace("?","").replace("&",""):""}n?(t=`https://www.twitch.tv/videos/${e}?${n}`,i="&"+n):t=`https://www.twitch.tv/videos/${e}`,new q({id:e,type:GLOBAL.TWITCH_VOD,typeName:"TWITCH_VOD",originalUrl:o,url:t,option:i,title:d,desc:u,view:null,origin:document.location.origin,thumbnailUrl:_,autoPlay:m,muted:f}).createIframeContainer(p);break}case GLOBAL.YOUTUBE_VOD:new G({id:l[1],type:GLOBAL.YOUTUBE_VOD,originalUrl:o,url:o,title:d,desc:u,view:null,origin:document.location.origin,thumbnailUrl:_,autoPlay:m,muted:f,darkMode:s}).createIframeContainer(p);break;case GLOBAL.YOUTUBE_CLIP:new G({id:l[1],type:GLOBAL.YOUTUBE_CLIP,originalUrl:o,url:o,title:d,desc:u,view:null,origin:document.location.origin,thumbnailUrl:_,autoPlay:m,muted:f,darkMode:s}).createIframeContainer(p);break;case GLOBAL.YOUTUBE_PLAYLIST:{let e=l[1];if(!/^PL/i.test(e))return;new G({id:e,type:GLOBAL.YOUTUBE_PLAYLIST,originalUrl:o,url:o,iframeUrl:o,title:d,desc:u,view:null,origin:document.location.origin,thumbnailUrl:_,autoPlay:!1,muted:f,darkMode:s}).createIframeContainer(p);break}case GLOBAL.STREAMABLE:new R({id:l[1],originalUrl:o,url:o,title:d,desc:u,view:null,origin:document.location.origin,thumbnailUrl:_,autoPlay:m,muted:f}).createIframeContainer(p);break;case GLOBAL.AFTV_VOD:{let e=l[1],t=0,n=`https://vod.afreecatv.com/player/${e}`;void 0!==l[2]&&(t=Number(l[2].replace("change_second=","")),n+="?"+l[2]),new v({id:l[1],originalUrl:o,url:n,title:d,desc:u,view:null,origin:document.location.origin,thumbnailUrl:_,autoPlay:m,muted:f,start:t}).createIframeContainer(p);break}case GLOBAL.TWIP:{let e=l[1],t=l[2];if("clip"!==e&&"vod"!==e)return;let n=o.match(/[?&]start=(\d+)/);new H({vodType:e,id:t,originalUrl:o,url:o,title:d,desc:u,view:null,start:null!==n?n[0]:0,origin:document.location.origin,thumbnailUrl:_,autoPlay:m,muted:f}).createIframeContainer(p);break}case GLOBAL.KAKAO_VID:new Y({id:l[1],originalUrl:o,url:o,title:d,desc:u,view:null,origin:document.location.origin,thumbnailUrl:_,autoPlay:m,muted:f}).createIframeContainer(p);break;case GLOBAL.DAILYMOTION:new h({logoSVG:'\n                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="-119 243.5 64 64" width="18px" height="18px"><path d="M-59.745 307.5h-54.5a4.755 4.755 0 0 1-4.745-4.745v-54.5a4.755 4.755 0 0 1 4.745-4.745h54.5A4.755 4.755 0 0 1-55 248.245v54.5a4.77 4.77 0 0 1-4.745 4.745z" fill="#2a62aa"/><path d="M-67.123 249.854v50.937h-10.785v-3.9c-2.842 2.76-6.667 4.264-11.14 4.264-9.782 0-17.83-8.34-17.83-18.8s8.612-18.916 17.83-18.916c4.473 0 8.298 1.588 11.14 4.4v-15.823zm-19.48 41.406a9.1 9.1 0 0 0 9.092-9.092 9.1 9.1 0 0 0-9.092-9.093 9.1 9.1 0 0 0-9.092 9.093 9.1 9.1 0 0 0 9.092 9.092z" fill="#fff"/></svg>',id:l[1],type:GLOBAL.DAILYMOTION,typeName:"DAILYMOTION",originalUrl:o,url:o,iframeUrl:`https://www.dailymotion.com/embed/video/${l[1]}?parent=cafe.naver.com&extension=NCCL&seq=undefined&autoplay=${m?"1":"0"}&muted=${f?"1":"0"}`,title:d,desc:u,view:null,origin:document.location.origin,thumbnailUrl:_,autoPlay:m,muted:f}).createIframeContainer(p);break;case GLOBAL.GFYCAT:new F({id:l[1],originalUrl:o,url:"https://gfycat.com/"+l[1],title:d,desc:u,view:null,origin:document.location.origin,thumbnailUrl:_,autoPlay:m,muted:f}).createIframeContainer(p);break;case GLOBAL.TIKTOK:new W({id:l[1],originalUrl:o,url:o,title:d,desc:u,view:null,origin:document.location.origin,thumbnailUrl:_,autoPlay:m,muted:f}).createIframeContainer(p);break}}else if(GM_SETTINGS.useYoutube&&-1!==c.type.indexOf("oembed")){if(!c.data.html)return!1;let e=c.data.html.match(/src="([a-zA-Z0-9-_:/?=&.]+)"/);if(null===e)return!1;let t=e[1];if(e=(0,y.N)(t),"about:blank"===e)return r("sanitizeUrl fail",t),!1;let n=e.match(/^https:\/\/www\.youtube\.com\/embed\/([a-zA-Z0-9-_]+)/);if(null===n)return!1;n=n[1];let a,o,l,d=c.data.inputUrl.match(/[?&]start=(\d+)/),u=c.data.inputUrl.match(/[?&]end=(\d+)/);null===d&&(d=c.data.inputUrl.match(/[?&]t=(\d+)/)),d=null!==d?d[1]:void 0,u=null!==u?u[1]:void 0,GM_SETTINGS.youtubeParamList&&(a=c.data.inputUrl.match(/[?&]list=([a-zA-Z0-9-_]+)/),null!==a?(a=a[1],o=c.data.inputUrl.match(/[?&]index=(\d+)/),l=c.data.inputUrl.match(/[?&]ab_channel=([-A-Z0-9+&@#/%=~_|^ㄱ-ㅎㅏ-ㅣ가-힣]+)/),o=null!==o?o[1]:void 0,l=null!==l?l[1]:void 0):a=void 0);let h=new G({id:n,type:GLOBAL.YOUTUBE_VOD,originalUrl:c.data.inputUrl,url:c.data.inputUrl,iframeUrl:e,title:c.data.title,desc:c.data.description,view:null,origin:document.location.origin,thumbnailUrl:c.data.thumbnailUrl?c.data.thumbnailUrl.replace(/\/(default|mqdefault|sddefault|hqdefault)\./,"/maxresdefault."):void 0,autoPlay:m,muted:f,start:d,end:u,list:a,index:o,ab_channel:l,originalWidth:c.data.originalWidth,originalHeight:c.data.originalHeight,darkMode:s});void 0===h.list?h.createIframeContainer(p):void 0===G.playlistAvailable[h.list]?(G.playlistAvailable[h.list]=2,G.playlistAvailableParsingQueue[h.list]=[],i("HERE"),fetch(`https://www.youtube.com/oembed?format=json&url=https://youtube.com/playlist?list=${h.list}`).then((e=>e.json())).then((e=>{for(i("Playlist json",h.id,e),G.playlistAvailable[h.list]=1,h.createIframeContainer(p);G.playlistAvailableParsingQueue[h.list].length>0;)i(`PLAYLIST QUEUE 1/${G.playlistAvailableParsingQueue[h.list].length}`),G.playlistAvailableParsingQueue[h.list][0].call(),G.playlistAvailableParsingQueue[h.list].shift()})).catch((e=>{i("Playlist Parsing Error:",h.id,e);let t=h.list;for(h.list=void 0,h.index=void 0,h.ab_channel=void 0,G.playlistAvailable[t]=0,h.createIframeContainer(p);G.playlistAvailableParsingQueue[t].length>0;)i(`PLAYLIST QUEUE 1/${G.playlistAvailableParsingQueue[t].length}`),G.playlistAvailableParsingQueue[t][0].call(),G.playlistAvailableParsingQueue[t].shift()}))):1==G.playlistAvailable[h.list]?(i("Playlist Parsing 결과가 이미 존재: True",h.id),h.createIframeContainer(p)):0==G.playlistAvailable[h.list]?(i("Playlist Parsing 결과가 이미 존재: False",h.id),h.list=void 0,h.index=void 0,h.ab_channel=void 0,h.createIframeContainer(p)):2==G.playlistAvailable[h.list]&&(i("PUSH TO playlistAvailableParsingQueue"),G.playlistAvailableParsingQueue[h.list].push((function(){1==G.playlistAvailable[h.list]?(i("Playlist Parsing 결과가 이미 존재: True",h.id),h.createIframeContainer(p)):0==G.playlistAvailable[h.list]&&(i("Playlist Parsing 결과가 이미 존재: False",h.id),h.list=void 0,h.index=void 0,h.ab_channel=void 0,h.createIframeContainer(p))})))}else{if(!GM_SETTINGS.useNaver||-1===c.type.indexOf("video"))return!1;{if(!c.data.videoType||"player"!==c.data.videoType)return!1;let e=c.data.vid,t=c.data.inkey;if("0"==GM_SETTINGS.naverVideoPlayerType){new g({id:e,inkey:t,originalUrl:c.data.inputUrl,url:"",title:c.data.mediaMeta.title,desc:c.data.mediaMeta.description,tags:c.data.mediaMeta.tags,view:null,origin:document.location.origin,thumbnailUrl:c.data.thumbnail,autoPlay:m,muted:f,originalWidth:c.data.originalWidth,originalHeight:c.data.originalHeight,width:c.data.width,height:c.data.height}).createIframeContainer(p)}else{new _({id:e,inkey:t,originalUrl:c.data.inputUrl,url:"",title:c.data.mediaMeta.title,desc:c.data.mediaMeta.description,tags:c.data.mediaMeta.tags,view:null,origin:document.location.origin,thumbnailUrl:c.data.thumbnail,autoPlay:m,muted:f,originalWidth:c.data.width,originalHeight:c.data.height}).createIframeContainer(p)}}}}catch(e){i("Error from arrive for videos",e)}}));var l=parent.document.querySelector("html"),d=l.scrollTop,c=function(){return document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen};try{window.self!==window.top&&($(document).on("mozfullscreenchange webkitfullscreenchange fullscreenchange",(function(){var e=c();i("FullScreen",e),e||GM_SETTINGS.fixFullScreenScrollChange&&(l.scrollTop!==d&&i("parentHtml.scrollTop = ",l.scrollTop,"lastScrollY = ",d),l.scrollTop=d)})),$(parent.window).scroll((function(){c()||GM_SETTINGS.fixFullScreenScrollChange&&(d=l.scrollTop)})))}catch(e){i("Error from fixFullScreenScrollChange",e)}try{if(e){let e=localStorage.getItem("NOTICE_OPEN");null===e&&(e="ON"),i("NOTICE_OPEN",e),"OFF"===e&&GM_addStyle("._noticeArticle {display:none;}"),$(document).on("change","#notice_hidden",(function(e){i("e.target.checked",e.target.checked),e.target.checked||$("._noticeArticle").show()}))}}catch(e){r("Error from FasterNoticeHide",e)}GM_SETTINGS.visitedArticleStyle&&GM_addStyle("\n        .skin-1080 .article-board .board-list div.inner_list a:visited,\n        .skin-1080 .article-board .board-list div.inner_list div.inner_list a:visited *\n        div.inner_list a:visited,\n        div.inner_list a:visited *\n        {\n            color:#ddd !important;\n        }\n        html[data-theme='dark'] body .skin-1080 .article-board .board-list div.inner_list a:visited,\n        html[data-theme='dark'] body .skin-1080 .article-board .board-list div.inner_list a:visited *\n        html[data-theme='dark'] body div.inner_list a:visited,\n        html[data-theme='dark'] body div.inner_list a:visited *\n        {\n            color:#454545 !important;\n        }\n        "),"0"!==GM_SETTINGS.naverBoardDefaultArticleCount&&Number(GM_SETTINGS.naverBoardDefaultArticleCount)>0&&$((function(){try{let e=$(".BaseButton__txt");e.each((function(e,t){let n=$(t);if("목록"===n.text().replace(/\s/g,"")){let e=n.closest("a"),t=e.attr("href");t+=`%26userDisplay%3D50${GM_SETTINGS.naverBoardDefaultArticleCount}`,e.attr("href",t)}})),e=$("#articleHeadListDiv ul.select_list li a"),e.each((function(e,t){let n=$(t),i=n.attr("href");null!==i.match(/userDisplay=(\d+)/i)&&(i=i.replace(/userDisplay=(\d+)/i,`userDisplay=${GM_SETTINGS.naverBoardDefaultArticleCount}`),n.attr("href",i))}))}catch(e){r("Error from naverBoardDefaultArticleCount",e)}}))}class j{constructor(e){let t=this;this.type=e.type,this.typeName=e.typeName,this.id=e.id,this.seq=e.seq,this.url=e.url,this.origin=e.origin?e.origin:document.location.origin,this.autoPlay=e.autoPlay,this.muted=e.muted,this.firstPlayed=!1,this.videoReady=!1,this.videoFound=!1,this.video=void 0,this.lastPostMessageDate=void 0,this.lastPostMessage=void 0,this.elemBtnPlay=void 0,this.elemBtnPause=void 0,this.elemBtnReplay=void 0,this.isExitFullscreenAfterEnd=!1,$(document).arrive("video",{existing:!0},(function(e){t.video=e,t.videoFound=!0,t.video.addEventListener("play",(e=>{t.onPlay(e)})),t.video.addEventListener("pause",(e=>{t.onPause(e)})),t.video.addEventListener("ended",(e=>{t.onEnded(e)})),t.video.addEventListener("playing",(e=>{t.firstPlayed||(t.onFirstPlay(),t.firstPlayed=!0),t.onPlaying(e)})),t.video.addEventListener("loadeddata",(e=>{t.onLoadeddata(e),t.videoReady=!0})),t.video.addEventListener("timeupdate",(e=>{t.onTimeupdate(e)})),t.onPlayerReady()})),window.addEventListener("message",(function(e){if("https://cafe.naver.com"===e.origin&&"NCCL"===e.data.type){if(i("received postMessage (naver -> embed)",t.seq,t.id,e.data),void 0===e.data.seq||""===e.data.seq||void 0===t.video)return;switch(e.data.event){default:break;case"pause":t.video.paused||(i("try to pause",t.id),t.pause());break;case"play":t.video.paused&&(i("try to play",t.id),t.play())}}}))}play(){this.video&&this.video.paused&&(this.elemBtnPlay?$(this.elemBtnPlay).trigger("click"):this.video.play&&"function"==typeof this.video.play&&this.video.play())}pause(){this.video&&!this.video.paused&&(this.elemBtnPause?$(this.elemBtnPause).trigger("click"):this.video.pause&&"function"==typeof this.video.pause&&this.video.pause())}onPlayerReady(){}onPlay(e){i("Play - ",this.id),GM_SETTINGS.autoPauseOtherClips&&this.sendPostMessage({type:"NCCL",event:"play",seq:this.seq})}onPause(e){i("Pause - ",this.id)}onEnded(e){GM_SETTINGS.autoPlayNextClip&&this.sendPostMessage({type:"NCCL",event:"ended",seq:this.seq}),!this.isExitFullscreenAfterEnd&&GM_SETTINGS.exitFullscreenAfterEnd&&document.fullscreenElement&&(this.isExitFullscreenAfterEnd=!0,document.exitFullscreen())}onPlaying(e){}onLoadeddata(e){}onTimeupdate(e){}onFirstPlay(){}sendPostMessage(e){i("send postMessage (embed -> naver)","id=",this.id,"seq=",this.seq,e),window.parent.postMessage(e,"https://cafe.naver.com")}}class K extends j{constructor(e){if(super(e),this.elemBtnPlay="button[data-a-target='player-play-pause-button']",this.elemBtnPause="button[data-a-target='player-play-pause-button']",this.isSaveTimeAfterEnd=!1,this.savedTimeAfterEnd=0,GM_addStyle("\n        html body .player-overlay-background--darkness-5{background:rgba(0,0,0,.2);}\n        .player-overlay-background--darkness-5:hover [data-a-target='player-overlay-play-button'] {\n            background-color:rgba(255,255,255,0.2);\n            box-shadow: 0px 0px 1vw rgb(0 0 0 / 40%);\n        }\n        .NCCLVideoDeletedNotice{\n            position: absolute;\n            font-size: 2vw;\n            width: 100%;\n            height: 100%;\n            display: flex;\n            align-items: center;\n            flex: 1 1 100%;\n            background-color: #eee;\n        }\n        .NCCLVideoDeletedNotice .text{\n            text-align:center;\n            width:100%;\n        }\n        .keep_watching_btn{\n            font-size: 13px;\n            font-weight: 700;\n            background: rgb(145, 71, 255);\n            color: #fff;\n            width: fit-content;\n            padding: 5px 10px;\n            border-radius: 5px;\n            position: absolute;\n            right: 10px;\n            top: 10px;\n            cursor:pointer;\n        }\n        .keep_watching_btn:hover{\n            color:#fff;\n            background:rgb(119, 44, 232);\n            text-decoration:none;\n        }\n\n        .keep_watching_btn.keep_watching_no_vod_btn{\n            background:#666;\n            cursor:default;\n        }\n        .keep_watching_btn.keep_watching_no_vod_btn:hover{\n            background:#666;\n            cursor:default;\n        }\n        .opacity_1{\n            opacity:1 !important;\n        }\n        .opacity_transition{\n            transition: opacity 0.2s !important;\n        }\n        "),GM_addStyle('\n        html body .player-overlay-background--darkness-5 { background:unset !important; }\n        html body button[data-a-target="player-overlay-play-button"] { display:none !important; }\n        html body .video-player__container\n        ,html body .video-player{\n            background:unset;\n        }\n        '),GM_SETTINGS.hideTopOverlay&&GM_addStyle("    \n            html body .top-bar {\n                display:none !important;\n            }\n            "),GM_SETTINGS.hideEndOverlay&&(GM_addStyle(".player-overlay-background.player-overlay-background--darkness-1{background:none !important;}.player-overlay-background.player-overlay-background--darkness-1 .clip-postplay-recommendations{display:none !important;}"),$(document).arrive(".clip-postplay-recommendations",(function(e){for(var t=$(e),n=t.find("a.offline-recommendations-video-card"),a=!1,r=0;r<n.length;r++){var o=$(n[r]).attr("href");if(i("href",o),-1!==o.indexOf("https://www.twitch.tv/videos/")){$(".keep_watching_btn").remove(),t.closest(".player-overlay-background--darkness-1").append(`<a href="${o}" target="_blank" class="keep_watching_btn">VOD 계속 시청</a>`),a=!0;break}}a||($(".keep_watching_btn").remove(),t.closest(".player-overlay-background--darkness-1").append('<span class="keep_watching_btn keep_watching_no_vod_btn">이용 가능한 전체 동영상이 없습니다.</span>'))}))),GM_SETTINGS.play_and_pause_by_click)try{GLOBAL.isTwitchVod||GM_addStyle('[data-a-target="player-twitch-logo-button"]{display:none !important}'),GM_addStyle("\n                    html body .top-bar{\n                        display:none !important;\n                    }\n                ");let e,t=!1;$(document).on("click","[data-a-target='player-overlay-click-handler']",(n=>{i("clicked - playing",n),$("button[data-a-target='player-play-pause-button']").trigger("click"),t=!0,clearTimeout(e),e=setTimeout((function(){t=!1}),300)})),$(document).on("click",".player-overlay-background",(n=>{i("clicked - end or play",n),0!==$(n.target).find(".clip-postplay-recommendations").length?(i("There is recommendations div"),$("button[data-a-target='player-play-pause-button']").trigger("click")):i("There is no recommendations div"),t&&(clearTimeout(e),t=!1,$("button[data-a-target='player-play-pause-button']").trigger("click"))}))}catch(e){r("Error from play_and_pause_by_click",e)}try{GM_SETTINGS.set_volume_when_stream_starts&&localStorage.setItem("volume",GM_SETTINGS.target_start_volume),GM_SETTINGS.set_volume_when_stream_starts&&0===GM_SETTINGS.target_start_volume||this.muted?localStorage.setItem("video-muted",{default:!0}):localStorage.setItem("video-muted",{default:!1})}catch(e){r("Error from set_volume_when_stream_starts")}i("new PageTwitch",this)}onPlayerReady(){try{this.muted?this.video.muted=!0:GM_SETTINGS.set_volume_when_stream_starts&&(this.video.volume=GM_SETTINGS.target_start_volume)}catch(e){r("Error from set_volume_when_stream_starts",e)}$(".volume-slider__slider-container").addClass("opacity_1").addClass("opacity_transition"),GM_SETTINGS.alwaysShowVolumeController||(setTimeout((function(){$(".volume-slider__slider-container").removeClass("opacity_1")}),5e3),setTimeout((function(){$(".volume-slider__slider-container").removeClass("opacity_transition")}),6e3))}onPlay(e){this.loadSavedTimeAfterEnd(e.target),super.onPlay(e)}onPause(e){this.loadSavedTimeAfterEnd(e.target),super.onPause(e)}onPlaying(e){this.loadSavedTimeAfterEnd(e.target),super.onPlaying(e)}onEnded(e){this.isSaveTimeAfterEnd=!0,super.onEnded(e)}onTimeupdate(e){this.saveTimeAfterEnd(e.target),super.onTimeupdate(e)}loadSavedTimeAfterEnd(e){GM_SETTINGS.twitch_clip_time_update_after_end&&(this.isSaveTimeAfterEnd&&e.duration-.1>this.savedTimeAfterEnd&&(e.currentTime=this.savedTimeAfterEnd),this.isSaveTimeAfterEnd=!1,this.savedTimeAfterEnd=0)}saveTimeAfterEnd(e){GM_SETTINGS.twitch_clip_time_update_after_end&&this.isSaveTimeAfterEnd&&(i("current time update",e.currentTime),this.savedTimeAfterEnd=e.currentTime)}}var J=n(254),Z=n.n(J);class X extends j{constructor(e){e.typeName="NAVER_VID",super(e),i("new PageNaver",e),this.elemBtnPlay="span.u_rmc_ic.u_rmc_play_ic",this.elemBtnPause="span.u_rmc_ic.u_rmc_pause_ic",this.elemBtnReplay=void 0,this.waitSetMaxQuality=!1,this.inkey=e.inkey,this.lastTime=0,this.loop=!!e.loop&&e.loop,this.reloaded=!1;let n=this;if(GM_addStyle(Z().toString()),GM_SETTINGS.hideEndOverlay&&(unsafeWindow.XMLHttpRequest.prototype.oriOpen=unsafeWindow.XMLHttpRequest.prototype.open,unsafeWindow.XMLHttpRequest.prototype.open=function(){-1===arguments[1].indexOf("https://serviceapi.nmv.naver.com/ugc/flash/getRelativeMovie")&&-1===arguments[1].indexOf("https://serviceapi.nmv.naver.com/flash/getRelativeMovie")||(arguments[1]=""),this.oriOpen.apply(this,arguments)}),GM_SETTINGS.naverVideoAutoMaxQuality&&$(document).arrive(".u_rmc_definition_ly",{existing:!0},(function(e){n.setMaxQuality(!1)})),GM_SETTINGS.alwaysShowVolumeController&&GM_addStyle("\n            body .u_rmcplayer .u_rmc_progress_controls .u_volume_panel {\n                width: 80px;\n                margin: 0 7px 0 5px;\n                -webkit-transition: width .2s cubic-bezier(0,0,.2,1),padding-right .2s cubic-bezier(0,0,.2,1);\n                transition: width .2s cubic-bezier(0,0,.2,1),padding-right .2s cubic-bezier(0,0,.2,1);\n                -webkit-box-sizing: border-box;\n                box-sizing: border-box;\n                overflow: visible !important;\n            }\n            body .u_rmcplayer .u_rmc_volume_slider .u_rmc_handle_ic {\n                opacity: 1 !important;\n                overflow: visible !important;\n            }\n            "),GM_SETTINGS.set_volume_when_stream_starts||this.muted)try{let e=localStorage.getItem("NWP_UserData");e=null===e?{selectedCaption:null,selectedCaptionType:"cp",useCaption:"false",lastPlayingRegularResolution:null,lastPlayingRegularResolution_desktop:"1080P",lastPlayingRegularResolution_common:null,is3GAlertConfirmed:!1,userVolume:1,"3GAlertConfirmExpireTime":0,subtitleUserOption:{size:"2",color:"white",isTransparent:!1},shownHelpLayer:"false",qualityLogData:null,playingLogData:null}:JSON.parse(e),i("muted?",this.muted,typeof this.muted),this.muted?(e.userVolume=0,localStorage.setItem("NWP_UserData",JSON.stringify(e))):GM_SETTINGS.set_volume_when_stream_starts&&(e.userVolume=GM_SETTINGS.target_start_volume,localStorage.setItem("NWP_UserData",JSON.stringify(e)))}catch(e){i("Error from set_volume_when_stream_starts",e)}if(GM_SETTINGS.NaverVideoEnhancedClick){let e,t,n,a,r=!1;$(document).on("mousedown","._click_zone, ._video_thumb",(function(e){t=e.pageX,n=e.pageY,a=$("video").get(0).paused,i("SAVE x and y",t,n,a)})),GM_addStyle("\n            div[data-video-overlay] {display:block !important}\n            .u_rmcplayer .onlyspin {pointer-events:none !important;}\n            "),$(document).on("mouseup","._click_zone",(function(i){let o=i.target.tagName,s=i.target.parentNode.tagName;!1!=("A"!==o&&"A"!==s&&"BUTTON"!==o&&"BUTTON"!==s)&&(r?(r=!1,$(".u_rmc_full_ic").trigger("click")):(r=!0,clearTimeout(e),e=setTimeout((function(){r=!1}),250)),0===$(i.target).closest("._disable_click_zone").length&&!1!=(Math.abs(t-i.pageX)>3||Math.abs(n-i.pageY)>3)&&a===$("video").get(0).paused&&$("button[data-toolbar-play-button]").trigger("click"))}))}$(document).arrive(".u_rmcplayer_error_container",{existing:!0},(function(e){try{let t=$(e),i=$(`<div class="naver_player_reload naver_player_reload_error_btn">[${GLOBAL.scriptName} v${GLOBAL.version}]<br />네이버 플레이어를 다시 로드하려면 여기를 클릭하세요.</div>`).on("click",(function(){n.playerReload()}));t.find(".u_rmc_error_txt").append(i)}catch(e){NOMO_ERROR("Error from video arrive",e)}})),$(document).arrive(".u_rmc_controls_btn",{onlyOnce:!0,existing:!0},(function(e){try{let i=$(e);if(GM_SETTINGS.NaverVideoAddLoopBtn){let e=$(`<div style="color:${n.loop?"#00e686":"#eee"}" class="naver_player_reload_btn loop_btn">Loop</div>`).on("click",(function(e){n.video.loop=!n.video.loop,n.loop=n.video.loop,n.video.loop?$(e.target).css("color","#00e686").addClass("BANJJAK"):$(e.target).css("color","#eee").removeClass("BANJJAK")}));i.prepend(e)}if(t()){let e=$('<div class="naver_player_reload_btn">Reload</div>').on("click",(function(){n.playerReload()}));i.prepend(e);let t=$('<div class="naver_player_reload_btn">Throw error</div>').on("click",(function(){n.video&&(n.video.src="abcd")}));i.prepend(t)}}catch(e){NOMO_ERROR("Error from video arrive",e)}}))}playerReload(){i("playerReload",this.id,this.seq),this.reloaded||(this.reloaded=!0,$(".u_rmc_error_txt").addClass("reloaded"),window.parent.postMessage({type:"NCCL_NAVERVID_RELOAD",seq:this.seq,loop:this.loop,beginTime:this.lastTime},"https://cafe.naver.com"))}setMaxQuality(e){i("Naver Video - setMaxQuality",this.id);var t=$(".u_rmc_definition_ly"),n=t.closest(".u_rmcplayer");if(0!==n.length)if(e&&n.removeClass("_QSET"),n.hasClass("_QSET"))a("setMaxQuality - ALREADY QSET");else{var r=t.find("li");if(r.length>2){var o=r.last();if(o.hasClass("u_rmc_on"))return void a("setMaxQuality - u_rmc_on - ALREADY QSET");i("setMaxQuality - Best Quality Set",this.id,o.text()),o.find("button").trigger("click"),n.addClass("_QSET"),setTimeout((function(){$('[data-model="currentVideo.encodingOption.name"]').addClass("BANJJAK")}),200),setTimeout((function(){$('[data-model="currentVideo.encodingOption.name"]').removeClass("BANJJAK")}),3e3)}else a("no li elements for QSET")}else a("setMaxQuality - no $u_rmcplayer")}onFirstPlay(){super.onFirstPlay(),GM_SETTINGS.hideTopOverlay&&GM_addStyle("\n                div[data-title-container],\n                .u_rmcplayer_video_info {display:none !important}\n            ")}onPlaying(){super.onPlaying();let e=this;this.waitSetMaxQuality&&(this.waitSetMaxQuality=!1,setTimeout((function(){e.setMaxQuality(!0),setTimeout((function(){e.video.paused&&e.play()}),200)}),100))}onEnded(){super.onEnded(),this.waitSetMaxQuality=!0}onTimeupdate(e){let t=e.target.currentTime;0!==t&&(this.lastTime=t)}}const ee=["highres","hd2880","hd2160","hd1440","hd1080","hd720","large","medium","small","tiny"];var te,ne=void 0,ie=void 0,ae=!1,re=!1,oe=!1,se=/listType=playlist/i.test(document.location.href),le=!1,de=new URL(document.location.href),ce=new URLSearchParams(de.search),pe="true"===ce.get("darkMode"),ue="true"===ce.get("mute"),he="true"===ce.get("autoplay"),_e=!!ce.get("list"),me=ce.get("clipt"),ge=ce.get("clip"),fe=me&&ge,ve=ce.get("storyBoardUrl"),ye=ce.get("storyBoardSeq");function be(){if(i("== PAGE_YOUTUBE_EMBED =="),GM_addStyle("\n    .unstarted-mode {cursor:pointer}\n    .ytp-ad-overlay-container {display:none !important}\n\n    #NCCL_popup {\n        position: fixed;\n        z-index: 99999;\n        user-select: none;\n        left: 50%;\n        background: rgba(0,0,0,0.8);\n        transform: translate(-50%, 3px);\n        padding: 3px 8px;\n        color: #fff;\n        border-radius: 4px;\n        font-size: 16px;\n        box-sizing: border-box;\n        vertical-align: middle;\n        animation-duration: 1.3s;\n        animation-name:fadeInOut;\n        animation-timing-function: ease-in-out;\n        animation-iteration-count: 1;\n        opacity:0.0;\n    }\n\n    @keyframes fadeInOut {\n        0%      { opacity: 0.0; transform: translate(-50%, 3px); }\n        25% { opacity: 0.85; transform: translate(-50%, 0%); }\n        80% { opacity: 0.85; transform: translate(-50%, 0%); }\n        100% { opacity: 0.0; transform: translate(-50%, 6px) }\n    }\n\n    /* shorts 의 경우 일반 비디오처럼 autohide 시 title 을 숨긴다. */\n    .ytp-autohide .ytp-shorts-title-channel { display:none !important; }\n\n    /* 다음에서 보기: YouTube */\n    .ytp-impression-link {display:none !important; }\n\n    "),1!=GM_SETTINGS.topBottomShadowOpacity&&GM_addStyle(`\n        .ytp-gradient-top,\n        .ytp-gradient-bottom {\n            opacity:${GM_SETTINGS.topBottomShadowOpacity} !important;\n        }\n        `),GM_SETTINGS.bottomShadowButton&&GM_addStyle("\n            div.ytp-left-controls, div.ytp-right-controls { filter:drop-shadow(0px 0px 1px rgba(0, 0, 0, .9)) }\n            div.ytp-chrome-top  { filter:drop-shadow(0px 0px 1px rgba(0, 0, 0, .7)) }\n        "),GM_SETTINGS.youtubeFixClickAfterScrolling&&(GM_addStyle("\n        video, .ytp-iv-video-content {pointer-events: none;}\n        "),$(document).on("wheel",(function(e){i("iframe youtube embed wheel event",e),i("send postMessage (embed -> naver), scroll event"),window.parent.postMessage({scrollEvent:!0},"https://cafe.naver.com")}))),re="default"!==GM_SETTINGS.youtubeSetQuality&&function(){if("default"===GM_SETTINGS.youtubeSetQuality)return!1;return!!$.inArray(GM_SETTINGS.youtubeSetQuality,ee)||(i("NO TARGET QUALITY"),!1)}())try{let t=localStorage.getItem("yt-player-quality");if(!t){var e=JSON.parse(t);e&&e.data!==GM_SETTINGS.youtubeSetQuality&&(e.data=GM_SETTINGS.youtubeSetQuality,e.expiration=Number(new Date)+864e5,e.creation=Number(new Date),localStorage.setItem("yt-player-quality",JSON.stringify(e)),i("Set YTQ localstorage",e))}}catch(e){NOMO_ERROR("Error from setting YTQ localstorage",e)}we(),$(document).arrive("video",{existing:!0,onlyOnce:!0},(function(e){(te=e).addEventListener("playing",(e=>{if(le)return;le=!0,se||_e||!GM_SETTINGS.hideTopOverlay||($(".ytp-gradient-top").fadeOut(250),$(".ytp-chrome-top").fadeOut(250));try{if(pe)i("darkMode detected");else{i("no darkMode detected");let e=$(".html5-main-video").css("left"),t=$(".html5-main-video").css("top"),n=e.match(/(\d+)\s?px/i),a=t.match(/(\d+)\s?px/i);if(null!==n&&null!==a){let e=Number(n[1]),t=Number(a[1]);i("videoCssLeftPxNum",e,"videoCssTopPxNum",t),e<5&&t<5&&GM_addStyle("\n                                body, .html5-video-player:not(.ytp-fullscreen):not(.ended-mode) {background:none #fff !important;}\n                                body {background-color:#fff !important;}\n                            ")}}}catch(e){i("youtube embed page 에서 Darkmode 체크 중 에러",e)}let t=$(te);try{"0"!==GM_SETTINGS.shortsAutoResizeType&&t.width()+1<t.height()&&GM_addStyle("\n                    /* Youtube Shorts .ytp-shorts-mode */\n                    .html5-video-player { background: radial-gradient(ellipse at center, rgb(0 0 0 / 0%) 0%,rgb(16 16 16) 70%,rgba(0,0,0,1) 100%) !important; }\n                    ")}catch(e){i("youtube embed page 에서 shorts 여부 체크 중 에러",e)}})),te.addEventListener("ended",(e=>{ke()}))})),GM_SETTINGS.hidePauseOverlay&&GM_addStyle("\n        .ytp-pause-overlay-container {display:none !important}\n        "),GM_SETTINGS.hideEndOverlay&&(GM_addStyle("\n        /*동영상 종료 후 추천 동영상 숨기기*/\n        .html5-video-player.ended-mode video.html5-main-video {top:0px !important}\n\n        /* 동영상 종료 후 확대를 막는다. */\n        .ytp-fit-cover-video.ended-mode .html5-main-video { object-fit: contain !important }\n\n        /*.html5-endscreen {display:none !important}*/\n        .ytp-endscreen-content {display:none !important;}\n\n        /*for youtube shorts*/\n        .html5-endscreen.ytp-shorts-branded-ui .ytp-watch-on-youtube-button,\n        .ytp-watch-again-on-youtube-endscreen-more-videos-container {display:none !important;}\n        "),$(document).on("mouseup",".html5-endscreen",(function(e){i("Clicked youtube endscreen",e,e.target),0===$(e.target).closest(".ytp-chrome-bottom").length&&(setTimeout((function(){$(".ytp-play-button").trigger("click")}),50),setTimeout((function(){$("video").get(0).paused&&$(".ytp-play-button").trigger("click")}),300))}))),GM_SETTINGS.youtubeShortsPauseOverlayClear&&GM_addStyle(".ytp-shorts-mode .ytp-pause-overlay-backdrop{background:unset !important}");try{if(GM_SETTINGS.set_volume_when_stream_starts){let e=Number(new Date),t={volume:100*GM_SETTINGS.target_start_volume,muted:!(!ue&&0!==GM_SETTINGS.target_start_volume)},n={data:JSON.stringify(t),expiration:e+2592e6,creation:e};localStorage.setItem("yt-player-volume",JSON.stringify(n)),n={data:JSON.stringify(t),creation:e},sessionStorage.setItem("yt-player-volume",JSON.stringify(n))}}catch(e){i("Error from set_volume_when_stream_starts")}!he&&fe&&GM_SETTINGS.youtubeClipStoryBoardImage&&ve&&ye&&(i("storyBoardUrl",ve=(0,y.N)(ve)),i("storyBoardSeq",ye),$(document).arrive(".ytp-cued-thumbnail-overlay-image",{existing:!0,onlyOnce:!0},(function(e){if("about:blank"==ve)return;let t=new Image;t.onerror=function(e){i("story image fail",e)},t.onload=function(){i("story image loaded");let t=$(e);t.css({"background-image":`url(${ve})`});let n="0",a="0";ye>=0&&ye<10?a="calc(100% / 5)":ye>=15&&ye<25&&(a="calc(-100% / 5)"),ye%5==0||ye%5==1?n="calc(100% / 5)":ye%5!=3&&ye%5!=4||(n="calc(-100% / 5)"),t.css("transform",`scale(calc(5/3)) translate(${n}, ${a})`)},t.src=ve})))}var Ge=1;function we(){if(i("YOUTUBE_EMBED_SET_QUALITY_POST",Ge),!ae){if(Ge>40)return;if(0===(ne=$(".html5-video-player")).length||void 0===ne[0].getPlaybackQuality)return void setTimeout((function(){Ge+=1,we()}),50);ie=ne[0],ae=!0,function(){if(GM_SETTINGS.set_volume_when_stream_starts&&ie&&"function"==typeof ie.setVolume&&ie.setVolume(100*GM_SETTINGS.target_start_volume),re){let e=GM_SETTINGS.youtubeSetQuality,n=ie.getPlaybackQuality();if(i(`Current YTQ: ${n}`),void 0!==ie.setPlaybackQualityRange&&ie.setPlaybackQualityRange(e),ie.setPlaybackQuality(e),i(`YTQ CHANGED. ${n} -> ${e}`),t()&&(unsafeWindow.YTPlayer=ie,unsafeWindow.video=te,GM_addStyle("\n            /* tooltip */\n            .ytp-tooltip:not([aria-hidden=true]) {display:none !important}\n            ")),fe&&GM_SETTINGS.youtubeClipDisableLoop&&"function"==typeof ie.getLoopRange&&te){let e=-100,t=function(t){let a=ie.getLoopRange();if(a&&"clips"===a.type){let t=te.currentTime,n=.001*a.startTimeMs,r=.001*a.endTimeMs,o=Math.abs(e-r),s=Math.abs(t-n);(t>=r||r-n>4.9&&o<1&&s<1)&&(i("youtubeClipDisableLoop, Pause video. cond",o,s),ie.pauseVideo(),ie.seekTo(n),ke()),e=t}else n(t)},n=function(e){i("removeYoutubeClipDisableLoopHandler"),te.removeEventListener("timeupdate",t)};te.addEventListener("timeupdate",t)}}!he&&se&&$(".ytp-playlist-menu").length>0&&$(".ytp-playlist-menu-button-icon").length>0&&($(".ytp-playlist-menu").is(":visible")||$(".ytp-playlist-menu-button-icon").trigger("click")),GM_SETTINGS.alwaysShowVolumeController&&GM_addStyle("\n        .ytp-time-display-allow-autohide {\n            display: none;\n        }\n        .ytp-volume-panel {\n            width: 52px;\n            margin-right: 3px;\n            -webkit-transition: margin .2s cubic-bezier(0,0,0.2,1),width .2s cubic-bezier(0,0,0.2,1);\n            transition: margin .2s cubic-bezier(0,0,0.2,1),width .2s cubic-bezier(0,0,0.2,1);\n        }\n        .ytp-big-mode .ytp-volume-panel {\n            width: 78px;\n            margin-right: 5px;\n        }\n        .ytp-impression-link {\n            display:none;\n        }\n        ")}()}}function ke(){!oe&&GM_SETTINGS.exitFullscreenAfterEnd&&document.fullscreenElement&&(oe=!0,document.exitFullscreen())}class Ce extends j{constructor(e){e.typeName="AFTV_VOD",super(e),i("new PageNaver",e),this.elemBtnPlay="#btnPlayPause",this.elemBtnPause="#btnPlayPause",this.mouseleaveSetTimeout=void 0;let t=this;GM_addStyle("#afreecatv_player .player_ctrlBox .volume.bar_show_always .volume_slider {\n            margin-left: 0px;\n            opacity: 1;\n            -moz-opacity: 1;\n            filter: alpha(opacity=100)\n        }\n        "),GM_SETTINGS.hidePauseOverlay&&GM_addStyle("#embed_recommend {display:none !important;}"),GM_SETTINGS.hideEndOverlay&&($(document).arrive("#after_recommend button.cancel",{onlyOnce:!0,existing:!0},(function(e){$(e).is(":visible")&&(i("CANCEL after recommend"),$(e).trigger("click"),$("#after_recommend").remove())})),GM_addStyle(".recommend_broadcast{opacity:0;}"),$(document).on("click",".recommend_broadcast",(function(){i(".recommend_broadcast clicked");var e=$("button.btn_refresh");0!==e.length&&t.video.paused&&t.video.ended&&e.trigger("click")}))),GM_SETTINGS.aftvBeautifier&&(GM_addStyle("/*play and pause 시 하단바가 움직이는 것을 개선한다*/\n            #afreecatv_player .player_ctrlBox .play{\n                margin-bottom:0px !important;\n            }\n        \n            /*플레이어 상단 메뉴를 조금 더 투명하고 컴팩트하게 만든다*/\n            #player_info .title h1 a{\n                font-size:18px !important;\n            }\n            #player_info{\n                min-height: 60px !important;\n                linear-gradient(to bottom, rgba(0,0,0,0.6), rgba(0,0,0,0.4), rgba(0,0,0,0.1), transparent) !important;\n            }\n            #player_info .bj_thumbnail, #player_info .bj_thumbnail img{\n                width:40px !important;\n                height:40px !important;\n            }\n        \n            /*재생바 투명도*/\n            #afreecatv_player .progress{\n                padding:7px 0 !important; /* mouse on 시 재생바 커지는 것 방지 */\n            }\n            #afreecatv_player .progress .progress_track{\n                height:3px !important; /* mouse on 시 재생바 커지는 것 방지 */\n            }\n            #afreecatv_player .progress .progress_track .watched{\n                background-color: rgba(44, 198, 255, 0.7) !important;\n            }\n            #afreecatv_player .progress .progress_track .handler{\n                opacity:0.7 !important;\n            }\n            #afreecatv_player .progress .progress_track{\n                background-color: rgba(0.6, 0.6, 0.6, 0.3) !important;\n            }\n        \n            /*volume slider 투명도*/\n            .volume_slider_wrap{\n                opacity:0.9;\n            }\n        \n            /*모두가 afreeca clip 인 것을 알기 때문에 숨긴다.*/\n            /*#btn_afreecatv_link {\n                display:none !important;\n            }*/\n            .watermark {\n                display:none !important;\n            }\n            "),$(document).on("mouseover","#webplayer",(function(){clearTimeout(t.mouseleaveSetTimeout)})),$(document).on("mouseout","#webplayer",(function(){t.mouseleaveSetTimeout=setTimeout((function(){$(".mouseover").removeClass("mouseover")}),100)})));try{$(document).ready((function(){void 0!==unsafeWindow.$&&(unsafeWindow.oriAjax=unsafeWindow.$.ajax,unsafeWindow.$.ajax=function(){-1===arguments[0].url.indexOf("https://reqde.afreecatv.com")?unsafeWindow.oriAjax.apply(this,arguments):arguments[0].error({status:1},"","")})}))}catch(e){i("error from monga...monga...",e)}if(GM_SETTINGS.set_volume_when_stream_starts)try{localStorage.setItem("volume",GM_SETTINGS.target_start_volume),0!==GM_SETTINGS.target_start_volume&&localStorage.setItem("muted",{default:Number(!1)})}catch(e){i("Error from set_volume_when_stream_starts")}GM_SETTINGS.alwaysShowVolumeController&&GM_addStyle("\n            body #afreecatv_player .player_ctrlBox .volume_slider_wrap .volume_slider {\n                margin-left: 0px;\n                opacity: 1;\n                -moz-opacity: 1;\n                filter: alpha(opacity=100);\n            }\n            "),GM_SETTINGS.aftvAutoMaxQuality&&$(document).arrive("button[data-qualityname='original']",{onlyOnce:!0,existing:!0},(function(e){$(e).hasClass("on")||(i("SET AFTV VIDEO SOURCE QUALITY"),$(e).trigger("click"))}))}onFirstPlay(){super.onFirstPlay(),GM_SETTINGS.hideTopOverlay&&GM_addStyle("\n                #player_info {display:none !important}\n            ")}}class xe extends j{constructor(e){super(e)}onPlayerReady(){super.onPlayerReady(),this.muted?this.video.volume=0:GM_SETTINGS.set_volume_when_stream_starts&&(this.video.volume=GM_SETTINGS.target_start_volume)}}class Me extends j{constructor(e){super(e),this.maxqset=!1}onPlayerReady(){super.onPlayerReady(),this.muted?this.video.volume=0:GM_SETTINGS.set_volume_when_stream_starts&&(this.video.volume=GM_SETTINGS.target_start_volume)}}var Le=n(613),Te=n.n(Le);(async()=>{if(GLOBAL.TWITCH_CLIP=0,GLOBAL.TWITCH_VOD=1,GLOBAL.YOUTUBE_CLIP=2,GLOBAL.YOUTUBE_VOD=3,GLOBAL.YOUTUBE_PLAYLIST=4,GLOBAL.NAVER_VID=7,GLOBAL.NAVER_TV=8,GLOBAL.NAVER_VID_PRISM=9,GLOBAL.STREAMABLE=10,GLOBAL.AFTV_VOD=11,GLOBAL.TWIP=12,GLOBAL.KAKAO_VID=13,GLOBAL.DAILYMOTION=14,GLOBAL.GFYCAT=15,GLOBAL.VLIVE_OEMBED=16,GLOBAL.VLIVE__1=17,GLOBAL.VLIVE__2=18,GLOBAL.TIKTOK=19,GLOBAL.scriptName=l(GM.info.script.name||GM_info.script.name),GLOBAL.version=l(GM.info.script.version||GM_info.script.version),GLOBAL.isTopWindow=window.self===window.top,GLOBAL.initLocationUrl=document.location.href,GLOBAL.isDarkMode=!1,GLOBAL.isNaverCafe=/(^https:\/\/cafe\.naver\.com\/)/.test(GLOBAL.initLocationUrl),GLOBAL.isNaverCafeMain=GLOBAL.isNaverCafe&&!GLOBAL.isTopWindow,GLOBAL.isNaverCafeTop=GLOBAL.isNaverCafe&&GLOBAL.isTopWindow,GLOBAL.isNaverCafeMobile=/(^https:\/\/m\.cafe\.naver\.com\/)/.test(GLOBAL.initLocationUrl),GLOBAL.isTwitchClip=/(^https:\/\/clips\.twitch\.tv\/)/.test(GLOBAL.initLocationUrl),GLOBAL.isTwitchVod=/(^https:\/\/player\.twitch\.tv\/)/.test(GLOBAL.initLocationUrl),GLOBAL.isSettingWindow=/(^https:\/\/cafe\.naver\.com\/NaverCafeClipLoaderSettings)/.test(GLOBAL.initLocationUrl),GLOBAL.isTwitch=GLOBAL.isTwitchClip||GLOBAL.isTwitchVod,GLOBAL.isNaverVideoEmbed=/(^https:\/\/serviceapi\.nmv\.naver\.com(\/ugc)?\/view\/ugcPlayer)/.test(GLOBAL.initLocationUrl),GLOBAL.isParentNaverCafe=/(parent=(cafe|www)?\.?naver\.com)/.test(GLOBAL.initLocationUrl),GLOBAL.isTwitchMuted=GLOBAL.isTwitch&&-1!==document.location.href.indexOf("muted=true"),GLOBAL.isYoutubeEmbed=/^https:\/\/www\.youtube\.com\/embed\//.test(GLOBAL.initLocationUrl),GLOBAL.isCafeWritingMode=/^https:\/\/cafe\.naver\.com\/ca-fe\/cafes\/\d+\/articles\/\d+\/modify/.test(GLOBAL.initLocationUrl)||/^https:\/\/cafe\.naver\.com\/ca-fe\/cafes\/\d+\/menus\/\d+\/articles\/write\?/.test(GLOBAL.initLocationUrl),GLOBAL.isCafeManageMenu=/^https:\/\/cafe\.naver\.com\/ManageMenu\.nhn/.test(GLOBAL.initLocationUrl),GLOBAL.isStreamableEmbed=/^https?:\/\/streamable\.com\/e\//.test(GLOBAL.initLocationUrl),GLOBAL.isAftvEmbed=/^https?:\/\/vod\.afreecatv\.com\/player\//.test(GLOBAL.initLocationUrl),GLOBAL.isTwipEmbed=/^https?:\/\/vod.twip.kr\/(?:vod|clip)\/[a-zA-Z0-9-_]+\/embed/.test(GLOBAL.initLocationUrl),GLOBAL.isKakaotvEmbed=!1,GLOBAL.isDailymotionEmbed=!1,GLOBAL.isGfycat=!1,GLOBAL.isVlive=!1,GLOBAL.isTiktok=!1,(!GLOBAL.isTopWindow||!GLOBAL.isTwitch)&&(!GLOBAL.isTopWindow||!GLOBAL.isNaverVideoEmbed)&&(GLOBAL.isTopWindow||!GLOBAL.isTwitch||GLOBAL.isParentNaverCafe))if(console.log("[NCCL]   Naver-Cafe-Clip-Loader",document.location.href),await async function(){e=await GM.getValue("DEBUG",!1),unsafeWindow.NCCL_DEBUG_TOGGLE=function(){return e=!e,GM.setValue("DEBUG",e),`DEBUG = ${e}`}}(),await async function(){await o.init("GM_SETTINGS",{DEBUG:e,SETTINGS:w,CONSOLE_MSG:i,MULTILANG:!1,TABS:!0,MIGRATION:x,feedbackLink:"https://github.com/nomomo/Naver-Cafe-Twitch-Clip-Loader/issues/new/choose",packageJsonLink:"https://raw.githubusercontent.com/nomomo/Naver-Cafe-Twitch-Clip-Loader/main/package.json"})}(),GM_addStyle(Te().toString()),GLOBAL.isSettingWindow)!function(){i("== PAGE_SETTING =="),$("body").empty().css("padding","0px 30px 0px 30px"),$("head").find("style").each((function(e,t){var n=$(t);null==n.attr("id")&&n.remove()})),GM_addStyle("\n        html{overflow-y:hidden;};\n        body::-webkit-scrollbar { width: 8px; height: 8px; background: #eee; }\n        body::-webkit-scrollbar-thumb { background: #ccc; }\n        body #GM_setting .GM_setting_list_head {vertical-align:bottom;}\n        body #wrap {display:none;}\n        body {background-color:#f5f5f5 !important;overflow-y: scroll;  height: 100dvh;}\n        body #GM_setting .form-check-input:checked{background-color: #2DB400; border-color: #2DB400;}\n        body #GM_setting .btn.btn-primary {filter: hue-rotate(280deg);}\n    ");var e="GM_Setting_Bootstrap";if(!document.getElementById(e)){var t=document.getElementsByTagName("head")[0],n=document.createElement("link");n.id=e,n.rel="stylesheet",n.type="text/css",n.crossOrigin="anonymous",n.href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css",n.integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9",n.media="all",t.appendChild(n),GM.addStyle("\n        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');\n        #GM_setting, #GM_setting .GM_setting_title, #GM_setting .GM_setting_desc, #GM_setting .GM_setting_logo, #GM_setting .GM_homepage_link\n        {font-family: 'Inter',\"맑은 고딕\",Malgun Gothic,\"돋움\",dotum,sans-serif;}\n        ")}document.title="Naver-Cafe-Clip-Loader 상세 설정 페이지",$(document).ready((function(){$("body").empty().css("padding","0px 30px 0px 30px"),GM_setting.createlayout($("body"))}))}();else if(GLOBAL.isNaverCafe&&V(),GLOBAL.isNaverCafeTop)p();else{if(!GLOBAL.isNaverCafeMain)return GLOBAL.isNaverCafeMobile?($(document).arrive("div#postContent .content",{existing:!0},(function(e){A()})),V(),void Q()):void(GLOBAL.isTwitch?GM_SETTINGS.useTwitch&&function(){let e=new URL(document.location.href),t=new URLSearchParams(e.search),n="true"===t.get("muted"),i="true"===t.get("autoplay"),a="";GLOBAL.isTwitchClip?a=t.get("clip"):GLOBAL.isTwitchVod&&(a=t.get("video")),new K({type:GLOBAL.NAVER_VID,id:a,seq:t.get("seq"),start:t.get("t"),autoPlay:i,muted:n})}():GLOBAL.isNaverVideoEmbed?function(){i("== PAGE_NAVER_EMBED ==");let e=new URL(document.location.href),t=new URLSearchParams(e.search),n="true"===t.get("muted"),a="true"===t.get("autoPlay"),r="true"===t.get("loop");new X({type:GLOBAL.NAVER_VID,id:t.get("vid"),seq:t.get("seq"),inkey:t.get("inkey"),start:t.get("beginTime"),loop:r,autoPlay:a,muted:n})}():GLOBAL.isYoutubeEmbed?GM_SETTINGS.useYoutube&&be():GLOBAL.isStreamableEmbed?GM_SETTINGS.useStreamable&&function(){NOMO_DEBUG("== PAGE_STREAMABLE_EMBED ==");let e=new URL(document.location.href),t=new URLSearchParams(e.search);new xe({id:document.location.href.match(/^https?:\/\/streamable\.com\/(?:e\/)?([a-zA-Z0-9-_]+)/)[1],type:GLOBAL.STREAMABLE,seq:t.get("seq"),url:document.location.href,muted:"1"===t.get("omuted")})}():GLOBAL.isAftvEmbed?GM_SETTINGS.useAftv&&function(){i("== PAGE_AFTV_EMBED ==");var e=document.location.href.match(/^https?:\/\/vod\.afreecatv.com\/player\/(\d+)\??(change_second=\d+)?/);if(null===e)return;let t=e[1],n=0;void 0!==e[2]&&(n=e[2].replace("change_second=",""));let a=new URL(document.location.href),r=new URLSearchParams(a.search);new Ce({type:GLOBAL.AFTV_VOD,id:t,start:n,seq:r.get("seq")})}():GLOBAL.isTwipEmbed&&GM_SETTINGS.useTwip&&function(){i("== PAGE_TWIP_EMBED ==");let e=new URL(document.location.href),t=new URLSearchParams(e.search),n="true"===t.get("muted");GM_addStyle("\n    #__next > div {overflow-y:hidden;}\n    ");try{let e=localStorage.getItem("plyr");e=e?JSON.parse(e):{},GM_SETTINGS.twipAutoMaxQuality&&(e.quality=1080),n||GM_SETTINGS.set_volume_when_stream_starts&&0===GM_SETTINGS.target_start_volume?e.muted=!0:(e.muted=!1,GM_SETTINGS.set_volume_when_stream_starts&&(e.volume=GM_SETTINGS.target_start_volume)),localStorage.setItem("plyr",JSON.stringify(e))}catch(e){i("Error from twipAutoMaxQuality",e)}new Me({id:document.location.href.match(/^https?:\/\/vod.twip.kr\/(?:vod|clip)\/([a-zA-Z0-9-_]+)\/embed/)[1],type:GLOBAL.STREAMABLE,seq:t.get("seq"),url:document.location.href,muted:!!n})}());Q()}})()})()})();