// ==UserScript==
// @name        Naver-Cafe-Clip-Loader
// @version     1.0.0
// @author      Nomo
// @description Naver Cafe 에서 Youtube Clip, Streamable, Afreecatv VOD, Clippy, Twitch(해외) 등의 외부 VOD 시청을 도와주는 유저스크립트 확장
// @supportURL  https://github.com/nomomo/Naver-Cafe-Twitch-Clip-Loader/issues
// @match       https://cafe.naver.com/*
// @match       https://clips.twitch.tv/*parent=cafe.naver.com*
// @match       https://player.twitch.tv/*parent=cafe.naver.com*
// @match       https://serviceapi.nmv.naver.com/*
// @match       https://www.youtube.com/embed/*origin=https%3A%2F%2Fcafe.naver.com*
// @match       https://*/*parent=cafe.naver.com&extension=NCCL*
// @namespace   Naver-Cafe-Clip-Loader
// @updatelog   2022/12/24 v1.0.0 - Script 이름 변경, 지원 VOD 플랫폼 추가, 최적화 등. 업데이트를 원하시면 '업그레이드' 버튼을 눌러주세요.
// @memo        나타날 수 있습니다.
// @icon        https://raw.githubusercontent.com/nomomo/Naver-Cafe-Twitch-Clip-Loader/master/images/logo.png
// @homepageURL https://github.com/nomomo/Naver-Cafe-Twitch-Clip-Loader/
// @downloadURL https://github.com/nomomo/Naver-Cafe-Twitch-Clip-Loader/raw/main/Naver-Cafe-Clip-Loader.user.js
// @updateURL   https://github.com/nomomo/Naver-Cafe-Twitch-Clip-Loader/raw/main/Naver-Cafe-Clip-Loader.user.js
// @run-at      document-start
// @require     https://greasemonkey.github.io/gm4-polyfill/gm4-polyfill.js
// @require     https://code.jquery.com/jquery-3.6.0.min.js
// @grant       GM.addStyle
// @grant       GM_addStyle
// @grant       GM.getValue
// @grant       GM_getValue
// @grant       GM.setValue
// @grant       GM_setValue
// @grant       GM.deleteValue
// @grant       GM_deleteValue
// @grant       GM.listValues
// @grant       GM_listValues
// @grant       GM.info
// @grant       GM_info
// @grant       GM.xmlHttpRequest
// @grant       GM_xmlhttpRequest
// @grant       GM.registerMenuCommand
// @grant       GM_registerMenuCommand
// @grant       GM.addValueChangeListener
// @grant       GM_addValueChangeListener
// @grant       GM.removeValueChangeListener
// @grant       GM_removeValueChangeListener
// @grant       unsafeWindow
// @connect     youtube.com
// @connect     tv.kakao.com
// @connect     tv.naver.com
// @connect     vlive.tv
// ==/UserScript==

(()=>{var __webpack_modules__={"./src/css/cafe_main.css":(module,__unused_webpack_exports,__webpack_require__)=>{eval('// Imports\nvar ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/noSourceMaps.js */ "./node_modules/css-loader/dist/runtime/noSourceMaps.js");\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, ".NCCL_container {\\r\\n    position: relative;\\r\\n}\\r\\n.NCCL_container .NCCL_iframe_container {\\r\\n    display:flex;\\r\\n    background-color: #000;\\r\\n}\\r\\n.NCCL_container .NCCL_iframe {\\r\\n    width:100%;\\r\\n    height:100%;\\r\\n}\\r\\n.NCCL_container .NCCL_description {\\r\\n    display: flex;\\r\\n    align-items:center;\\r\\n    padding: 0 16px;\\r\\n    border: 1px solid #ddd;\\r\\n    box-sizing: border-box;\\r\\n    margin-top:0px;\\r\\n    text-decoration: none;\\r\\n    width: 100%;\\r\\n    height: 40px;\\r\\n    vertical-align: middle;\\r\\n    text-overflow: ellipsis;\\r\\n    overflow: hidden;\\r\\n    white-space: nowrap;\\r\\n    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 4%);\\r\\n    font-family:se-nanumsquare,\\"나눔고딕\\",nanumgothic,Apple SD Gothic Neo,\\"맑은 고딕\\",Malgun Gothic,\\"돋움\\",dotum,sans-serif;\\r\\n    background-color:#fff;\\r\\n}\\r\\nbody #app .NCCL_container .NCCL_description svg,\\r\\nbody #app .NCCL_container .NCCL_description img.NCCL_video_logo {\\r\\n    flex-shrink: 0;\\r\\n    margin-right:10px;\\r\\n    user-select: none;\\r\\n}\\r\\n.NCCL_container .NCCL_description .NCCL_title {\\r\\n    flex-shrink: 0;\\r\\n    color:#333;\\r\\n    font-size:14px;\\r\\n    font-weight: 700;\\r\\n    margin-right: 10px;\\r\\n    text-overflow: ellipsis;\\r\\n    overflow: hidden;\\r\\n    max-width: calc(100% - 18px);\\r\\n    padding:3px 0;\\r\\n}\\r\\n.NCCL_container .NCCL_description .NCCL_link {\\r\\n    color:#999;\\r\\n    font-size:12px;\\r\\n    text-overflow: ellipsis;\\r\\n    overflow: hidden;\\r\\n    padding:5px 0 3px 0;\\r\\n}\\r\\n\\r\\n.NCCL_container[data-NCCL-type=\'NAVER_VID\']  {\\r\\n    margin-top:30px;\\r\\n}\\r\\n\\r\\n.NCCL_container .NCCL_thumbnail_container{\\r\\n    flex-grow: 1;\\r\\n    position: relative;\\r\\n    cursor: pointer;\\r\\n    overflow: hidden;\\r\\n}\\r\\n.NCCL_container .NCCL_thumbnail{\\r\\n    width:100%;\\r\\n    height:100%;\\r\\n    object-fit: cover;\\r\\n}\\r\\n.NCCL_container .NCCL_thumbnail_container.playbtn::before{\\r\\n    content: \'▶\';\\r\\n    font-size: 15vw;\\r\\n    width: 16vw;\\r\\n    height: 16vw;\\r\\n    position: absolute;\\r\\n    z-index: 10;\\r\\n    color: #fff;\\r\\n    text-align: center;\\r\\n    font-family: monospace;\\r\\n    border-radius: 0.5vw;\\r\\n    top: calc(50% - 16vw / 2);\\r\\n    left: calc(50% - 16vw / 2);\\r\\n    opacity: 1.0;\\r\\n    padding: 0 0 0 0.8vw;\\r\\n    user-select: none;\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    justify-content: center;\\r\\n    transform: scaleX(0.9);\\r\\n    -webkit-transition: background-color 150ms linear;\\r\\n    -ms-transition: background-color 150ms linear;\\r\\n    transition: background-color 150ms linear;\\r\\n    text-shadow: 3px 3px 15px rgb(0 0 0 / 30%);\\r\\n}\\r\\n.NCCL_container .NCCL_thumbnail_container.playbtn:hover::before{\\r\\n    background-color:rgba(255,255,255,0.2);\\r\\n    box-shadow: 0px 0px 1vw rgb(0 0 0 / 40%);\\r\\n    opacity:1.0;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n.NCCL_container .NCCL_loader_container {\\r\\n}\\r\\n.NCCL_container .NCCL_loader,\\r\\n.NCCL_container .NCCL_loader:after {\\r\\n  border-radius: 50% !important;\\r\\n  width: 15vw !important;\\r\\n  height: 15vw !important;\\r\\n}\\r\\n.NCCL_container .NCCL_loader {\\r\\n    box-sizing: border-box;\\r\\n    position: absolute !important;\\r\\n    z-index: 10000 !important;\\r\\n    top: calc(50% - 7.5vw) !important;\\r\\n    left: calc(50% - 7.5vw) !important;\\r\\n    font-size: 10px !important;\\r\\n    text-indent: -9999em !important;\\r\\n    border-top: 2em solid rgba(255, 255, 255, 0.3) !important;\\r\\n    border-right: 2em solid rgba(255, 255, 255, 0.3) !important;\\r\\n    border-bottom: 2em solid rgba(255, 255, 255, 0.3) !important;\\r\\n    border-left: 2em solid #ffffff !important;\\r\\n    animation: NCCLload8 1.1s infinite linear !important;\\r\\n}\\r\\n@keyframes NCCLload8 {\\r\\n  0% {\\r\\n    transform: rotate(0deg);\\r\\n  }\\r\\n  100% {\\r\\n    transform: rotate(360deg);\\r\\n  }\\r\\n}\\r\\n.NCCL_container .NCCL_loader_desc_container {\\r\\n    position: absolute;\\r\\n    top: calc(50% - 5vw);\\r\\n    left: calc(50% - 5vw);\\r\\n    color: #fff;\\r\\n    text-shadow: 0 0 1px rgb(0 0 0 / 70%), 0 0 3px rgb(0 0 0 / 50%), 0 0 5px rgb(0 0 0 / 60%);\\r\\n    z-index: 10000;\\r\\n    width: 10vw;\\r\\n    height: 10vw;\\r\\n    box-sizing: border-box;\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    text-align: center;\\r\\n}\\r\\n.NCCL_container .NCCL_loader_desc {\\r\\n    width: 100%;\\r\\n    font-size: 16px !important;\\r\\n    font-family: se-nanumsquare,\\"나눔고딕\\",nanumgothic,Apple SD Gothic Neo,\\"맑은 고딕\\",Malgun Gothic,\\"돋움\\",dotum,sans-serif !important;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n.NCCL_container .NCCL_error_container {\\r\\n    position: absolute;\\r\\n    top: calc(50% - 20px);\\r\\n    max-width: 90%;\\r\\n    left: 50%;\\r\\n    transform: translate(-50%, -50%);\\r\\n    margin: 0;\\r\\n    padding: 20px;\\r\\n    z-index: 999999;\\r\\n    font-size: 14px !important;\\r\\n    background: rgba(0,0,0,0.85);\\r\\n    color: #fff;\\r\\n    border: none;\\r\\n    box-shadow: 0 0 4px rgb(0 0 0 / 70%), 0 0 4px rgb(255 255 255 / 70%);\\r\\n    box-sizing: border-box;\\r\\n    font-family: se-nanumsquare,\\"나눔고딕\\",nanumgothic,Apple SD Gothic Neo,\\"맑은 고딕\\",Malgun Gothic,\\"돋움\\",dotum,sans-serif !important;\\r\\n    line-height: 130%;\\r\\n}\\r\\n.NCCL_container .NCCL_error{\\r\\n    overflow: hidden;\\r\\n    white-space: nowrap;\\r\\n    text-overflow: ellipsis;\\r\\n}\\r\\n.NCCL_container .NCCL_error_container a{\\r\\n    color:#00e686;\\r\\n}\\r\\n.NCCL_container .NCCL_error_container a:hover{\\r\\n    filter:brightness(1.1);\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n.NCCL_container .NCCL_iframe_container[data-NCCL-type=\\"TIKTOK\\"]{\\r\\n    box-sizing: border-box;\\r\\n    border-top: 1px solid #ddd;\\r\\n    border-left: 1px solid #ddd;\\r\\n    border-right: 1px solid #ddd;\\r\\n    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 4%);\\r\\n}", ""]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./src/css/cafe_main.css?')},"./src/css/navervid.css":(module,__unused_webpack_exports,__webpack_require__)=>{eval('// Imports\nvar ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/noSourceMaps.js */ "./node_modules/css-loader/dist/runtime/noSourceMaps.js");\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, ".u_rmc_controls_btn div.naver_player_reload_btn {\\r\\n    color: #fff;\\r\\n    float: left;\\r\\n    font-family: se-nanumsquare,\\"나눔고딕\\",nanumgothic,Apple SD Gothic Neo,\\"맑은 고딕\\",Malgun Gothic,\\"돋움\\",dotum,sans-serif;\\r\\n    height: 16px;\\r\\n    line-height: normal;\\r\\n    cursor:pointer;\\r\\n    margin-left:10px;\\r\\n    margin-top:1px;\\r\\n}\\r\\n\\r\\n.u_rmc_controls_btn div.naver_player_reload_btn:hover {\\r\\n    color: #00e686;\\r\\n}\\r\\n\\r\\n.u_rmcplayer .u_rmcplayer_error_layer div.naver_player_reload_error_btn {\\r\\n    border-radius: 15px;\\r\\n    border: 2px solid #fff;\\r\\n    background: #eee;\\r\\n    padding: 10px;\\r\\n    text-shadow: 0 0 2px rgb(0 0 0 / 10%);\\r\\n    color: #333;\\r\\n    font-size: 14px;\\r\\n    line-height: 23px;\\r\\n    letter-spacing: -0.5px;\\r\\n    max-width: 370px;\\r\\n    font-weight: 300;\\r\\n    margin: 30px auto 0 auto;\\r\\n    cursor: pointer;\\r\\n    font-family:se-nanumsquare,\\"나눔고딕\\",nanumgothic,Apple SD Gothic Neo,\\"맑은 고딕\\",Malgun Gothic,\\"돋움\\",dotum,sans-serif;\\r\\n}\\r\\n.u_rmcplayer .u_rmcplayer_error_layer div.naver_player_reload_error_btn:hover {\\r\\n    background: #fff;\\r\\n}\\r\\n.u_rmcplayer .u_rmcplayer_error_layer div.naver_player_reload_error_btn.reloaded {\\r\\n    opacity: 0.12;\\r\\n    cursor: default;\\r\\n}\\r\\n.u_rmcplayer .u_rmcplayer_error_layer div.naver_player_reload_error_btn.reloaded:hover {\\r\\n    background-color: #eee;\\r\\n}\\r\\n\\r\\n.u_rmc_share {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.u_rmcplayer .u_rmcplayer_video_info .u_rmcplayer_shadow{\\r\\n    min-height: 50px !important;\\r\\n    background-image: linear-gradient(to top,rgba(0,0,0,0),rgba(0,0,0,.5)) !important;\\r\\n}\\r\\n.u_rmcplayer .u_rmcplayer_control_bg{\\r\\n    height: 50px !important;\\r\\n    min-height: 50px !important;\\r\\n    background-image: linear-gradient(to bottom,rgba(0,0,0,0),rgba(0,0,0,.5)) !important;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n@keyframes glow {\\r\\n    to {\\r\\n        color: #0aeb7f;\\r\\n        text-shadow: 0 0 9px white, 0 0 10px #0aeb7f;\\r\\n    }\\r\\n}\\r\\n.BANJJAK{\\r\\n    animation: glow 0.3s 2 alternate;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n.u_rmcplayer .onlyspin {\\r\\n    transform: scale(2);\\r\\n}\\r\\n.u_rmcplayer .onlyspin::after {\\r\\n    animation: rmc_spinner 1s infinite ease;\\r\\n    content: \' \';\\r\\n    height: 8px;\\r\\n    width: 8px;\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n    right: 0;\\r\\n    bottom: 10px;\\r\\n    top: 0;\\r\\n    margin: auto;\\r\\n    padding: 0;\\r\\n    border-radius: 8px;\\r\\n    z-index: -1;\\r\\n    filter: invert(1);\\r\\n    line-height: normal;\\r\\n    font-size: 8px;\\r\\n    word-break: normal;\\r\\n    user-select: none;\\r\\n    pointer-events: none;\\r\\n}", ""]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./src/css/navervid.css?')},"./src/css/theme_dark.css":(module,__unused_webpack_exports,__webpack_require__)=>{eval('// Imports\nvar ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/noSourceMaps.js */ "./node_modules/css-loader/dist/runtime/noSourceMaps.js");\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, "\\r\\n:root{\\r\\n    --NCCL-font-color:#FFF;\\r\\n    --NCCL-background-color:#202020;\\r\\n    --NCCL-border-color:#383838;\\r\\n\\r\\n    \\r\\n    --NCCL-font-color-lighter:#AAA;\\r\\n    --NCCL-background-color-lighter:#303030;\\r\\n    --NCCL-border-color-lighter:#383838;\\r\\n    \\r\\n    --NCCL-font-color-lightest:#AAA;\\r\\n    --NCCL-background-color-lightest:#404040;\\r\\n    --NCCL-border-color-lightest:#484848;\\r\\n}\\r\\n\\r\\n*::-webkit-scrollbar { background: #505050 !important; }\\r\\n*::-webkit-scrollbar-thumb { background: #353535 !important; }\\r\\n\\r\\n#powerAd-div, #cafe_sdk {display:none}\\r\\n\\r\\nh1,h2,h3,h4,h5,h6\\r\\n,.skin-1080 .ia-info-data .gm-tcol-c .id .ellipsis\\r\\n,.skin-1080 #ia-info-data-emblem .txt\\r\\n,.skin-1080 .com .box-w .group-list .tcol-c\\r\\n,.skin-1080 .com .pocket_nav\\r\\n,.skin-1080 .com .pocket_nav .filter-50\\r\\n,.skin-1080 .com .box-w .group-mlist .tcol-c\\r\\n,.skin-1080 #cafe-secede\\r\\n,.skin-1080 .ia-info-data\\r\\n,.skin-1080 .ia-info-data2\\r\\n,.skin-1080 .ia-info-data3\\r\\n,.skin-1080 .ia-info-data3 li\\r\\n,.skin-1080 .SpecialMenu .menu_list .link_special\\r\\n,.skin-1080 .article-album .album-box .tit .ellipsis\\r\\n,.skin-1080 .board-notice.type_event .article, .skin-1080 .board-notice.type_up .article\\r\\n,.skin-1080 .article-board .pers_nick_area .p-nick a\\r\\n,.skin-1080 .article-board .td_date\\r\\n,.skin-1080 .article-board .td_view\\r\\n,.skin-1080 .article-album-sub .tit .ellipsis\\r\\n,.skin-1080 .RelatedArticles .member_area\\r\\n,.skin-1080 .ArticlePaginate .btn.number\\r\\n,.skin-1080 .PopularArticles .PopularCafeList .popular_list .post_box .title\\r\\n,.skin-1080 .RelatedArticles .date_area\\r\\n,.skin-1080 .article-board .td_likes\\r\\n,.skin-1080 .article-board .article\\r\\n,.skin-1080 .select_component .date_enter .tit\\r\\n,.skin-1080 .article-movie-sub .con\\r\\n,.skin-1080 .article-movie-sub .tit_area .tit strong\\r\\n,.skin-1080 #main-area .m-tcol-c\\r\\n,.skin-1080 #special-menu .special-menu .link_special\\r\\n,.skin-1080 #neighbor-cafe .comment\\r\\n,.skin-1080 #neighbor-cafe .bca\\r\\n,.skin-1080 #widget_company_info\\r\\n,.skin-1080 #widget_company_info .tit_company\\r\\n,.skin-1080 #widget_company_info .list_company .tit\\r\\n,.skin-1080 #widget_company_info .list_company li\\r\\n,.skin-1080 .article-album .album-box li .price\\r\\n,.skin-1080 .SaleInfo .CommercialDetail .list_detail .btn_text\\r\\n,.skin-1080 .ModalLayer\\r\\n,.skin-1080 .ModalLayer .layer_commerce_safety_guide .deal_thead\\r\\n,.skin-1080 .ModalLayer .layer_commerce_safety_guide .deal_td\\r\\n,.skin-1080 .ModalLayer .layer_commerce_safety_guide .deal_list\\r\\n,.skin-1080 .ModalLayer .layer_commerce_safety_guide .safety_deal_text\\r\\n,.skin-1080 .SaleInfo\\r\\n,.skin-1080 .SaleInfo .CommercialDetail .list_title\\r\\n,.skin-1080 .SaleInfo .ProductCategory\\r\\n,.skin-1080 .CafeViewer .se-viewer .se-section-oglink.se-section.se-l-large_image .se-oglink-info\\r\\n,.skin-1080 .CafeViewer .se-viewer .se-module-oglink .se-oglink-title\\r\\n,.skin-1080 .CafeViewer .se-viewer .se-video .se-media-meta\\r\\n,.skin-1080 .se-viewer .se-video .se-media-meta-info, .se-viewer .se-video .se-media-meta-info-title\\r\\n,.skin-1080 .CafeViewer .se-viewer .se-video .se-media-meta-info-wrap:not(.se-is-activated) .se-media-meta-info-description\\r\\n,.skin-1080 .ArticleTagList .item\\r\\n,.skin-1080 .ArticleTagList .item a\\r\\n,.skin-1080 .pop_container\\r\\n,.skin-1080 .CommentWriter .comment_inbox_text\\r\\n,.skin-1080 .gnb_my_lyr\\r\\n,.skin-1080 .gnb_my_li .gnb_my_content\\r\\n,.skin-1080 #gnb a,.skin-1080 #gnb a:visited,.skin-1080 #gnb a:active,.skin-1080 #gnb a:focus\\r\\n,.skin-1080 .gnb_my_li .gnb_my_content .gnb_pay_check a,.skin-1080  .gnb_my_li .gnb_my_content .gnb_pay_check span,.skin-1080  .gnb_my_li .gnb_my_content .gnb_pay_check strong\\r\\n,.skin-1080 .gnb_bdr\\r\\n,.skin-1080 .gnb_txt\\r\\n,.skin-1080 .cc_layer_mynews .cc_mynews_list .info_top .box\\r\\n,.skin-1080 .cc_layer_mynews .cc_mynews_list .info_title\\r\\n,.skin-1080 .cc_layer_mynews .cc_mynews_list .cc_mynews_info\\r\\n,.skin-1080 .cc_layer_mynews .cc_mynews_list .info_txt\\r\\n,.skin-1080 .cafe_list .sort li.on a\\r\\n,.skin-1080 .cafe_list .sort li a\\r\\n,.skin-1080 .cafe_list .lst_mycafe li .cafe_name h5 a\\r\\n,.skin-1080 .LowLevelAccessGuide .tit_level\\r\\n,.skin-1080 .LowLevelAccessGuide .txt_level\\r\\n,.skin-1080 .LowLevelAccessGuide .list_explanation .explanation\\r\\n,.skin-1080 .LowLevelAccessGuide .list_explanation li\\r\\n,.skin-1080 .LowLevelAccessGuide .list_level .desc\\r\\n{\\r\\n    color:var(--NCCL-font-color) !important;\\r\\n}\\r\\n\\r\\n.skin-1080 .ia-info-data .gm-tcol-c\\r\\n,.skin-1080 .ia-info-data3 em\\r\\n,.skin-1080 .ia-info-data2 .mem-cnt-info .link_invite\\r\\n,.skin-1080 #member-action-data\\r\\n,.skin-1080 .info-action-tab .gm-tcol-t\\r\\n,.skin-1080 #member-action-data .prfl_info\\r\\n,.skin-1080 #member-action-data .grade\\r\\n,.skin-1080 #member-action-data .grade .txt\\r\\n,.skin-1080 #linked-member #lm-list .tcol-c\\r\\n,.skin-1080 .m-tcol-c\\r\\n,.skin-1080 #naver-gnb #gnb-menu .naver-h,.skin-1080 #naver-gnb #gnb-menu .m-cafe,.skin-1080 #naver-gnb #gnb-menu .join-cafe,.skin-1080 #naver-gnb #gnb-menu .chatting-cafe,.skin-1080 #naver-gnb #gnb-menu #gnb,.skin-1080 #naver-gnb #gnb-menu .gnb_name\\r\\n,.skin-1080 .Gnb .gnb_menu .gnb_link\\r\\n,.Gnb .GnbNaver #gnb a.gnb_my .gnb_name\\r\\n,.WritingHeader .tool_area .temp_save_area .btn_temp_save\\r\\n,.WritingHeader .tool_area .temp_save_area .btn_temp_count\\r\\n,.skin-1080 .board-notice.type_event .cmt, .skin-1080 .board-notice.type_up .cmt\\r\\n,.skin-1080 .article-board .board-list .head\\r\\n,.skin-1080 .WriterInfo .profile_info .nick_level\\r\\n,.skin-1080 .CommentBox .comment_option .comment_tab .comment_tab_item .comment_tab_button[aria-selected=true]\\r\\n,.skin-1080 .RelatedArticlesTabContainer__tab button[aria-pressed=true]\\r\\n,.skin-1080 .RelatedArticlesTabContainer__tab button\\r\\n,.skin-1080 .footer\\r\\n,.skin-1080 .footer .cafe_name\\r\\n,#theaterModeBtn\\r\\n,#darkModeBtn\\r\\n,#button_town_cafe\\r\\n,.skin-1080 .prev-next a\\r\\n,.skin-1080 .select_component .select_list li a\\r\\n,.skin-1080 .select_component2 .select_list li a\\r\\n,.skin-1080 .article-movie-sub .txt\\r\\n,.skin-1080 .article-movie-sub .user_info .m-tcol-c\\r\\n,.skin-1080 .check_box label\\r\\n,.skin-1080 .input_component input::placeholder\\r\\n,.skin-1080 .alarm_switch .alarm_txt\\r\\n,.skin-1080 .SaleInfo .BottomNotice\\r\\n,.skin-1080 .SaleInfo .BottomNotice .text_title\\r\\n,.skin-1080 .SaleInfo .BottomNotice .text_info\\r\\n,.skin-1080 .CafeViewer .se-viewer .se-module-oglink .se-oglink-summary\\r\\n,.skin-1080 .CafeViewer .se-viewer .se-video .se-media-meta-info-tag\\r\\n,.skin-1080 .list-style .total\\r\\n,.skin-1080 .cc_layer_mynews .cc_mynews_list .info_bottom\\r\\n,.skin-1080 .cafe_list .lst_mycafe li .cafe_name .second\\r\\n,.skin-1080 .cafe_list .lst_mycafe li .cafe_name .second\\r\\n,.skin-1080 .list_sub_tab .link\\r\\n,.skin-1080 .LowLevelAccessGuide .txt_level .level\\r\\n{\\r\\n    color:var(--NCCL-font-color-lighter) !important;\\r\\n}\\r\\n\\r\\n/* space */\\r\\n.Gnb .gnb_menu .gnb_item:after\\r\\n,#naver-gnb #gnb-menu .tcol-c\\r\\n,.footer .cafe_link:before\\r\\n,.RelatedArticlesTabContainer__tab button[aria-pressed=true]:after\\r\\n,.skin-1080 .prev-next .pgR:before\\r\\n{\\r\\n    background-color:var(--NCCL-border-color) !important;\\r\\n}\\r\\n\\r\\n.skin-1080 .CommentBox\\r\\n,.skin-1080 .ArticleContentBox\\r\\n,.skin-1080 .ArticleContentBox .article_header\\r\\n,.skin-1080 .CommentBox .comment_list .CommentItem\\r\\n,.skin-1080 .RelatedArticles .list_item\\r\\n,.skin-1080 .RelatedArticles .list_item:first-child\\r\\n,.skin-1080 .RelatedArticlesTabContainer__tab button[aria-pressed=true]\\r\\n,.skin-1080 .RelatedArticlesTabContainer__tab .tab_menu\\r\\n,.skin-1080 .PopularArticles .PopularCafeList .popular_list .list_item\\r\\n,.skin-1080 .select_component2 .select_list\\r\\n,.skin-1080 .select_component .select_list\\r\\n,.skin-1080 .article-movie-sub li\\r\\n,.skin-1080 .area_info_box\\r\\n,.skin-1080#main-area .list-tit\\r\\n,.skin-1080 .list-style .check_box ~ .sort_form\\r\\n,.skin-1080 .list-style .sort_form\\r\\n,.skin-1080 .com .box-w .group-mlist\\r\\n,.skin-1080 .info-action-tab .tit-bookmark\\r\\n,.skin-1080 .list_sub_tab\\r\\n,.skin-1080 .SaleInfo .CommercialDetail .section\\r\\n,.skin-1080 .PurchaseButton.PurchaseButton--bottom\\r\\n,.skin-1080 .ModalLayer .layer_commerce_safety_guide .deal_table\\r\\n,.skin-1080 .gnb_my_lyr\\r\\n,.skin-1080 .cafe_list .lst_mycafe\\r\\n,.skin-1080 .cafe_list_control\\r\\n,.skin-1080 .article-board tbody td\\r\\n,.skin-1080 .search_result .learn_more.is_selected + .search_input\\r\\n{\\r\\n    border-color:var(--NCCL-border-color);\\r\\n}\\r\\n\\r\\n\\r\\n.skin-1080 .list_sub_tab .on .link\\r\\n{\\r\\n    border-color:var(--NCCL-border-color-lightest);\\r\\n}\\r\\n\\r\\n/* normal */\\r\\nhtml\\r\\n, iframe\\r\\n,.skin-1080\\r\\n,.skin-1080 .layout_content\\r\\n,.skin-1080 #linked-member #lm-list\\r\\n,.skin-1080 .gate-list.border-sub\\r\\n,.skin-1080 .article-board thead th\\r\\n,.skin-1080 .article-board tbody td\\r\\n,.skin-1080 .search_result .search_input\\r\\n,.skin-1080 .prev-next\\r\\n,.skin-1080 .prev-next a\\r\\n,.skin-1080 .list-search\\r\\n,.NCCL_container .NCCL_description\\r\\n,.NCCL_container .NCCL_description .NCCL_title\\r\\n{\\r\\n    color:var(--NCCL-font-color);\\r\\n    background-color:var(--NCCL-background-color);\\r\\n    border-color:var(--NCCL-border-color);\\r\\n}\\r\\n\\r\\n.skin-1080 .search_result .search_input{\\r\\n    border:1px solid var(--NCCL-border-color);\\r\\n}\\r\\n\\r\\n\\r\\n/* lighter */\\r\\n.skin-1080 #cafe-info-action\\r\\n,.skin-1080 .info-action-tab .tit-bookmark .btn-bookmark-off\\r\\n,.skin-1080 #cafe-menu\\r\\n,.skin-1080 #cafe-menu div.cafe-menu-space\\r\\n,.skin-1080 .box-g-m\\r\\n,.skin-1080 #cafe-menu .cafe-menu-tit\\r\\n,.skin-1080 #cafe-menu .cafe-menu-tit .gm-tcol-t\\r\\n,.skin-1080 #cafe-menu .cafe-menu-list\\r\\n,.skin-1080 #cafe-menu .cafe-menu-list li\\r\\n,.skin-1080 #cafe-menu .cafe-menu-list li a\\r\\n,.skin-1080 #cafe-menu .cafe-menu-list h1\\r\\n,.skin-1080 #cafe-menu .cafe-menu-list h2\\r\\n,.skin-1080 #cafe-menu .cafe-menu-list h3\\r\\n,.skin-1080 #cafe-menu .cafe-menu-list h4\\r\\n,.skin-1080 #cafe-menu .cafe-menu-list h5\\r\\n,.skin-1080 #cafe-menu .cafe-menu-list h6\\r\\n,.skin-1080 .com .box-w\\r\\n,.skin-1080 .box_notice\\r\\n,.skin-1080 #special-menu\\r\\n,.skin-1080 .SpecialMenu\\r\\n,.skin-1080 .SpecialMenu .menu_list\\r\\n,.skin-1080 .cafe-search .inp\\r\\n,.skin-1080 .area_info_box\\r\\n,.skin-1080 #ia-info-data-emblem\\r\\n,.skin-1080 .ia-info-data2\\r\\n,.skin-1080 .info-action-tab\\r\\n,.skin-1080 .CommentWriter\\r\\n,.skin-1080 .ArticlePaginate .btn.number[aria-pressed=true]\\r\\n,.skin-1080 .RelatedArticles .list_item.selected\\r\\n,.skin-1080 .select_component\\r\\n,.skin-1080 .select_component .select_box\\r\\n,.skin-1080 .select_component .select_list li\\r\\n,.skin-1080 .select_component2\\r\\n,.skin-1080 .select_component2 .select_box\\r\\n,.skin-1080 .select_component2 .select_list li\\r\\n,.skin-1080 .input_component\\r\\n,.skin-1080 .input_component input\\r\\n,.skin-1080 .select_component .date_enter\\r\\n,.skin-1080 .select_component .date_enter input\\r\\n,.skin-1080 .btn_type1.post_write\\r\\n,.skin-1080 #widget-count\\r\\n,.alarm_switch .layer_alarm\\r\\n,.skin-1080 #widget-currency\\r\\n,.skin-1080 #widget-currency .bg-body tr:nth-child(even) th, .skin-1080 #widget-currency .bg-body tr:nth-child(even) td\\r\\n,.skin-1080 #widget-currency .bg-head\\r\\n,.skin-1080 .com .box-ww.white_box\\r\\n,.skin-1080 .com .box-ww\\r\\n,.skin-1080 .PurchaseButton .purchase_chat .btn_purchase\\r\\n,.skin-1080 .PurchaseButton .purchase_chat .btn_commerce_status.type_chat\\r\\n,.skin-1080 .PurchaseButton .purchase_chat .btn_commerce_status.type_pay\\r\\n,.skin-1080 .FormNoticeContent\\r\\n,.skin-1080 .SaleInfo .CommercialDetail .list_detail .btn_commerce\\r\\n,.skin-1080 .ModalLayer .layer_wrap\\r\\n,.skin-1080 .ModalLayer .layer_commerce_safety_guide .deal_thead\\r\\n,.skin-1080 .ModalLayer .layer_commerce_safety_guide .deal_td\\r\\n,.skin-1080 .ModalLayer .layer_commerce_safety_guide .deal_list\\r\\n,.skin-1080 .ModalLayer .layer_commerce_safety_guide .safety_deal_text\\r\\n,.skin-1080 .CafeViewer .se-viewer .se-section-oglink.se-section.se-l-large_image .se-oglink-info\\r\\n,.skin-1080 .CafeViewer .se-viewer .se-video .se-media-meta\\r\\n,.skin-1080 .se-viewer .se-module-oglink\\r\\n,.skin-1080 .ArticleTagList .item\\r\\n,.skin-1080 .CommentBox .comment_list .CommentItem--mine\\r\\n,.skin-1080 .CommentBox .comment_list .CommentItem.CommentItem--mine::before\\r\\n,.skin-1080 .gnb_my_li .gnb_my_content\\r\\n,.skin-1080 .gnb_my_lyr_iframe\\r\\n,.skin-1080 .select_component .select_list\\r\\n,.skin-1080 .cc_layer_mynews .cc_mynews_header\\r\\n,.skin-1080 .cc_layer_mynews .cc_mynews_list li\\r\\n,.skin-1080 .cc_layer_mynews\\r\\n,.skin-1080 #naver-gnb #join-cafe-iframe\\r\\n,.skin-1080 .cafe_list .lst_mycafe li\\r\\n,.skin-1080 .cafe_list .lst_mycafe li\\r\\n,.skin-1080 .cafe_list .sort_area\\r\\n,.skin-1080 .cafe_list_control\\r\\n,.skin-1080 .LowLevelAccessGuide .guide_box\\r\\n,.skin-1080 .select_component2 .select_list\\r\\n{\\r\\n    color:var(--NCCL-font-color);\\r\\n    background-color:var(--NCCL-background-color-lighter);\\r\\n    border-color:var(--NCCL-border-color);\\r\\n}\\r\\n\\r\\n.skin-1080 #nomo_settings\\r\\n,.skin-1080 #nomo_settings li\\r\\n,.skin-1080 #nomo_settings #GM_setting li[GM_setting_key=\\"set_volume_when_stream_starts\\"]\\r\\n,.skin-1080 #GM_setting_footer\\r\\n,.skin-1080 #neighbor-cafe .comm-btn-top a\\r\\n,.skin-1080 .ModalLayer .layer_seller_contact .contact_box\\r\\n,.skin-1080 #gnb .gnb_my_li .gnb_my_community a,.skin-1080  .gnb_notice_li .gnb_notice_all,.skin-1080  a.gnb_service_all, .gnb_svc_more .svc_btns\\r\\n,.skin-1080 #naver-gnb #gnb-menu .gnb_txt\\r\\n,.skin-1080 .LowLevelAccessGuide .cafe_level_info\\r\\n{\\r\\n    color:var(--NCCL-font-color);\\r\\n    background-color:var(--NCCL-background-color-lightest) !important;\\r\\n    border-color:var(--NCCL-border-color) !important;\\r\\n}\\r\\n.skin-1080 #nomo_settings #GM_setting input\\r\\n,.skin-1080 #nomo_settings #GM_setting .btn-default\\r\\n,.skin-1080 #nomo_settings #GM_setting .btn-primary\\r\\n,.skin-1080 #nomo_settings #GM_setting .form-control\\r\\n{\\r\\n    color:var(--NCCL-font-color);\\r\\n    background-color:var(--NCCL-background-color-lighter);\\r\\n    border-color:var(--NCCL-border-color);\\r\\n}\\r\\n.skin-1080 #nomo_settings a\\r\\n,.skin-1080 #nomo_settings a:hover\\r\\n,.skin-1080 #nomo_settings a:focus{\\r\\n    color:var(--NCCL-font-color-lighter) !important;\\r\\n}\\r\\n#GM_setting .GM_setting_under_dev .GM_setting_title{\\r\\n    color:#c9adff;\\r\\n}\\r\\n.skin-1080 #GM_setting .GM_setting_item_disable\\r\\n,.skin-1080 #GM_setting .GM_setting_item_disable .GM_setting_title\\r\\n,.skin-1080 #GM_setting .GM_setting_item_disable .GM_setting_desc\\r\\n{\\r\\n    color:#747474 !important;\\r\\n}\\r\\n\\r\\n/* lightest */\\r\\n.skin-1080 .cafe-write-btn a\\r\\n,.skin-1080 .ia-info-btn .link_chat\\r\\n,.skin-1080 .box_notice .link_more\\r\\n,.WritingHeader .tool_area .temp_save_area .btn_temp_save\\r\\n,.WritingHeader .tool_area .temp_save_area .btn_temp_count\\r\\n,.WriterInfo .profile_info .link_talk\\r\\n,.BaseButton.size_default:first-child\\r\\n,.BaseButton.size_default\\r\\n,.skin-1080 .board-notice.type_event .board-tag-txt, .skin-1080 .board-notice.type_up .board-tag-txt\\r\\n,.skin-1080 .prev-next a.on\\r\\n,.skin-1080 .select_component2 .select_list li a:hover\\r\\n,.skin-1080 .select_component .select_list li a:hover\\r\\n,.skin-1080 .select_component .date_enter .btn_set\\r\\n,.skin-1080 #widget_company_info .link_company\\r\\n,.skin-1080 .cafe-search .btn\\r\\n,.skin-1080 #cafe-menu #favoriteMenuGroup\\r\\n,.skin-1080 #cafe-menu #favoriteMenuGroup li\\r\\n,.skin-1080 #cafe-menu #favoriteMenuGroup li a\\r\\n,.skin-1080 #cafe-menu .cafe-menu-tit.frst\\r\\n,.skin-1080 #cafe-menu .cafe-menu-tit.frst h3\\r\\n,.skin-1080 #cafe-menu .cafe-menu-tit.frst a\\r\\n,.skin-1080 .input_search_area .btn-search-green\\r\\n{\\r\\n    color:var(--NCCL-font-color);\\r\\n    background-color:var(--NCCL-background-color-lightest);\\r\\n    border-color:var(--NCCL-border-color-lightest);\\r\\n}\\r\\n\\r\\n/* 공지 */\\r\\n.skin-1080 .board-notice.type_menu .board-tag-txt\\r\\n,.skin-1080 .board-notice.type_required .board-tag-txt\\r\\n,.skin-1080 .board-notice.type_main .board-tag-txt\\r\\n{\\r\\n    background: #303030;\\r\\n    border-color: #404040;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n/* 글쓰기 */\\r\\n.skin-1080 .setting_area, .skin-1080 .setting_area *{\\r\\n    color:var(--NCCL-font-color-lighter);\\r\\n    background-color:var(--NCCL-background-color-lighter);\\r\\n    border-color:var(--NCCL-border-color-lighter);\\r\\n}\\r\\n\\r\\n/*emoji*/\\r\\n.CommentBox .comment_list .CommentItemSticker .comment_sticker_link .image\\r\\n,.se-viewer .se-sticker-image{\\r\\n    background-color:var(--NCCL-background-color-lightest);\\r\\n}\\r\\n\\r\\n.ArticleTool .button_comment .svg-icon\\r\\n,.prev-next .pgR:after\\r\\n,.footer .naver_cafe\\r\\n,.left_area .BaseButton.size_default:not(.BaseButton--skinGreen) svg.svg-icon\\r\\n,.right_area .BaseButton.size_default:not(.BaseButton--skinGreen) svg.svg-icon\\r\\n,.se-viewer .se-video .se-media-meta-toggle-button\\r\\n{\\r\\n    filter:invert(1)\\r\\n}\\r\\n\\r\\n.toggle_switch .switch_slider\\r\\n{\\r\\n    filter:invert(1) brightness(2.5) contrast(0.78);\\r\\n}\\r\\n\\r\\n#linked-member .member-reload\\r\\n,#linked-member .member-up\\r\\n{\\r\\n    filter:invert(1) brightness(1.2) contrast(0.7);\\r\\n}\\r\\n\\r\\n#naver-gnb #gnb-menu .gnb_service_li .gnb_icon\\r\\n,.CommentBox .comment_option .comment_tab .comment_refresh_button\\r\\n,.SubscribeButton .ToggleSwitch.ToggleSwitch--skinGray .switch_slider\\r\\n{\\r\\n    filter:invert(1) contrast(0.7) brightness(0.5);\\r\\n}\\r\\n\\r\\n.check_box input + label:before\\r\\n{\\r\\n    filter:invert(1) contrast(0.3) brightness(0.8);\\r\\n}\\r\\n\\r\\n.skin-1080 .article-board [class*=\\"list-i\\"]\\r\\n,.skin-1080 #cafe-menu .cafe-menu-list .ico_new\\r\\n,.skin-1080 #cafe-menu .cafe-menu-tit .ico_new\\r\\n,.ico_new\\r\\n,.skin-1080 .board-notice.type_required .cmt, .skin-1080 .board-notice.type_main .cmt\\r\\n,.skin-1080 .article-board .board-list .cmt\\r\\n,.skin-1080 #naver-gnb #gnb-menu .chatting-cafe .count\\r\\n{\\r\\n    filter:grayscale(0.4);\\r\\n}\\r\\n\\r\\n.BaseButton--skinGreen\\r\\n,.skin-1080 #cafe-menu .cafe-menu-tit .ico-bookmark\\r\\n{\\r\\n    filter:grayscale(1.0);\\r\\n}\\r\\n\\r\\n.toggle_switch .switch_input:checked + .switch_slider{\\r\\n    background-color:#AAA;\\r\\n}\\r\\n.skin-1080 #cafe-menu .cafe-menu-list{\\r\\n    margin-top:0px;\\r\\n    padding-top:6px;\\r\\n}\\r\\n\\r\\n.naver-splugin-c svg,\\r\\n.button_sticker,\\r\\n.button_file,\\r\\n.btn_type1.post_write:before{\\r\\n    filter:brightness(10);\\r\\n}\\r\\n\\r\\n/*\\r\\n.se-media-meta-info-description::before, .se-media-meta-info-title::before{\\r\\n    background-color:var(--NCCL-background-color) !important;\\r\\n}\\r\\n*/\\r\\n", ""]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./src/css/theme_dark.css?')},"./node_modules/css-loader/dist/runtime/api.js":module=>{"use strict";eval('\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = "";\n      var needLayer = typeof item[5] !== "undefined";\n\n      if (item[4]) {\n        content += "@supports (".concat(item[4], ") {");\n      }\n\n      if (item[2]) {\n        content += "@media ".concat(item[2], " {");\n      }\n\n      if (needLayer) {\n        content += "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {");\n      }\n\n      content += cssWithMappingToString(item);\n\n      if (needLayer) {\n        content += "}";\n      }\n\n      if (item[2]) {\n        content += "}";\n      }\n\n      if (item[4]) {\n        content += "}";\n      }\n\n      return content;\n    }).join("");\n  }; // import a list of modules into the list\n\n\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === "string") {\n      modules = [[null, modules, undefined]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n\n      if (typeof layer !== "undefined") {\n        if (typeof item[5] === "undefined") {\n          item[5] = layer;\n        } else {\n          item[1] = "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {").concat(item[1], "}");\n          item[5] = layer;\n        }\n      }\n\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = "@media ".concat(item[2], " {").concat(item[1], "}");\n          item[2] = media;\n        }\n      }\n\n      if (supports) {\n        if (!item[4]) {\n          item[4] = "".concat(supports);\n        } else {\n          item[1] = "@supports (".concat(item[4], ") {").concat(item[1], "}");\n          item[4] = supports;\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./node_modules/css-loader/dist/runtime/api.js?')},"./node_modules/css-loader/dist/runtime/noSourceMaps.js":module=>{"use strict";eval("\n\nmodule.exports = function (i) {\n  return i[1];\n};\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./node_modules/css-loader/dist/runtime/noSourceMaps.js?")},"./src/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./js/lib */ "./src/js/lib.js");\n/* harmony import */ var _js_global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./js/global */ "./src/js/global.js");\n/* harmony import */ var _js_settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./js/settings */ "./src/js/settings.js");\n/* harmony import */ var _js_page_page_setting__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./js/page/page_setting */ "./src/js/page/page_setting.js");\n/* harmony import */ var _js_page_page_cafe_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./js/page/page_cafe_common */ "./src/js/page/page_cafe_common.js");\n/* harmony import */ var _js_page_page_cafe_top__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./js/page/page_cafe_top */ "./src/js/page/page_cafe_top.js");\n/* harmony import */ var _js_page_page_cafe_main__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./js/page/page_cafe_main */ "./src/js/page/page_cafe_main.js");\n/* harmony import */ var _js_page_page_twitch_embed__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./js/page/page_twitch_embed */ "./src/js/page/page_twitch_embed.js");\n/* harmony import */ var _js_page_page_naver_embed__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./js/page/page_naver_embed */ "./src/js/page/page_naver_embed.js");\n/* harmony import */ var _js_page_page_youtube_embed__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./js/page/page_youtube_embed */ "./src/js/page/page_youtube_embed.js");\n/* harmony import */ var _js_page_page_aftv_embed__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./js/page/page_aftv_embed */ "./src/js/page/page_aftv_embed.js");\n/* harmony import */ var _js_page_page_streamable_embed__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./js/page/page_streamable_embed */ "./src/js/page/page_streamable_embed.js");\n/* harmony import */ var _js_theater__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./js/theater */ "./src/js/theater.js");\n/* harmony import */ var js_page_page_common_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! js/page/page_common.js */ "./src/js/page/page_common.js");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n(async () => {\r\n    \'use strict\';\r\n\r\n    (0,_js_global__WEBPACK_IMPORTED_MODULE_1__["default"])();\r\n    //console.log("GLOBAL", GLOBAL);\r\n\r\n    if(GLOBAL.isTopWindow && GLOBAL.isTwitch) return;\r\n    if(GLOBAL.isTopWindow && GLOBAL.isNaverVideoEmbed) return;\r\n    if(!GLOBAL.isTopWindow && GLOBAL.isTwitch && !GLOBAL.isParentNaverCafe) return;\r\n\r\n    console.log("[NCCL]   Naver-Cafe-Clip-Loader", document.location.href);\r\n    \r\n    await (0,_js_lib__WEBPACK_IMPORTED_MODULE_0__.DEBUG_INIT)();\r\n    await (0,_js_settings__WEBPACK_IMPORTED_MODULE_2__["default"])();\r\n    \r\n    // setting window\r\n    if(GLOBAL.isSettingWindow){\r\n        (0,_js_page_page_setting__WEBPACK_IMPORTED_MODULE_3__["default"])();\r\n        return;\r\n    }\r\n\r\n    // cafe 공통\r\n    if(GLOBAL.isNaverCafe){\r\n        (0,_js_page_page_cafe_common__WEBPACK_IMPORTED_MODULE_4__.PAGE_CAFE_COMMON_INIT)();\r\n    }\r\n\r\n    // cafe top\r\n    if(GLOBAL.isNaverCafeTop){\r\n        (0,_js_page_page_cafe_top__WEBPACK_IMPORTED_MODULE_5__["default"])();\r\n        return;\r\n    }\r\n\r\n    // cafe main\r\n    else if(GLOBAL.isNaverCafeMain){\r\n        (0,_js_page_page_cafe_main__WEBPACK_IMPORTED_MODULE_6__.PAGE_CAFE_MAIN)();\r\n        return;\r\n    }\r\n\r\n    // cafe mobile\r\n    else if(GLOBAL.isNaverCafeMobile){\r\n        $(document).arrive("div#postContent .content", { existing: true }, function (elem) {\r\n            (0,_js_theater__WEBPACK_IMPORTED_MODULE_12__.applyTheaterMode)();\r\n        });\r\n        (0,_js_page_page_cafe_common__WEBPACK_IMPORTED_MODULE_4__.PAGE_CAFE_COMMON_INIT)();\r\n        (0,_js_page_page_cafe_main__WEBPACK_IMPORTED_MODULE_6__.PAGE_CAFE_MAIN)();\r\n        return;\r\n    }\r\n\r\n    // Embed Twitch Clip or VOD\r\n    else if(GLOBAL.isTwitch){\r\n        if(GM_SETTINGS.useTwitch){\r\n            (0,_js_page_page_twitch_embed__WEBPACK_IMPORTED_MODULE_7__["default"])();\r\n        }\r\n        return;\r\n    }\r\n\r\n    // Embed Naver Video\r\n    else if(GLOBAL.isNaverVideoEmbed){\r\n        (0,_js_page_page_naver_embed__WEBPACK_IMPORTED_MODULE_8__["default"])();\r\n        return;\r\n    }\r\n\r\n    // Embed Youtube\r\n    else if(GLOBAL.isYoutubeEmbed){\r\n        if(GM_SETTINGS.useYoutube){\r\n            (0,_js_page_page_youtube_embed__WEBPACK_IMPORTED_MODULE_9__["default"])();\r\n        }\r\n        return;\r\n    }\r\n\r\n    // Embed Streamable\r\n    else if (GLOBAL.isStreamableEmbed){\r\n        if(GM_SETTINGS.useStreamable){\r\n            (0,_js_page_page_streamable_embed__WEBPACK_IMPORTED_MODULE_11__["default"])();\r\n        }\r\n    }\r\n\r\n    // Embed AFTV\r\n    else if (GLOBAL.isAftvEmbed){\r\n        if(GM_SETTINGS.useAftv){\r\n            (0,_js_page_page_aftv_embed__WEBPACK_IMPORTED_MODULE_10__["default"])();\r\n        }\r\n    }\r\n\r\n    else if (GLOBAL.isClippyEmbed){\r\n        let pageBase = new js_page_page_common_js__WEBPACK_IMPORTED_MODULE_13__.PageBase({\r\n            id:document.location.href.match(/^https?:\\/\\/clippy\\.kr\\/clip\\/([a-zA-Z0-9-_]+)/)[1],\r\n            url:document.location.href\r\n        });\r\n    }\r\n\r\n})();\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./src/index.js?')},"./src/js/dark.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "DARKMODE_INIT": () => (/* binding */ DARKMODE_INIT)\n/* harmony export */ });\n/* harmony import */ var js_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js/lib */ "./src/js/lib.js");\n/* harmony import */ var css_theme_dark_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! css/theme_dark.css */ "./src/css/theme_dark.css");\n/* harmony import */ var css_theme_dark_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(css_theme_dark_css__WEBPACK_IMPORTED_MODULE_1__);\n\r\n\r\n\r\nvar isDarkMode = false;\r\nvar $darkModeBtn = $(`<span title="[NCCL] 클릭 시 다크 모드를 ${isDarkMode ? "비활성화" : "활성화"} 합니다." id="darkModeBtn">어두운 모드 ${isDarkMode ? "켜짐" : "꺼짐"}<img src="https://cafe.pstatic.net/cafe4/ico-blank.gif" width="1" height="10" alt="" class="tcol-c"></span>`)\r\n    .on("click", async () => {\r\n        (0,js_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("어두운 모드", isDarkMode , "->", !isDarkMode);\r\n        isDarkMode = !isDarkMode;\r\n        if(isDarkMode){\r\n            $darkModeBtn.html(`어두운 모드 켜짐<img src="https://cafe.pstatic.net/cafe4/ico-blank.gif" width="1" height="10" alt="" class="tcol-c">`);\r\n        }\r\n        else{\r\n            $darkModeBtn.html(`어두운 모드 꺼짐<img src="https://cafe.pstatic.net/cafe4/ico-blank.gif" width="1" height="10" alt="" class="tcol-c">`);\r\n        }\r\n        await GM.setValue("darkMode", isDarkMode);\r\n        if (typeof GM.addValueChangeListener === "function"){\r\n            applyDarkMode();\r\n        }\r\n        else{\r\n            location.reload();\r\n        }\r\n    });\r\nasync function DARKMODE_INIT(){\r\n    isDarkMode = await GM.getValue("darkMode", false);\r\n    if (typeof GM.addValueChangeListener === "function"){\r\n        GM.addValueChangeListener("darkMode", async function (val_name, old_value, new_value, remote) {\r\n            if (remote) {\r\n                (0,js_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("다른 창에서 설정 변경됨. val_name, old_value, new_value, location:", val_name, old_value, new_value, document.location.href);\r\n                applyDarkMode();\r\n            }\r\n        });\r\n    }\r\n    \r\n    $(document).ready(function(){\r\n        if(GM_SETTINGS.showDarkModeBtn){\r\n            var $gnbmenu = $("#gnb-menu");\r\n            if($gnbmenu.length !== 0){\r\n                $gnbmenu.prepend($darkModeBtn);\r\n            }\r\n        }\r\n    });\r\n    applyDarkMode();\r\n}\r\n\r\nvar themeCSSElem = undefined;\r\nasync function applyDarkMode(){\r\n    try{\r\n        isDarkMode = await GM.getValue("darkMode", false);\r\n        (0,js_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("어두운 모드", isDarkMode);\r\n        $darkModeBtn.attr("title", `[NCCL] 클릭 시 다크 모드를 ${isDarkMode ? "비활성화" : "활성화"} 합니다.`);\r\n        if(themeCSSElem !== undefined) $(themeCSSElem).remove();\r\n        if(isDarkMode){\r\n            themeCSSElem = GM_addStyle(css_theme_dark_css__WEBPACK_IMPORTED_MODULE_1___default().toString().replace(/(\\.skin-1080)/g, "html[data-theme=\'dark\'] body"));\r\n        \r\n            $("html").attr("data-theme","dark");\r\n\r\n        }\r\n        else\r\n        {\r\n            $("html").attr("data-theme","default");\r\n        }\r\n    }\r\n    catch(e){\r\n        (0,js_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("Error from applyTheme", e);\r\n    }\r\n}\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./src/js/dark.js?')},"./src/js/global.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ GLOBAL_INIT)\n/* harmony export */ });\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib */ "./src/js/lib.js");\n\r\n\r\nwindow.GLOBAL = {};\r\nfunction GLOBAL_INIT(){\r\n    GLOBAL.TWITCH_CLIP = 0;\r\n    GLOBAL.TWITCH_VOD = 1;\r\n    GLOBAL.YOUTUBE_CLIP = 2;\r\n    GLOBAL.YOUTUBE_VOD = 3;\r\n    GLOBAL.NAVER_VID = 7;\r\n    GLOBAL.NAVER_TV = 8;\r\n    GLOBAL.STREAMABLE = 10;\r\n    GLOBAL.AFTV_VOD = 11;\r\n    GLOBAL.CLIPPY = 12;\r\n    GLOBAL.KAKAO_VID = 13;\r\n    GLOBAL.DAILYMOTION = 14;\r\n    GLOBAL.GFYCAT = 15;\r\n    GLOBAL.VLIVE_OEMBED = 16;\r\n    GLOBAL.VLIVE__1 = 17;\r\n    GLOBAL.VLIVE__2 = 18;\r\n    GLOBAL.TIKTOK = 19;\r\n    GLOBAL.scriptName = (GM.info.script.name || GM_info.script.name);\r\n    GLOBAL.version = (GM.info.script.version || GM_info.script.version);\r\n    GLOBAL.isTopWindow = window.self === window.top;\r\n    GLOBAL.initLocationUrl = document.location.href;\r\n    GLOBAL.isNaverCafe = /(^https:\\/\\/cafe\\.naver\\.com\\/)/.test(GLOBAL.initLocationUrl);\r\n    GLOBAL.isNaverCafeMain = (GLOBAL.isNaverCafe && !GLOBAL.isTopWindow);\r\n    GLOBAL.isNaverCafeTop = (GLOBAL.isNaverCafe && GLOBAL.isTopWindow);\r\n    GLOBAL.isNaverCafeMobile = /(^https:\\/\\/m\\.cafe\\.naver\\.com\\/)/.test(GLOBAL.initLocationUrl);\r\n    GLOBAL.isTwitchClip = /(^https:\\/\\/clips\\.twitch\\.tv\\/)/.test(GLOBAL.initLocationUrl);\r\n    GLOBAL.isTwitchVod = /(^https:\\/\\/player\\.twitch\\.tv\\/)/.test(GLOBAL.initLocationUrl);\r\n    GLOBAL.isSettingWindow = /(^https:\\/\\/cafe\\.naver\\.com\\/NaverCafeClipLoaderSettings)/.test(GLOBAL.initLocationUrl);\r\n    GLOBAL.isTwitch = (GLOBAL.isTwitchClip || GLOBAL.isTwitchVod);\r\n    GLOBAL.isNaverVideoEmbed = /(^https:\\/\\/serviceapi\\.nmv\\.naver\\.com(\\/ugc)?\\/view\\/ugcPlayer)/.test(GLOBAL.initLocationUrl);\r\n    GLOBAL.isParentNaverCafe = /(parent=(cafe|www)?\\.?naver\\.com)/.test(GLOBAL.initLocationUrl);\r\n    GLOBAL.isTwitchMuted = (GLOBAL.isTwitch && document.location.href.indexOf("muted=true") !== -1);\r\n    GLOBAL.isYoutubeEmbed = /^https:\\/\\/www\\.youtube\\.com\\/embed\\//.test(GLOBAL.initLocationUrl);\r\n    GLOBAL.isCafeWritingMode = (/^https:\\/\\/cafe\\.naver\\.com\\/ca-fe\\/cafes\\/\\d+\\/articles\\/\\d+\\/modify/.test(GLOBAL.initLocationUrl) || /^https:\\/\\/cafe\\.naver\\.com\\/ca-fe\\/cafes\\/\\d+\\/menus\\/\\d+\\/articles\\/write\\?/.test(GLOBAL.initLocationUrl));\r\n    GLOBAL.isStreamableEmbed = /^https?:\\/\\/streamable\\.com\\/e\\//.test(GLOBAL.initLocationUrl);\r\n    GLOBAL.isAftvEmbed = /^https?:\\/\\/vod\\.afreecatv\\.com\\/player\\//.test(GLOBAL.initLocationUrl);\r\n    GLOBAL.isClippyEmbed = /^https?:\\/\\/clippy.kr\\/clip\\/[a-zA-Z0-9-_]+\\/embed/.test(GLOBAL.initLocationUrl);\r\n    GLOBAL.isKakaotvEmbed = false;\r\n    GLOBAL.isDailymotionEmbed = false;\r\n    GLOBAL.isGfycat = false;\r\n    GLOBAL.isVlive = false;\r\n    GLOBAL.isTiktok = false;\r\n}\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./src/js/global.js?')},"./src/js/lib.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Arrive": () => (/* binding */ Arrive),\n/* harmony export */   "DEBUG": () => (/* binding */ DEBUG),\n/* harmony export */   "DEBUG_INIT": () => (/* binding */ DEBUG_INIT),\n/* harmony export */   "GM_setting": () => (/* binding */ GM_setting),\n/* harmony export */   "NOMO_DEBUG": () => (/* binding */ NOMO_DEBUG),\n/* harmony export */   "NOMO_ERROR": () => (/* binding */ NOMO_ERROR),\n/* harmony export */   "NOMO_WARN": () => (/* binding */ NOMO_WARN),\n/* harmony export */   "escapeHtml": () => (/* binding */ escapeHtml),\n/* harmony export */   "isDEBUG": () => (/* binding */ isDEBUG),\n/* harmony export */   "isNumeric": () => (/* binding */ isNumeric)\n/* harmony export */ });\n////////////////////////////////////////////////////////////////////////////////////\r\n// libs\r\n////////////////////////////////////////////////////////////////////////////////////\r\nvar DEBUG = false;\r\nasync function DEBUG_INIT(){\r\n    DEBUG = await GM.getValue("DEBUG", false);\r\n    unsafeWindow.NCCL_DEBUG_TOGGLE = function(){DEBUG=!DEBUG;GM.setValue("DEBUG", DEBUG);return `DEBUG = ${DEBUG}`;};\r\n}\r\n\r\nfunction isDEBUG(){\r\n    return DEBUG;\r\n}\r\n\r\nfunction NOMO_DEBUG( /**/ ) {\r\n    if (DEBUG) {\r\n        var args = arguments, args_length = args.length, args_copy = args;\r\n        for (var i = args_length; i > 0; i--) args[i] = args_copy[i - 1];\r\n        args[0] = "[NCCL]  ";\r\n        args.length = args_length + 1;\r\n        console.log.apply(console, args);\r\n    }\r\n}\r\nfunction NOMO_WARN( /**/ ) {\r\n    if (DEBUG) {\r\n        var args = arguments, args_length = args.length, args_copy = args;\r\n        for (var i = args_length; i > 0; i--) args[i] = args_copy[i - 1];\r\n        args[0] = "[NCCL]  ";\r\n        args.length = args_length + 1;\r\n        console.warn.apply(console, args);\r\n    }\r\n}\r\nfunction NOMO_ERROR( /**/ ) {\r\n    if (DEBUG) {\r\n        var args = arguments, args_length = args.length, args_copy = args;\r\n        for (var i = args_length; i > 0; i--) args[i] = args_copy[i - 1];\r\n        args[0] = "[NCCL]  ";\r\n        args.length = args_length + 1;\r\n        console.error.apply(console, args);\r\n    }\r\n}\r\nwindow.NOMO_DEBUG = NOMO_DEBUG;\r\nwindow.NOMO_WARN = NOMO_WARN;\r\nwindow.NOMO_ERROR = NOMO_ERROR;\r\n\r\n/* arrive.js\r\n* v2.4.1\r\n* https://github.com/uzairfarooq/arrive\r\n* MIT licensed\r\n* Copyright (c) 2014-2017 Uzair Farooq\r\n*/\r\n// eslint-disable-next-line\r\nconst Arrive = function(e,t,n){"use strict";function r(e,t,n){l.addMethod(t,n,e.unbindEvent),l.addMethod(t,n,e.unbindEventWithSelectorOrCallback),l.addMethod(t,n,e.unbindEventWithSelectorAndCallback);}function i(e){e.arrive=f.bindEvent,r(f,e,"unbindArrive"),e.leave=d.bindEvent,r(d,e,"unbindLeave");}if(e.MutationObserver&&"undefined"!=typeof HTMLElement){var o=0,l=function(){var t=HTMLElement.prototype.matches||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector;return{matchesSelector:function(e,n){return e instanceof HTMLElement&&t.call(e,n);},addMethod:function(e,t,r){var i=e[t];e[t]=function(){return r.length==arguments.length?r.apply(this,arguments):"function"==typeof i?i.apply(this,arguments):n;};},callCallbacks:function(e,t){t&&t.options.onceOnly&&1==t.firedElems.length&&(e=[e[0]]);for(var n,r=0;n=e[r];r++)n&&n.callback&&n.callback.call(n.elem,n.elem);t&&t.options.onceOnly&&1==t.firedElems.length&&t.me.unbindEventWithSelectorAndCallback.call(t.target,t.selector,t.callback);},checkChildNodesRecursively:function(e,t,n,r){for(var i,o=0;i=e[o];o++)n(i,t,r)&&r.push({callback:t.callback,elem:i}),i.childNodes.length>0&&l.checkChildNodesRecursively(i.childNodes,t,n,r);},mergeArrays:function(e,t){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r;},toElementsArray:function(t){return n===t||"number"==typeof t.length&&t!==e||(t=[t]),t;}};}(),c=function(){var e=function(){this._eventsBucket=[],this._beforeAdding=null,this._beforeRemoving=null;};return e.prototype.addEvent=function(e,t,n,r){var i={target:e,selector:t,options:n,callback:r,firedElems:[]};return this._beforeAdding&&this._beforeAdding(i),this._eventsBucket.push(i),i;},e.prototype.removeEvent=function(e){for(var t,n=this._eventsBucket.length-1;t=this._eventsBucket[n];n--)if(e(t)){this._beforeRemoving&&this._beforeRemoving(t);var r=this._eventsBucket.splice(n,1);r&&r.length&&(r[0].callback=null);}},e.prototype.beforeAdding=function(e){this._beforeAdding=e;},e.prototype.beforeRemoving=function(e){this._beforeRemoving=e;},e;}(),a=function(t,r){var i=new c,o=this,a={fireOnAttributesModification:!1};return i.beforeAdding(function(n){var i,l=n.target;(l===e.document||l===e)&&(l=document.getElementsByTagName("html")[0]),i=new MutationObserver(function(e){r.call(this,e,n);});var c=t(n.options);i.observe(l,c),n.observer=i,n.me=o;}),i.beforeRemoving(function(e){e.observer.disconnect();}),this.bindEvent=function(e,t,n){t=l.mergeArrays(a,t);for(var r=l.toElementsArray(this),o=0;o<r.length;o++)i.addEvent(r[o],e,t,n);},this.unbindEvent=function(){var e=l.toElementsArray(this);i.removeEvent(function(t){for(var r=0;r<e.length;r++)if(this===n||t.target===e[r])return!0;return!1;});},this.unbindEventWithSelectorOrCallback=function(e){var t,r=l.toElementsArray(this),o=e;t="function"==typeof e?function(e){for(var t=0;t<r.length;t++)if((this===n||e.target===r[t])&&e.callback===o)return!0;return!1;}:function(t){for(var i=0;i<r.length;i++)if((this===n||t.target===r[i])&&t.selector===e)return!0;return!1;},i.removeEvent(t);},this.unbindEventWithSelectorAndCallback=function(e,t){var r=l.toElementsArray(this);i.removeEvent(function(i){for(var o=0;o<r.length;o++)if((this===n||i.target===r[o])&&i.selector===e&&i.callback===t)return!0;return!1;});},this;},s=function(){function e(e){var t={attributes:!1,childList:!0,subtree:!0};return e.fireOnAttributesModification&&(t.attributes=!0),t;}function t(e,t){e.forEach(function(e){var n=e.addedNodes,i=e.target,o=[];null!==n&&n.length>0?l.checkChildNodesRecursively(n,t,r,o):"attributes"===e.type&&r(i,t,o)&&o.push({callback:t.callback,elem:i}),l.callCallbacks(o,t);});}function r(e,t){return l.matchesSelector(e,t.selector)&&(e._id===n&&(e._id=o++),-1==t.firedElems.indexOf(e._id))?(t.firedElems.push(e._id),!0):!1;}var i={fireOnAttributesModification:!1,onceOnly:!1,existing:!1};f=new a(e,t);var c=f.bindEvent;return f.bindEvent=function(e,t,r){n===r?(r=t,t=i):t=l.mergeArrays(i,t);var o=l.toElementsArray(this);if(t.existing){for(var a=[],s=0;s<o.length;s++)for(var u=o[s].querySelectorAll(e),f=0;f<u.length;f++)a.push({callback:r,elem:u[f]});if(t.onceOnly&&a.length)return r.call(a[0].elem,a[0].elem);setTimeout(l.callCallbacks,1,a);}c.call(this,e,t,r);},f;},u=function(){function e(){var e={childList:!0,subtree:!0};return e;}function t(e,t){e.forEach(function(e){var n=e.removedNodes,i=[];null!==n&&n.length>0&&l.checkChildNodesRecursively(n,t,r,i),l.callCallbacks(i,t);});}function r(e,t){return l.matchesSelector(e,t.selector);}var i={};d=new a(e,t);var o=d.bindEvent;return d.bindEvent=function(e,t,r){n===r?(r=t,t=i):t=l.mergeArrays(i,t),o.call(this,e,t,r);},d;},f=new s,d=new u;t&&i(t.fn),i(HTMLElement.prototype),i(NodeList.prototype),i(HTMLCollection.prototype),i(HTMLDocument.prototype),i(Window.prototype);var h={};return r(f,h,"unbindAllArrive"),r(d,h,"unbindAllLeave"),h;}}(window,"undefined"==typeof jQuery?null:jQuery,void 0);\r\n\r\n/* GM_setting.js\r\n* Version: May. 19, 2022\r\n* MIT licensed\r\n* https://github.com/nomomo/\r\n* nomotg@gmail.com\r\n* Copyright (c) 2017-2022 NOMO\r\n*/\r\n// eslint-disable-next-line\r\nvar GM_setting = (function ($, global, document) { //\r\n    var version = "22.7.31";\r\n\r\n    /////////////////////////////////////////////////////////////////////////////////////////////////\r\n    // local vars\r\n    var latestCreatedLayout = undefined;\r\n\r\n    var name_ = "";             // GM data 키. global[name_] 에 setting 값 저장 됨\r\n    var changed_key = [];       // 설정 창에서 설정 읽은 후, 이전 설정과 비교하여 변경된 키 저장 (저장 전 .change 호출 용)\r\n    \r\n    var userSettingsInitCopy = {};\r\n    var userSettings = {};\r\n    var userSettingsValues = {};\r\n    \r\n    var $g_elem;\r\n    var GUI = {\r\n        "$container":undefined,\r\n        "$GM_setting_head":undefined,\r\n        "$GM_homepage_link":undefined,\r\n        "$GM_multilang":undefined,\r\n        "$ul":undefined,\r\n        "$inputs":undefined,\r\n        "$lis":{}\r\n    };\r\n\r\n    var $inputs = {};\r\n    var DEBUG = false;\r\n    \r\n    /////////////////////////////////////////////////////////////////////////////////////////////////\r\n    var CONSOLE_MSG = function(/**/){\r\n        if(!DEBUG) return;\r\n        var args = arguments, args_length = args.length, args_copy = args;\r\n        for (var i=args_length;i>0;i--) args[i] = args_copy[i-1];\r\n        args[0] = "+[GM_SETTINGS]  ";\r\n        args.length = args_length + 1;\r\n        console.log.apply(console, args);\r\n    };\r\n\r\n    /////////////////////////////////////////////////////////////////////////////////////////////////\r\n    // multi language\r\n    var userLang = (navigator.language || navigator.userLanguage).toLowerCase().substring(0, 2); // ko, en, cn, tw, zh\r\n    var userSelectedLang = userLang;\r\n    var defaultLang = "ko";\r\n    var useMultiLang = false;\r\n    const multilang = {\r\n        "en":{\r\n            "title_settings":"Settings",\r\n            "title_reset":"Reset",\r\n            "donate":"Donate",\r\n            "buymeacoffee":"Buy me a coffee",\r\n            "buymeacoffeeDesc":"Support my projects by buying me a coffee! ☕",\r\n            "toonation":"Toonation",\r\n            "button_reset_settings":"Reset Settings",\r\n            "confirm_reset_settings":"Are you sure you want to reset the settings?",\r\n            "complete_reset_settings":"Settings reset complete!",\r\n            "button_reset_settings_all":"Script reset (refresh is required)",\r\n            "confirm_reset_settings_all":"Do you really want to reset script?",\r\n            "complete_reset_settings_all":"Script initialization complete!",\r\n            "auto_saved":"Autosaved: ",\r\n            "err_val_req":"A value must be entered.",\r\n            "err_num_req":"Only numbers can be entered.",\r\n            "err_num_over":"The input value must be a number greater than or equal to : ",\r\n            "err_num_not_more_than":"The input value must be a number less than or equal to: ",\r\n            "err_valid_array_string":"Only English letters, numbers, commas (,) and underscores (_) can be entered.",\r\n            "err_value_empty":"Something for which no value exists, such as an empty value.",\r\n            "err_value_dup":"Duplicate value exists: ",\r\n            "err_value_blank":"There is an item of a space in the string: ",\r\n            "setting_changed_from_other_window":"설정이 다른 창에서 변경되어 다시 불러옵니다."\r\n        },\r\n        "ko":{\r\n            "title_settings":"Settings",\r\n            "title_reset":"Reset",\r\n            "donate":"후원하기",\r\n            "buymeacoffee":"Buy me a coffee 로 커피 한 잔 사주기",\r\n            "buymeacoffeeDesc":"커피 한 잔☕ 으로 프로젝트를 지원해주세요~",\r\n            "toonation":"Toonation 으로 후원하기",\r\n            "button_reset_settings":"Reset Settings",\r\n            "confirm_reset_settings":"진짜 설정을 초기화 할까요?",\r\n            "complete_reset_settings":"설정 초기화 완료!",\r\n            "button_reset_settings_all":"전체 초기화(새로고침 필요)",\r\n            "confirm_reset_settings_all":"진짜 스크립트를 모두 초기화 할까요?",\r\n            "complete_reset_settings_all":"스크립트 초기화 완료!",\r\n            "auto_saved":"자동 저장 됨: ",\r\n            "err_val_req":"반드시 값이 입력되어야 합니다.",\r\n            "err_num_req":"숫자만 입력 가능합니다.",\r\n            "err_num_over":"입력 값은 다음 값 이상의 숫자이어야 합니다. : ",\r\n            "err_num_not_more_than":"입력 값은 다음 값 이하의 숫자이어야 합니다. : ",\r\n            "err_valid_array_string":"영문, 숫자, 콤마(,), 언더바(_) 만 입력 가능합니다.",\r\n            "err_value_empty":"공백 값 등 값이 존재하지 않는 항목이 존재합니다.",\r\n            "err_value_dup":"중복된 값이 존재합니다: ",\r\n            "err_value_blank":"문자열 내 공백이 존재하는 항목이 있습니다: ",\r\n            "setting_changed_from_other_window":"설정이 다른 창에서 변경되어 다시 불러옵니다: "\r\n        }\r\n    };\r\n    var getTextFromObjectbyLang = function(obj){\r\n        var resText = "";\r\n        if(typeof obj === "object"){\r\n            var objkeys = Object.keys(obj);\r\n            if(objkeys.length === 0){\r\n                return resText;\r\n            }\r\n            if(obj[userSelectedLang] !== undefined){\r\n                resText = obj[userSelectedLang];\r\n            }\r\n            else if(obj[defaultLang] !== undefined){\r\n                resText = obj[userSelectedLang];\r\n            }\r\n            else{\r\n                resText = obj[objkeys[0]];\r\n            }\r\n        }\r\n        else{\r\n            resText = obj;\r\n        }\r\n        return resText;\r\n    };\r\n    var getSystemTextbyLang = function(msg){\r\n        if(multilang[userSelectedLang] !== undefined){\r\n            return multilang[userSelectedLang][msg];\r\n        }\r\n        else if(multilang[defaultLang] !== undefined){\r\n            return multilang[defaultLang][msg];\r\n        }\r\n        else{\r\n            return "";\r\n        }\r\n    };\r\n    var changeLang = function(){\r\n        if(latestCreatedLayout == undefined){\r\n            CONSOLE_MSG("NO CREATED LAYOUT");\r\n            return;\r\n        }\r\n        var $latestCreatedLayout = $(latestCreatedLayout);\r\n        $latestCreatedLayout.empty();\r\n        createlayout_(latestCreatedLayout);\r\n    };\r\n\r\n\r\n    //\r\n    //\r\n    //\r\n    /////////////////////////////////////////////////////////////////////////////////////////////////\r\n    // private functions\r\n    /////////////////////////////////////////////////////////////////////////////////////////////////\r\n    var init_ = async function (usInput) {\r\n        CONSOLE_MSG("init_", userSettings);\r\n        if(usInput){\r\n            if(usInput.DEBUG){\r\n                DEBUG = true;\r\n                CONSOLE_MSG("GM_setting - DEBUG", DEBUG);\r\n            }\r\n            if(usInput.CONSOLE_MSG){\r\n                CONSOLE_MSG = usInput.CONSOLE_MSG;\r\n            }\r\n            if(usInput.SETTINGS){\r\n                userSettings = usInput.SETTINGS;\r\n            }\r\n            if(usInput.MULTILANG){\r\n                useMultiLang = true;\r\n                if(usInput.LANG_DEFAULT){\r\n                    defaultLang = usInput.LANG_DEFAULT;\r\n                }\r\n            }\r\n        }\r\n        else{\r\n            // error\r\n        }\r\n        for (var key in userSettings) {\r\n            userSettingsInitCopy[key] = userSettings[key].value;\r\n        }\r\n        userSettingsInitCopy["Lang"] = "";\r\n\r\n        await load_();\r\n        if (!hasSameKey_(userSettingsInitCopy, userSettingsValues)) {\r\n            // 추가\r\n            for (key in userSettingsInitCopy) {\r\n                if (userSettingsValues[key] === undefined) {\r\n                    userSettingsValues[key] = userSettingsInitCopy[key];\r\n                }\r\n            }\r\n            // 삭제\r\n            for (key in userSettingsValues) {\r\n                if (userSettingsInitCopy[key] === undefined) {\r\n                    delete userSettingsValues[key];\r\n                }\r\n            }\r\n            await save_();\r\n        }\r\n    };\r\n\r\n    /////////////////////////////////////////////////////////////////////////////////////////////////\r\n    var save_ = async function () {\r\n        CONSOLE_MSG("save_");\r\n        if (name_ !== "") {\r\n            await GM.setValue(name_, userSettingsValues);\r\n        }\r\n        global[name_] = userSettingsValues;\r\n\r\n        // changed_key: 배열,       인덱스번호, 값(키)\r\n        $.each(changed_key, function (eindex, evalue) {\r\n            if (userSettings[evalue] !== undefined && userSettings[evalue].change !== undefined) {\r\n                userSettings[evalue].change(userSettingsValues[evalue]);\r\n            }\r\n        });\r\n        changed_key = [];\r\n    };\r\n\r\n    /////////////////////////////////////////////////////////////////////////////////////////////////\r\n    var load_ = async function () {\r\n        CONSOLE_MSG("load_");\r\n        if (name_ !== "") {\r\n            userSettingsValues = await GM.getValue(name_, userSettingsValues);\r\n        }\r\n        userSettingsValues["Lang"] = await loadLang_();\r\n        global[name_] = userSettingsValues;\r\n    };\r\n\r\n    /////////////////////////////////////////////////////////////////////////////////////////////////\r\n    var loadLang_ = async function() {\r\n        userSelectedLang = await GM.getValue("GM_SETTING_LANG", userLang);\r\n        CONSOLE_MSG("loadLang_", userSelectedLang);\r\n        return userSelectedLang;\r\n    };\r\n\r\n    /////////////////////////////////////////////////////////////////////////////////////////////////\r\n    var saveLang_ = async function(lang) {\r\n        if(lang == undefined){\r\n            await GM.setValue("GM_SETTING_LANG", userSelectedLang);\r\n            CONSOLE_MSG("saveLang_", userSelectedLang);\r\n        }\r\n        else{\r\n            await GM.setValue("GM_SETTING_LANG", lang);\r\n            CONSOLE_MSG("saveLang_", lang);\r\n        }\r\n    };\r\n\r\n    var reCreateTable_ = function($tbody, key, val) {\r\n        $tbody.empty();\r\n        $tbody.empty();\r\n        for(var i=0;i<val.length;i++){\r\n            var $tr = $(`<tr></tr>`);\r\n            for(var j=0;j<val[i].length;j++){\r\n                if(j==0){\r\n                    $tr.append(`<td>${i+1}</td>`);\r\n                }\r\n                $tr.append(`<td>${val[i][j]}</td>`);\r\n            }\r\n            $tr.append(`<td class="table_btn_container"><span title="Modify" alt="Modify" class="glyphicon glyphicon-pencil cp table_modify" GM_setting_key="${key}"></span><span title="Save" alt="Save" style="display:none;" class="glyphicon glyphicon-floppy-disk cp table_save" GM_setting_key="${key}"></span></td>`);\r\n            $tr.append(`<td class="table_btn_container"><span title="Delete" alt="Delete" class="glyphicon glyphicon-trash cp table_delete" GM_setting_key="${key}"></span><span title="Cancel" alt="Cancel" style="display:none;" class="glyphicon glyphicon-remove cp table_cancel" GM_setting_key="${key}"></span></td>`);\r\n            $tbody.append($tr);\r\n        }\r\n        var $tr_new = $(`<tr></tr>`);\r\n        for(var k=0;k<userSettings[key].head.length;k++){   // index\r\n            if(k==0){\r\n                $tr_new.append(`<td></td>`);\r\n            }\r\n            $tr_new.append(`<td></td>`);\r\n        }\r\n        $tr_new.append(`<td class="table_btn_container"><span title="New" alt="New" class="glyphicon glyphicon-plus cp table_new" GM_setting_key="${key}"></span><span title="Save" alt="Save" style="display:none;" class="glyphicon glyphicon-floppy-disk cp table_new_save" GM_setting_key="${key}"></span></td>`);\r\n        $tr_new.append(`<td class="table_btn_container"><span title="Cancel" alt="Cancel" style="display:none;" class="glyphicon glyphicon-remove cp table_new_cancel" GM_setting_key="${key}"></span></td>`);\r\n        $tbody.append($tr_new);\r\n    };\r\n\r\n    /////////////////////////////////////////////////////////////////////////////////////////////////\r\n    var event_ = async function () {\r\n        if (typeof GM.addValueChangeListener === "function") {\r\n            CONSOLE_MSG("설정에 대한 addValueChangeListener 바인드");\r\n            GM.addValueChangeListener(name_, async function (val_name, old_value, new_value, remote) {\r\n                if (remote) {\r\n                    CONSOLE_MSG("다른 창에서 설정 변경됨. val_name, old_value, new_value:", val_name, old_value, new_value);\r\n                    await load_();\r\n                    // old_value: obj,       ekey:키, evalue:값(old 설정값)\r\n                    $.each(old_value, function (ekey, _evalue) {\r\n                        if (userSettings[ekey] !== undefined && userSettings[ekey].change !== undefined && old_value[ekey] !== new_value[ekey]) {\r\n                            userSettings[ekey].change(userSettingsValues[ekey]);\r\n                        }\r\n                    });\r\n                    changed_key = [];\r\n                    // 설정 변경 시 바뀌는 이벤트들\r\n\r\n                    if(latestCreatedLayout !== undefined){\r\n                        createlayout_(latestCreatedLayout);\r\n                        message_(getSystemTextbyLang("setting_changed_from_other_window") + (new Date()).toLocaleTimeString(), $g_elem);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        $(document).on("input", "input[gm_setting_key=\'under_dev\']", function () {\r\n            CONSOLE_MSG("실험실 기능 온오프 이벤트");\r\n            var $this = $(this);\r\n            if ($this.is(":checked")) {\r\n                $(".GM_setting_under_dev").css("opacity", 0).slideDown("fast").animate({\r\n                    opacity: 1\r\n                }, {\r\n                    queue: false,\r\n                    duration: "fast"\r\n                });\r\n            } else {\r\n                $(".GM_setting_under_dev").css("opacity", 1).slideUp("fast").animate({\r\n                    opacity: 0.0\r\n                }, {\r\n                    queue: false,\r\n                    duration: "fast"\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    /////////////////////////////////////////////////////////////////////////////////////////////////\r\n    var addStyle_ = function () {\r\n        GM.addStyle( /*css*/ `\r\n#GM_setting .btn {font-size:12px;}\r\n.GM_setting_autosaved.btn {\r\n    max-width:100%;\r\n    font-size:12px;\r\n    white-space:pre-wrap;\r\n    user-select:text;\r\n}\r\n#GM_setting .btn-xxs {\r\n    cursor: pointer;\r\n    padding: 4px 4px;\r\n}\r\n#GM_setting label.btn-xxs {\r\n    box-sizing: content-box;\r\n    width:11px;\r\n    height:11px;\r\n}\r\n#GM_setting a{\r\n    color: #428bca;\r\n    text-decoration: none;\r\n}\r\n#GM_setting a:hover, #GM_setting a:focus {\r\n    color: #2a6496;\r\n    text-decoration: underline;\r\n}\r\n#GM_setting {clear:both;margin-left:auto; margin-right:auto; padding:0;max-width:1400px; min-width:750px; box-sizing:content-box;}\r\n#GM_setting, #GM_setting table {font-size:13px;}\r\n\r\n#GM_setting .GM_setting_logo{font-family:auto;height:25px;display:inline-block;white-space:nowrap}\r\n#GM_setting .GM_setting_menu_right{display:flex;height:25px;float:right;}\r\n#GM_setting .GM_homepage_link{font-size:12px;font-weight:normal;align-self:flex-end;}\r\n#GM_setting .GM_multilang{margin-left:15px;}\r\n\r\n#GM_setting_head{margin-left:auto; margin-right:auto; padding:20px 0px 10px 10px;font-size:18px;font-weight:800;max-width:1400px; min-width:750px; box-sizing:content-box;}\r\n#GM_setting ul {padding:0;}\r\n#GM_setting li {display:flex;list-style:none;margin:0px;padding:10px;border-top:1px solid #eee;}\r\n\r\n#GM_setting .GM_setting_depth1.GM_setting_category:first-child {margin-top:0px}\r\n#GM_setting .GM_setting_depth1.GM_setting_category {border-top: 2px solid #999;margin-top:30px;padding-top:10px;}\r\n#GM_setting li[GM_setting_key=\'version_check\'] {margin-top:0px !important}\r\n\r\n#GM_setting .GM_setting_category_name{display:block;box-sizing:border-box;padding:0 0 0 0px;font-weight:700;vertical-align:top;flex:0 0 100px;}\r\n#GM_setting .GM_setting_category_blank{display:block;box-sizing:border-box;padding:0 0 0 0px;vertical-align:top;flex:0 0 100px;}\r\n\r\n#GM_setting .GM_setting_list_head{display:block;box-sizing:border-box;vertical-align:top;flex:1 0 370px;}\r\n#GM_setting .GM_setting_depth1 .GM_setting_list_head {padding-left:0px;}\r\n#GM_setting .GM_setting_depth2 .GM_setting_list_head {padding-left:30px;}\r\n#GM_setting .GM_setting_depth3 .GM_setting_list_head {padding-left:60px;}\r\n#GM_setting .GM_setting_depth4 .GM_setting_list_head {padding-left:90px;}\r\n#GM_setting .GM_setting_depth5 .GM_setting_list_head {padding-left:120px;}\r\n\r\n#GM_setting .GM_setting_title{display:block;font-weight:700;}\r\n#GM_setting .GM_setting_desc{display:block;font-size:11px;}\r\n\r\n#GM_setting .GM_setting_input_container {display:block;box-sizing:border-box;padding:0 0 0 30px;vertical-align:top;flex:1 1 100%;}\r\n#GM_setting .GM_setting_input_container span{vertical-align:top;}\r\n#GM_setting .GM_setting_input_container span.btn{margin:0 0 0 10px;}\r\n#GM_setting input{display:inline}\r\n#GM_setting input[type="text"]{ width: 100px; height: 30px; padding: 5px 5px; font-size:12px; }\r\n#GM_setting textarea{ width: 250px; height: 30px; padding: 5px 5px; font-size:12px; }\r\n#GM_setting input[type="checkbox"] { display:none; width: 20px;height:20px; padding: 0; margin:0; }\r\n#GM_setting input[type="radio"] {width: 20px;height:20px; padding: 0; margin:0; }\r\n\r\n#GM_setting .radio-inline{ padding-left:0; padding-right:10px; }\r\n#GM_setting .radio-inline input{ margin:0 5px 0 0; }\r\n\r\n#GM_setting table {margin:0; width:100%;}\r\n#GM_setting th, #GM_setting td {height: 24px;}\r\n#GM_setting table th, #GM_setting table td{padding:2px 5px;}\r\n#GM_setting table th {border: 1px solid; border-color: inherit;}\r\n#GM_setting .table_btn_container {white-space: nowrap; vertical-align:middle; width:24px; font-size:14px; padding:0; text-align:center;}\r\n#GM_setting .table_btn_container span {padding:0}\r\n#GM_setting table input[type="text"] {padding:1px 2px; height:auto; width:100%; margin-left:auto; margin-right:auto;}\r\n\r\n#GM_setting .GM_setting_item_disable, #GM_setting .GM_setting_item_disable .GM_setting_title, #GM_setting .GM_setting_item_disable .GM_setting_desc{color:#ccc !important}\r\n#GM_setting .invalid input, #GM_setting .invalid textarea{border-color:#dc3545;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;color:#dc3545;}\r\n#GM_setting .invalid input:focus, #GM_setting .invalid textarea:focus{border-color:#dc3545;box-shadow:0 0 0 0.2rem rgba(220,53,69,.25);outline:0;color:#dc3545;}\r\n#GM_setting .invalid {color:#dc3545}\r\n#GM_setting .invalid_text {font-size:12px;padding:5px 0 0 5px;}\r\n\r\n#GM_setting .GM_setting_under_dev .GM_setting_title{color:#6441a5;font-style:italic}\r\n#GM_setting .GM_setting_debug .GM_setting_title{color:#6441a5;font-style:italic}\r\n\r\n#GM_setting .btn-xxs {cursor:pointer;padding:4px 4px;} /*padding: 1px 2px;font-size: 9px;line-height: 1.0;border-radius: 3px;margin:0 2px 2px 0;*/\r\n#GM_setting .btn-xxs .glyphicon{}\r\n#GM_setting .btn-xxs span.glyphicon {font-size:11px; opacity: 0.1;}\r\n#GM_setting .btn-xxs.active span.glyphicon {opacity: 0.9;}\r\n#GM_setting .btn-xxs.disable {opacity: 0.3;cursor:not-allowed;}\r\n\r\n#GM_setting_footer { padding: 30px 0 30px 0; margin: 30px 0 0 0; border-top: 1px solid #ccc; text-align: center; font-size:13px; letter-spacing:0.2px; user-select:none;}\r\n#GM_setting_footer .footer_divider { margin: 0 5px; display: inline-block; width: 1px; height: 13px; background-color: #ebebeb; }\r\n\r\n#GM_setting .cp {cursor:pointer}\r\n\r\n#GM_setting .form-group {margin-bottom:0px;}\r\n#GM_setting .form-control {width:auto;}\r\n`);\r\n    };\r\n\r\n\r\n\r\n\r\n\r\n    /////////////////////////////////////////////////////////////////////////////////////////////////\r\n    var fillLayout_ = function (key){\r\n        var category = userSettings[key].category;\r\n        var depth = userSettings[key].depth;\r\n        var type = userSettings[key].type;\r\n        var category_name = getTextFromObjectbyLang(userSettings[key].category_name);\r\n        var under_dev = userSettings[key].under_dev;\r\n        var radio_enable_value = userSettings[key].radio_enable_value;\r\n        var title = getTextFromObjectbyLang(userSettings[key].title);\r\n        var desc = getTextFromObjectbyLang(userSettings[key].desc);\r\n\r\n        var $inputContainer = $("<div class=\'GM_setting_input_container form-group\'></div>");\r\n        var isTextarea = $.inArray(type, ["tag","textarea","object"]) !== -1;\r\n        var $input;\r\n\r\n        switch (type){\r\n        case "radio":\r\n            var radioObj = userSettings[key].radio;\r\n            $input = $("<div GM_setting_type=\'radio\'></div>");\r\n            for (var radiokey in radioObj) {\r\n                var $label = $("<label class=\'radio-inline\'>" + getTextFromObjectbyLang(radioObj[radiokey].title) + "</label>");\r\n                var $temp_input = $("<input name=\'GM_setting_" + key + "\' class=\'form-control\' autocomplete=\'off\' autocorrect=\'off\' autocapitalize=\'off\' spellcheck=\'false\' onfocus=\'this.blur()\' />").attr({\r\n                    "GM_setting_key": key,\r\n                    "value": radioObj[radiokey].value,\r\n                    "type": (type === "set" ? type === "text" : (type === "tag" ? "textarea" : type))\r\n                });\r\n                $temp_input.prependTo($label);\r\n                $input.append($label);\r\n            }\r\n            break;\r\n        \r\n        case "combobox":\r\n            var comboboxObj = userSettings[key].options;\r\n            $input = $(`<select name="GM_setting_${key}" class=\'form-control input-sm select-inline\'></select>`).attr({\r\n                "GM_setting_type": type,\r\n                "GM_setting_key": key,\r\n                "GM_setting_category": (category === undefined ? "default" : category),\r\n                "GM_setting_radio_enable_value": (radio_enable_value === undefined ? "none" : radio_enable_value)\r\n            });\r\n            for (var comboboxKey in comboboxObj) {\r\n                var $temp_option = $(`<option spellcheck=\'false\' value="${comboboxKey}" onfocus=\'this.blur()\'>${getTextFromObjectbyLang(comboboxObj[comboboxKey].title)}</option>`);\r\n                $input.append($temp_option);\r\n            }\r\n            break;\r\n\r\n        case "table":\r\n            $input = $(`<table name="GM_setting_${key}" class="table table-bordered table-striped table-hover"><thead><tr></tr></thead><tbody></tbody></table>`).attr({\r\n                "GM_setting_key": key\r\n            });\r\n            var $theadtr = $input.find("thead tr");\r\n            $theadtr.append(`<th>#</th>`);\r\n            for(var i=0;i<userSettings[key].head.length;i++){\r\n                $theadtr.append(`<th>${userSettings[key].head[i]}</th>`);\r\n            }\r\n            $theadtr.append(`<th class="table_btn_container"> </th>`);\r\n            $theadtr.append(`<th class="table_btn_container"> </th>`);\r\n            break;\r\n        \r\n        default:\r\n            $input = $(`<${(isTextarea ? "textarea " : "input ")} class=\'form-control\' autocomplete=\'off\' autocorrect=\'off\' autocapitalize=\'off\' spellcheck=\'false\' ${(type === "checkbox" ? "onfocus=\'this.blur()\'" : "")}${(isTextarea ? "></textarea>" : " />")}`)\r\n                .attr({\r\n                    "type": (type === "set" ? type === "text" : (type === "tag" ? "textarea" : type)),\r\n                    "GM_setting_key": key\r\n                });\r\n            break;\r\n        }\r\n\r\n        var $category;\r\n        if (category_name !== undefined) {\r\n            $category = $(`<div class=\'GM_setting_category_name\'>${category_name}</div>`);\r\n        } else {\r\n            $category = $("<div class=\'GM_setting_category_blank\'></div>");\r\n        }\r\n\r\n        var $head = $("<div class=\'GM_setting_list_head\'></div>");\r\n        var $title = $(`<span class=\'GM_setting_title\'>${title}</span>`);\r\n        var $desc = $(`<span class=\'GM_setting_desc\'>${desc}</span>`);\r\n        $head.append($title).append($desc);\r\n\r\n        if (type === "checkbox") {\r\n            var $label_container = $(`<label class="btn btn-default btn-xxs"><span class="glyphicon glyphicon-ok"></span></label>`);\r\n            $label_container.prepend($input).appendTo($inputContainer);\r\n\r\n            $input.on("change", function () {\r\n                if ($(this).is(":checked")) {\r\n                    $(this).closest("label").addClass("active");\r\n                } else {\r\n                    $(this).closest("label").removeClass("active");\r\n                }\r\n\r\n                if ($(this).is(":disabled")) {\r\n                    $(this).closest("label").addClass("disable").prop("disabled", true);\r\n                } else {\r\n                    $(this).closest("label").removeClass("disable").prop("disabled", false);\r\n                }\r\n            });\r\n        } else {\r\n            $inputContainer.append($input);\r\n        }\r\n\r\n        //$li.append($category).append($head).append($inputContainer);\r\n        GUI.$lis[key].empty().append($category).append($head).append($inputContainer);\r\n        $inputs[key] = $input;\r\n\r\n        if (userSettings[key].append !== undefined) {\r\n            $inputContainer.append(userSettings[key].append);\r\n        }\r\n    };\r\n    var createlayout_ = function (elem) {\r\n        //CONSOLE_MSG("createlayout_");\r\n        $inputs = {};\r\n\r\n        // set $g_elem\r\n        $g_elem = $(elem);\r\n        $g_elem.empty();\r\n        // if ($g_elem.find("#GM_setting_container").length !== 0) {\r\n        //     $g_elem.empty();\r\n        // }\r\n\r\n        GUI.$container = $("<div id=\'GM_setting\'></div>");\r\n        GUI.$ul = $("<ul></ul>");\r\n        GUI.$GM_setting_head = $("<div id=\'GM_setting_head\'></div>");\r\n        $g_elem.append(GUI.$container);\r\n        GUI.$container.append(GUI.$GM_setting_head).append(GUI.$ul);\r\n\r\n        //////////////////////////////////\r\n        // $setting_head\r\n        //////////////////////////////////\r\n        // $GM_homepage_link\r\n        GUI.$GM_homepage_link = $(`<div class=\'GM_homepage_link\' style=\'display:none;\'><a href=\'${(GM.info.script.homepage)}\' target=\'_blank\'>${(GM.info.script.name)} v${(GM.info.script.version)} (${(GM.info.script.homepage)})</a></div>`);\r\n        if(GM.info !== undefined && GM.info !== null && GM.info.script !== undefined && GM.info.script !== null && GM.info.script.homepage !== undefined && GM.info.script.homepage !== null && GM.info.script.homepage !== ""){\r\n            GUI.$GM_homepage_link.show();\r\n        }\r\n\r\n        // $GM_multilang\r\n        GUI.$GM_multilang_select = $(`<select id=\'GM_multilang_select\' class="form-control input-sm"><option value="ko">한국어</option><option value="en">English</option></select>`);\r\n        GUI.$GM_multilang = $(`<div class=\'GM_multilang\' style=\'display:none\'></div>`).append(GUI.$GM_multilang_select);\r\n        if(useMultiLang){\r\n            GUI.$GM_multilang.show();\r\n            GUI.$GM_multilang_select.val(userSelectedLang);\r\n            GUI.$GM_multilang_select.on(\'change\', async (e) => {\r\n                var prevUserSelectedLang = userSelectedLang;\r\n                var optionSelected = $("option:selected", this);\r\n                userSelectedLang = this.value;\r\n                CONSOLE_MSG(`LANG VALUE CHANGED FROM ${prevUserSelectedLang} TO ${userSelectedLang}`);\r\n                await saveLang_();\r\n                changeLang();\r\n            });\r\n        }\r\n\r\n        // append to $GM_setting_head\r\n        GUI.$GM_setting_head\r\n            .append(`<div class=\'GM_setting_logo\'>Settings</div>`)\r\n            .append($(`<div class=\'GM_setting_menu_right\'></div>`)\r\n                .append(GUI.$GM_homepage_link)\r\n                .append(GUI.$GM_multilang)\r\n            );\r\n        \r\n        //////////////////////////////////////\r\n        for (var key in userSettings) {\r\n            var category = userSettings[key].category;\r\n            var depth = userSettings[key].depth;\r\n            var type = userSettings[key].type;\r\n            var category_name = getTextFromObjectbyLang(userSettings[key].category_name);\r\n            var under_dev = userSettings[key].under_dev;\r\n            var debug = userSettings[key].debug;\r\n            var radio_enable_value = userSettings[key].radio_enable_value;\r\n\r\n            /////////////////////////////////////////\r\n            // set $li\r\n            GUI.$lis[key] = $(`<li></li>`);\r\n            GUI.$ul.append(GUI.$lis[key]);\r\n\r\n            GUI.$lis[key].attr({\r\n                "GM_setting_type": type,\r\n                "GM_setting_key":key,\r\n                "GM_setting_depth":depth,\r\n                "GM_setting_category": (category === undefined ? "default" : category),\r\n                "GM_setting_radio_enable_value": (radio_enable_value === undefined ? "none" : radio_enable_value)\r\n            });\r\n            GUI.$lis[key].addClass(`GM_setting_depth${depth}`);\r\n            if(radio_enable_value !== undefined) GUI.$lis[key].attr("GM_setting_radio_enable_value",userSettings[key].radio_enable_value);\r\n            if(under_dev) GUI.$lis[key].addClass("GM_setting_under_dev");\r\n            if(debug) GUI.$lis[key].addClass("GM_setting_debug");\r\n            if(category_name !== undefined) GUI.$lis[key].addClass("GM_setting_category");\r\n            if(under_dev && !userSettingsValues.under_dev) GUI.$lis[key].css({"display":"none","opacity":"0"});\r\n            if(debug && !DEBUG) GUI.$lis[key].css({"display":"none","opacity":"0"});\r\n\r\n            fillLayout_(key);\r\n        }\r\n\r\n        write_();\r\n        usageCheck_();\r\n\r\n        // 설정 on-off 이벤트\r\n        $g_elem.find("input[type=\'checkbox\']").on("click", function () {\r\n            usageCheck_();\r\n        });\r\n\r\n        $g_elem.find("input[type=\'radio\']").on("click", function () {\r\n            usageCheck_();\r\n        });\r\n        \r\n        // Table 관련 이벤트\r\n        GUI.$container.on("click", ".table_modify", function(e){\r\n            CONSOLE_MSG("clicked table_modify btn");\r\n            var $e = $(e.target);\r\n            var $tbody = $e.closest("tbody");\r\n            var $tr = $e.closest("tr");\r\n            $tbody.find(".table_modify").hide();\r\n            $tbody.find(".table_delete").hide();\r\n            $tbody.find(".table_new").hide();\r\n            $tbody.find(".table_save").hide();\r\n            $tbody.find(".table_cancel").hide();\r\n            $tr.find(".table_save").show();\r\n            $tr.find(".table_cancel").show();\r\n            var $tds = $tr.find("td");\r\n            for(var i=0;i<$tds.length - 2;i++){\r\n                if(i==0) continue;\r\n                var $td = $($tds[i]);\r\n                var text = $td.text();\r\n                $td.html(`<input type="text" value="${text}" orivalue="${text}"></input>`);\r\n            }\r\n        });\r\n\r\n        GUI.$container.on("click", ".table_save", async function(e){\r\n            CONSOLE_MSG("clicked table_save btn");\r\n            var $e = $(e.target);\r\n            var $tr = $e.closest("tr");\r\n            var $tdinputs = $tr.find("input");\r\n            var index = Number($tr.find("td").first().text()) - 1;\r\n            var key = $e.attr("GM_setting_key");\r\n            console.log($tdinputs);\r\n            for(var i=0;i<$tdinputs.length;i++){\r\n                userSettingsValues[key][index][i] = $($tdinputs[i]).val();\r\n            }\r\n            await save_();\r\n            message_(getSystemTextbyLang("auto_saved") + (new Date()).toLocaleTimeString(), $g_elem);\r\n            \r\n            // createlayout_($g_elem);\r\n            var $tbody = $e.closest("tbody");\r\n            var val = userSettingsValues[key];\r\n            reCreateTable_($tbody, key, val);\r\n        });\r\n\r\n        GUI.$container.on("click", ".table_cancel", function(e){\r\n            CONSOLE_MSG("clicked table_cancel btn");\r\n            var $e = $(e.target);\r\n            //createlayout_($g_elem);\r\n\r\n            var key = $e.attr("GM_setting_key");\r\n            var $tbody = $e.closest("tbody");\r\n            var val = userSettingsValues[key];\r\n            reCreateTable_($tbody, key, val);\r\n        });\r\n\r\n        GUI.$container.on("click", ".table_delete", async function(e){\r\n            CONSOLE_MSG("clicked table_delete btn");\r\n            var $e = $(e.target);\r\n            var confirm_res = confirm("Delete?");\r\n            if(!confirm_res) return;\r\n            var $tr = $e.closest("tr");\r\n            var index = Number($tr.find("td").first().text()) - 1;\r\n            $tr.remove();\r\n\r\n            var key = $e.attr("GM_setting_key");\r\n            userSettingsValues[key].splice(index, 1);\r\n            await save_();\r\n\r\n            //createlayout_($g_elem);\r\n            var $tbody = $e.closest("tbody");\r\n            var val = userSettingsValues[key];\r\n            reCreateTable_($tbody, key, val);\r\n            message_(getSystemTextbyLang("auto_saved") + (new Date()).toLocaleTimeString(), $g_elem);\r\n        });\r\n\r\n        GUI.$container.on("click", ".table_new", function(e){\r\n            CONSOLE_MSG("clicked table_new btn");\r\n            var $e = $(e.target);\r\n            var $tbody = $e.closest("tbody");\r\n            $tbody.find(".table_modify").hide();\r\n            $tbody.find(".table_delete").hide();\r\n            $tbody.find(".table_new").hide();\r\n            $tbody.find(".table_new_save").show();\r\n            $tbody.find(".table_new_cancel").show();\r\n\r\n            var $tr = $e.closest("tr");\r\n            var $tds = $tr.find("td");\r\n            for(var i=0;i<$tds.length - 2;i++){\r\n                if(i==0) continue;\r\n                var $td = $($tds[i]);\r\n                $td.html(`<input type="text" value=""></input>`);\r\n            }\r\n        });\r\n        \r\n        GUI.$container.on("click", ".table_new_save", async function(e){\r\n            CONSOLE_MSG("clicked table_new_save btn");\r\n            var $e = $(e.target);\r\n            var $tr = $e.closest("tr");\r\n            var $tdinputs = $tr.find("input");\r\n            var temp = [];\r\n            for(var i=0;i<$tdinputs.length;i++){\r\n                temp.push($($tdinputs[i]).val());\r\n            }\r\n            var key = $e.attr("GM_setting_key");\r\n            userSettingsValues[key].push(temp);\r\n            await save_();\r\n            message_(getSystemTextbyLang("auto_saved") + (new Date()).toLocaleTimeString(), $g_elem);\r\n\r\n            //createlayout_($g_elem);\r\n            var $tbody = $e.closest("tbody");\r\n            var val = userSettingsValues[key];\r\n            reCreateTable_($tbody, key, val);\r\n\r\n        });\r\n\r\n        \r\n        GUI.$container.on("click", ".table_new_cancel", function(e){\r\n            CONSOLE_MSG("clicked table_new_cancel btn");\r\n            //createlayout_($g_elem);\r\n            var key = $(e.target).attr("GM_setting_key");\r\n            var $tbody = $(e.target).closest("tbody");\r\n            var val = userSettingsValues[key];\r\n            reCreateTable_($tbody, key, val);\r\n        });\r\n\r\n        // 자동 저장 이벤트\r\n        GUI.$container.find("select").on("change", function(){\r\n            CONSOLE_MSG("GM_setting - select change");\r\n            validateAndSave_($(this), $g_elem, $inputs);\r\n        });\r\n        GUI.$container.find("input, textarea").on("input", function () { // "input[type=\'text\']"  input propertychange\r\n            CONSOLE_MSG("GM_setting - text change");\r\n            validateAndSave_($(this), $g_elem, $inputs);\r\n        });\r\n\r\n        // 리셋 버튼 추가\r\n        GUI.$ul.append( /*html*/ `<li class="GM_setting_category GM_setting_depth1">\r\n            <div class="GM_setting_category_name">${getSystemTextbyLang("title_reset")}</div>\r\n            <div class="GM_setting_list_head">\r\n                <span class="GM_setting_title">\r\n                    <span class="GM_setting_reset btn btn-primary" style="margin-left:0;">${getSystemTextbyLang("button_reset_settings")}</span>\r\n                    \x3c!--<span class="GM_setting_reset_all btn btn-primary">${"button_reset_settings_all"}</span>--\x3e\r\n                </span>\r\n                <span class="GM_setting_desc"></span>\r\n            </div>\r\n            <div class="GM_setting_input_container form-group">\r\n            </div>\r\n        </li>`);\r\n        GUI.$ul.find(".GM_setting_reset").on("click", async function () {\r\n            var conf = confirm(getSystemTextbyLang("confirm_reset_settings"));\r\n            if (conf) {\r\n                await GM_setting.reset();\r\n                GM_setting.createlayout($g_elem);\r\n                message_(getSystemTextbyLang("complete_reset_settings") + (new Date()).toLocaleTimeString(), $g_elem);\r\n            }\r\n        });\r\n        GUI.$ul.find(".GM_setting_reset_all").on("click", async function () {\r\n            var conf = confirm(getSystemTextbyLang("confirm_reset_settings_all"));\r\n            if (conf) {\r\n                var listValues = await GM.listValues();\r\n                for (var key = 0; key < listValues.length; key++) {\r\n                    var key_str = listValues[key];\r\n                    await GM.deleteValue(key_str);\r\n                }\r\n                await GM_setting.reset();\r\n                GM_setting.createlayout($g_elem);\r\n                message_(getSystemTextbyLang("complete_reset_settings_all") + (new Date()).toLocaleTimeString(), $g_elem);\r\n            }\r\n        });\r\n\r\n        // 후원 버튼 추가\r\n        GUI.$ul.append( /*html*/ `<li class="GM_setting_category GM_setting_depth1">\r\n        <div class="GM_setting_category_name">${getSystemTextbyLang("donate")}</div>\r\n        <div class="GM_setting_list_head">\r\n            <span class="GM_setting_title">\r\n                ${getSystemTextbyLang("buymeacoffee")}\r\n            </span>\r\n            <span class="GM_setting_desc">\r\n                ${getSystemTextbyLang("buymeacoffeeDesc")}\r\n            </span>\r\n        </div>\r\n        <div class="GM_setting_input_container form-group">\r\n        <a href="https://www.buymeacoffee.com/nomomo" target="_blank"><img src="https://cdn.buymeacoffee.com/buttons/default-yellow.png" alt="Buy Me A Coffee" height="41" width="174"></a>\r\n        </div>\r\n        </li>\r\n    `);\r\n        // footer 추가\r\n        GUI.$ul.after(/*html*/`\r\n        <div id="GM_setting_footer">\r\n            <a href="${(GM.info.script.homepage)}" target="_blank">${(GM.info.script.name)}</a> v${(GM.info.script.version)}\r\n            <div class="footer_divider"></div> <span class="GM_Setting_Debug_Toggle">GM Setting v${version}</span>\r\n            <div class="footer_divider"></div> ©2017-${(new Date()).getFullYear()} <a href="https://nomo.asia/" target="_blank">NOMO</a></div>\r\n        `);\r\n        \r\n\r\n        // Debug Toggle Event\r\n        var GM_Setting_Debug_Toggle_Count = 0;\r\n        var GM_Setting_Debug_Toggle_SetTimeout = undefined;\r\n        GUI.$container.on("click", "span.GM_Setting_Debug_Toggle", async function(){\r\n            clearTimeout(GM_Setting_Debug_Toggle_SetTimeout);\r\n            GM_Setting_Debug_Toggle_Count += 1;\r\n\r\n            if(GM_Setting_Debug_Toggle_Count > 4){\r\n                GM_Setting_Debug_Toggle_Count = 0;\r\n                DEBUG = !DEBUG;\r\n                await GM.setValue("DEBUG", DEBUG);\r\n                message_(`DEBUG MODE : "${DEBUG ? "ON" : "OFF"}"`, $g_elem);\r\n\r\n                \r\n                if (DEBUG) {\r\n                    GUI.$ul.find(".GM_setting_debug").css("opacity", 0).slideDown("fast").animate({\r\n                        opacity: 1\r\n                    }, {\r\n                        queue: false,\r\n                        duration: "fast"\r\n                    });\r\n                } else {\r\n                    GUI.$ul.find(".GM_setting_debug").css("opacity", 1).slideUp("fast").animate({\r\n                        opacity: 0.0\r\n                    }, {\r\n                        queue: false,\r\n                        duration: "fast"\r\n                    });\r\n                }\r\n\r\n                return;\r\n            }\r\n\r\n            GM_Setting_Debug_Toggle_SetTimeout = setTimeout(function(){\r\n                GM_Setting_Debug_Toggle_Count = 0;\r\n            },1000);\r\n        });\r\n    };\r\n    var timeoutId_ = undefined;\r\n    var message_ = function (msg, $elem) {\r\n        if ($elem === undefined) {\r\n            return;\r\n        }\r\n        var prefix = "GM_setting_autosaved";\r\n        $elem.find("." + prefix).animate({ bottom: "+=40px" }, { duration: 300, queue: false }); // cleqrQueue().dequeue().finish().stop("true","true")\r\n        // @keyframes glow {to {text-shadow: 0 0 10px white;box-shadow: 0 0 10px #5cb85c;}}\r\n        $("<div style=\'animation: glow .5s 10 alternate; position:fixed; left:10px; bottom:20px; z-index:10000000;\' class=\'" + prefix + " btn btn-success\'>" + msg + "</div>")\r\n            .appendTo($elem)\r\n            .fadeIn("fast")\r\n            .animate({\r\n                opacity: 1\r\n            }, 6000, function () {\r\n                $(this).fadeOut("fast").delay(600).remove();\r\n            })\r\n            .animate({ left: "+=30px" }, { duration: 300, queue: false });\r\n    };\r\n    var readSub_ = async function (key){\r\n        if(userSettings[key].autosavepass && userSettingsValues[key] !== undefined || userSettingsValues[key].type === "table"){\r\n            return;\r\n        }\r\n        var val = getInputValue_(key);\r\n\r\n        if (userSettings[key].type === "tag") {\r\n            val = val.split(","); // val = val.replace(/\\s/g,"").split(",");\r\n            if (val.length === 1 && val[0] === "") {\r\n                val = [];\r\n            }\r\n            $.each(val, function (index, value) {\r\n                val[index] = value.replace(/^\\s*|\\s*$/g, "");\r\n            });\r\n        }\r\n\r\n        // 이전 설정과 변경된 값 키 체크\r\n        if (userSettingsValues[key] !== val && changed_key.indexOf(key) === -1) {\r\n            changed_key.push(key);\r\n        }\r\n        userSettingsValues[key] = val;\r\n    };\r\n    var read_ = async function (key_specific) {\r\n        CONSOLE_MSG("read_");\r\n        if(key_specific === undefined){\r\n            for (var key in $inputs) {\r\n                await readSub_(key);\r\n            }\r\n        }\r\n        else{\r\n            await readSub_(key_specific);\r\n        }\r\n    };\r\n    /////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\n\r\n    /////////////////////////////////////////////////////////////////////////////////////////////////\r\n    var writeSub_ = function(key){\r\n        writeInputValue_(key, $inputs[key], userSettingsValues[key]);\r\n    };\r\n    var write_ = function (key_specific) {\r\n        CONSOLE_MSG("write_");\r\n        if(key_specific === undefined){\r\n            for (let key in $inputs) {\r\n                writeSub_(key);\r\n            }\r\n        }\r\n        else{\r\n            writeSub_(key_specific);\r\n        }\r\n    };\r\n    \r\n    /////////////////////////////////////////////////////////////////////////////////////////////////\r\n    var getInputValue_ = function (key) {\r\n        var val;\r\n        var $input = $inputs[key];\r\n        var type = userSettings[key].type;\r\n        switch (type) {\r\n        case "checkbox":\r\n            val = $input.prop("checked");\r\n            break;\r\n        case "set": // 현재 text 와 동일\r\n            val = $input.val();\r\n            break;\r\n        case "text":\r\n            val = $input.val();\r\n            break;\r\n        case "tag": // 현재 textarea 와 동일\r\n            val = $input.val();\r\n            break;\r\n        case "object": // 현재 textarea 와 동일\r\n            val = JSON.parse($input.val());\r\n            break;\r\n        case "textarea":\r\n            val = $input.val();\r\n            break;\r\n        case "radio":\r\n            val = $input.find("input:checked").val();\r\n            break;\r\n        case "combobox":\r\n            val = $input.find(\'option:selected\').val();\r\n            break;\r\n        case "table":\r\n            var $tbody = $input.find("tbody");\r\n            val = [];\r\n            var $trs = $tbody.find("tr");\r\n            for(var i=0; i<$trs.length - 1;i++){    // 마지막 라인은 new 에 대한 것이므로 읽지 않음\r\n                val.push([]);\r\n                var $tr = $($trs[i]);\r\n                var $tds = $tr.find("td");\r\n                for(var j=0; j<$tds.length - 2;j++){\r\n                    if(j===0) continue; // index\r\n                    var text = $($tds[j]).text();\r\n                    val[i][j-1] = text;\r\n                }\r\n            }\r\n            break;\r\n        default:\r\n            //CONSOLE_MSG($input);\r\n            val = undefined;\r\n            break;\r\n        }\r\n        return val;\r\n    };\r\n\r\n    /////////////////////////////////////////////////////////////////////////////////////////////////\r\n    var writeInputValue_ = function (key, $input, val) {\r\n        var type = userSettings[key].type;\r\n        switch (type) {\r\n        case "checkbox":\r\n            $input.prop("checked", val).trigger("change");\r\n            break;\r\n        case "set": // 현재 text 와 동일\r\n            $input.val(val);\r\n            break;\r\n        case "text":\r\n            $input.val(val);\r\n            break;\r\n        case "tag": // 현재 textarea 와 동일\r\n            $input.val(val);\r\n            $input.height("auto");\r\n            $input.height(String(Number($input.prop("scrollHeight")) + 0) + "px");\r\n            break;\r\n        case "object": // 현재 textarea 와 동일\r\n            $input.val(JSON.stringify(val));\r\n            $input.height("auto");\r\n            $input.height(String(Number($input.prop("scrollHeight")) + 0) + "px");\r\n            break;\r\n        case "textarea":\r\n            $input.val(val);\r\n            $input.height("auto");\r\n            $input.height(String(Number($input.prop("scrollHeight")) + 0) + "px");\r\n            break;\r\n        case "radio":\r\n            $input.find("input[value=" + val + "]").prop("checked", true);\r\n            break;\r\n        case "combobox":\r\n            $input.find("option[value=" + val + "]").prop("selected", true);\r\n            break;\r\n        case "table":\r\n            var $tbody = $input.find("tbody");\r\n            $tbody.empty();\r\n            for(var i=0;i<val.length;i++){\r\n                var $tr = $(`<tr></tr>`);\r\n                for(var j=0;j<val[i].length;j++){\r\n                    if(j==0){\r\n                        $tr.append(`<td>${i+1}</td>`);\r\n                    }\r\n                    $tr.append(`<td>${val[i][j]}</td>`);\r\n                }\r\n                $tr.append(`<td class="table_btn_container"><span title="Modify" alt="Modify" class="glyphicon glyphicon-pencil cp table_modify" GM_setting_key="${key}"></span><span title="Save" alt="Save" style="display:none;" class="glyphicon glyphicon-floppy-disk cp table_save" GM_setting_key="${key}"></span></td>`);\r\n                $tr.append(`<td class="table_btn_container"><span title="Delete" alt="Delete" class="glyphicon glyphicon-trash cp table_delete" GM_setting_key="${key}"></span><span title="Cancel" alt="Cancel" style="display:none;" class="glyphicon glyphicon-remove cp table_cancel" GM_setting_key="${key}"></span></td>`);\r\n                $tbody.append($tr);\r\n            }\r\n            var $tr_new = $(`<tr></tr>`);\r\n            for(var k=0;k<userSettings[key].head.length;k++){   // index\r\n                if(k==0){\r\n                    $tr_new.append(`<td></td>`);\r\n                }\r\n                $tr_new.append(`<td></td>`);\r\n            }\r\n            $tr_new.append(`<td class="table_btn_container"><span title="New" alt="New" class="glyphicon glyphicon-plus cp table_new" GM_setting_key="${key}"></span><span title="Save" alt="Save" style="display:none;" class="glyphicon glyphicon-floppy-disk cp table_new_save" GM_setting_key="${key}"></span></td>`);\r\n            $tr_new.append(`<td class="table_btn_container"><span title="Cancel" alt="Cancel" style="display:none;" class="glyphicon glyphicon-remove cp table_new_cancel" GM_setting_key="${key}"></span></td>`);\r\n            $tbody.append($tr_new);\r\n            break;\r\n        default:\r\n            break;\r\n        }\r\n    };\r\n\r\n    /////////////////////////////////////////////////////////////////////////////////////////////////\r\n    var usageCheck_ = async function () {\r\n        // 일단 다 켠다.\r\n        var $lis = GUI.$lis;\r\n        for (let curr_key in $lis) {\r\n            let $curr = $($lis[curr_key]);\r\n            $curr.removeClass("GM_setting_item_disable");\r\n            $curr.find("input, textarea, select").prop("disabled", false);\r\n            $curr.find("input[type=\'checkbox\']").trigger("change");\r\n        }\r\n\r\n        var enable = [true, true];\r\n        var $prev = undefined, prevTopRadioVal, prevTopRadioDepth = 1000;\r\n        for (let curr_key in $lis) {\r\n            let $curr = $($lis[curr_key]);\r\n            var curr_depth = userSettings[curr_key].depth;\r\n            var curr_radio_enable_value = userSettings[curr_key].radio_enable_value;\r\n            var curr_type = userSettings[curr_key].type;\r\n\r\n            if ($prev === undefined){\r\n                //\r\n            }\r\n            else {\r\n                var prev_depth = $prev.attr("GM_setting_depth");\r\n                if(prevTopRadioDepth >= curr_depth){\r\n                    prevTopRadioVal = undefined;\r\n                    prevTopRadioDepth = 1000;\r\n                }\r\n\r\n                if (prev_depth == curr_depth && prev_depth > 0){\r\n                    if(prevTopRadioVal !== undefined){\r\n                        if(prevTopRadioVal == curr_radio_enable_value){\r\n                            enable[prev_depth-1] = true;\r\n                        }\r\n                        else{\r\n                            enable[prev_depth-1] = false;\r\n                        }\r\n                    }\r\n                }\r\n                else if (prev_depth < curr_depth) {\r\n                    prevTopRadioVal = undefined;\r\n                    var $prev_checkbox = $prev.find("input[type=\'checkbox\']");\r\n                    var $prev_radio = $prev.find("input[type=\'radio\']");\r\n                    var $prev_combobox = $prev.find("select");\r\n                    // 이전 요소가 체크박스이고, 켜져있으면 현재 요소도 켠다.\r\n                    if ($prev_checkbox.length !== 0 && $prev_checkbox.is(":checked")) {\r\n                        enable[prev_depth] = true;\r\n                    }\r\n                    // 이전 요소가 라디오\r\n                    else if($prev_radio.length !== 0){\r\n                        prevTopRadioVal = $prev.find("input[type=\'radio\']:checked").val();\r\n                        prevTopRadioDepth = prev_depth;\r\n                        //curr_radio_enable_value ||\r\n                        if($prev.find("input[type=\'radio\']:checked").val() == curr_radio_enable_value){\r\n                            enable[prev_depth] = true;\r\n                        }\r\n                        else{\r\n                            enable[prev_depth] = false;\r\n                        }\r\n                    }\r\n                    // 이전 요소가 combobox 이면 일단 전부 켠다.\r\n                    else if($prev_combobox.length !== 0){\r\n                        enable[prev_depth] = true;\r\n                    }\r\n                    else {\r\n                        enable[prev_depth] = false;\r\n                    }\r\n\r\n                    // 이전 요소가 체크박스가 아니면 그냥 켠다.\r\n                    // if($prev_checkbox.length !== 0){\r\n                    //     enable[prev_depth] = true;\r\n                    // }\r\n                }\r\n            }\r\n\r\n            $prev = $curr;\r\n\r\n            for (var e = 0; e < curr_depth; e++) {\r\n                if (userSettings[curr_key].disable || !enable[e]) {\r\n                    $curr.addClass("GM_setting_item_disable");\r\n                    $curr.find("input, textarea, select").prop("disabled", true);\r\n                    $curr.find("input[type=\'checkbox\']").trigger("change");\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    /////////////////////////////////////////////////////////////////////////////////////////////////\r\n    // validation\r\n    var validation_ = function (key, val) {\r\n        var val_array;\r\n        var duplicate;\r\n        var sorted_array;\r\n        var regex_array_string = /^[A-Za-z0-9 _,]*$/;\r\n        //var regex_number = /^[0-9]*$/;\r\n        var valid = true;\r\n        var message = "";\r\n\r\n        // 숫자의 경우\r\n        if (userSettings[key].valid === "number") {\r\n            valid = $.isNumeric(val);\r\n            if (val === "") {\r\n                // "반드시 값이 입력되어야 합니다."\r\n                message += getSystemTextbyLang("err_val_req");\r\n            } else if (!valid) {\r\n                // "숫자만 입력 가능합니다."\r\n                message += getSystemTextbyLang("err_num_req");\r\n            } else {\r\n                if (userSettings[key].min_value !== undefined && userSettings[key].min_value > val) {\r\n                    valid = false;\r\n                    // "입력 값은 다음 값 이상의 숫자이어야 합니다. : "\r\n                    message += getSystemTextbyLang("err_num_over") + userSettings[key].min_value;\r\n                } else if (userSettings[key].max_value !== undefined && userSettings[key].max_value < val) {\r\n                    valid = false;\r\n                    // "입력 값은 다음 값 이하의 숫자이어야 합니다. : "\r\n                    message += getSystemTextbyLang("err_num_not_more_than") + userSettings[key].max_value;\r\n                }\r\n            }\r\n        }\r\n        // array_string - ID 태그\r\n        else if (val !== "" && userSettings[key].valid === "array_string") {\r\n            val_array = $.map(val.split(","), $.trim);\r\n            var match = val.match(regex_array_string);\r\n            //CONSOLE_MSG(match);\r\n            if (match === null || match.length === 0) {\r\n                valid = false;\r\n                // "영문, 숫자, 콤마(,), 언더바(_) 만 입력 가능합니다."\r\n                message += getSystemTextbyLang("err_valid_array_string");\r\n            } else if ($.inArray("", val_array) !== -1) {\r\n                valid = false;\r\n                // "공백 값 등 값이 존재하지 않는 항목이 존재합니다."\r\n                message += getSystemTextbyLang("err_value_empty");\r\n                CONSOLE_MSG(val_array, $.inArray("", val_array));\r\n            } else if ((new Set(val_array)).size !== val_array.length) {\r\n                valid = false;\r\n                duplicate = [];\r\n                sorted_array = val_array.sort();\r\n                for (var i = 0; i < val_array.length - 1; i++) {\r\n                    if (sorted_array[i + 1] == sorted_array[i] && $.inArray(sorted_array[i], duplicate) === -1) {\r\n                        duplicate.push(sorted_array[i]);\r\n                    }\r\n                }\r\n                // "중복된 값이 존재합니다: "\r\n                message += getSystemTextbyLang("err_value_dup") + duplicate.join(",");\r\n            } else {\r\n                for (var j = 0; j < val_array.length; j++) {\r\n                    //CONSOLE_MSG(val_array, val_array[j].indexOf(" "));\r\n                    if (val_array[j].indexOf(" ") !== -1) {\r\n                        valid = false;\r\n                        // "문자열 내 공백이 존재하는 항목이 있습니다: "\r\n                        message += getSystemTextbyLang("err_value_blank") + val_array[j];\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // array_word - 금지단어\r\n        else if (val !== "" && userSettings[key].valid === "array_word") {\r\n            val_array = $.map(val.split(","), $.trim);\r\n            if ($.inArray("", val_array) !== -1) {\r\n                valid = false;\r\n                // "공백 값 등 값이 존재하지 않는 항목이 존재합니다."\r\n                message += getSystemTextbyLang("err_value_empty");\r\n                CONSOLE_MSG(val_array, $.inArray("", val_array));\r\n            } else if ((new Set(val_array)).size !== val_array.length) {\r\n                valid = false;\r\n                duplicate = [];\r\n                sorted_array = val_array.sort();\r\n                for (var k = 0; k < val_array.length - 1; k++) {\r\n                    if (sorted_array[k + 1] == sorted_array[k] && $.inArray(sorted_array[k], duplicate) === -1) {\r\n                        duplicate.push(sorted_array[k]);\r\n                    }\r\n                }\r\n                // "중복된 값이 존재합니다: "\r\n                message += getSystemTextbyLang("err_value_dup") + duplicate.join(",");\r\n            }\r\n        }\r\n\r\n        var return_obj = {\r\n            valid: valid,\r\n            message: message\r\n        };\r\n        return return_obj;\r\n    };\r\n\r\n    //////////////////////\r\n    // validate and save\r\n    var validateAndSave_ = async function($this, $elem, $inputs){\r\n        var this_key = $this.attr("GM_setting_key");\r\n        var val = getInputValue_(this_key);\r\n        var validation = validation_(this_key, val);\r\n        $this.closest("div").find(".invalid_text").remove();\r\n        if (validation.valid) {\r\n            $this.closest("div").removeClass("invalid");\r\n        } else {\r\n            CONSOLE_MSG("validation", validation);\r\n            $this.closest("div").addClass("invalid");\r\n            $this.after("<div class=\'invalid_text\'>" + validation.message + "</div>");\r\n        }\r\n\r\n        clearTimeout(timeoutId_);\r\n        timeoutId_ = setTimeout(async function () {\r\n            // 저장 시도\r\n            // 정상적으로 값이 체크 된 경우\r\n            var g_validation = true;\r\n            $.each($inputs, function (ekey, evalue) {\r\n                var temp = validation_(ekey, getInputValue_(ekey));\r\n                if (!temp.valid) {\r\n                    g_validation = false;\r\n                    return false;\r\n                }\r\n            });\r\n            if (g_validation) {\r\n                await read_();\r\n                save_();\r\n                message_(getSystemTextbyLang("auto_saved") + (new Date()).toLocaleTimeString(), $elem);\r\n            }\r\n        }, 1000);\r\n    };\r\n\r\n    ///////////////////////\r\n    // check if there are same keys in object\r\n    var hasSameKey_ = function (a, b) {\r\n        var aKeys = Object.keys(a).sort();\r\n        var bKeys = Object.keys(b).sort();\r\n        return JSON.stringify(aKeys) === JSON.stringify(bKeys);\r\n    };\r\n\r\n\r\n    //\r\n    //\r\n    /////////////////////////////////////////////////////////////////////////////////////////////////\r\n    // public interface\r\n    /////////////////////////////////////////////////////////////////////////////////////////////////\r\n    return {\r\n        init: async function (name, user_settings) {\r\n            name_ = name;\r\n            await init_(user_settings);\r\n            await event_();\r\n            addStyle_();\r\n        },\r\n        load: async function () {\r\n            CONSOLE_MSG("GM_setting - load");\r\n            await load_();\r\n            //return settings;\r\n        },\r\n        save: async function () {\r\n            CONSOLE_MSG("GM_setting - save");\r\n            await save_();\r\n        },\r\n        save_overwrite: async function () {\r\n            // old_value: obj,       ekey:키, evalue:값(old 설정값)\r\n            var old_value = userSettingsValues;\r\n            var new_value = global[name_];\r\n            CONSOLE_MSG("_settings", userSettings);\r\n            $.each(old_value, function (ekey, _evalue) {\r\n                if (userSettings[ekey] !== undefined && userSettings[ekey].change !== undefined && old_value[ekey] !== new_value[ekey]) {\r\n                    userSettings[ekey].change(new_value[ekey]);\r\n                }\r\n            });\r\n            userSettingsValues = global[name_];\r\n            CONSOLE_MSG("GM_setting - save_overwrite");\r\n            await save_();\r\n        },\r\n        // update: async function (key, value) {\r\n        //     settings[key] = global[name_][key]\r\n        // },\r\n        reset: async function () {\r\n            await GM.setValue(name_, userSettingsInitCopy);\r\n            await load_();\r\n        },\r\n        createlayout: function (elem) {\r\n            latestCreatedLayout = elem;\r\n            createlayout_(elem);\r\n        },\r\n        getType: function (key) {\r\n            if (userSettings[key] !== undefined) {\r\n                return userSettings[key].type;\r\n            } else {\r\n                return undefined;\r\n            }\r\n        },\r\n        message: function (msg, $elem) {\r\n            message_(msg, $elem);\r\n        }\r\n    };\r\n})(jQuery, window, document);\r\n\r\n// escapeHTML\r\nconst entityMap = { \'&\': \'&amp;\', \'<\': \'&lt;\', \'>\': \'&gt;\', \'"\': \'&quot;\', "\'": \'&#39;\', \'/\': \'&#x2F;\', \'`\': \'&#x60;\', \'=\': \'&#x3D;\' };\r\nvar escapeHtml = function(string) { return String(string).replace(/[&<>"\'`=/]/g, function (s) { return entityMap[s]; }); };\r\n\r\nfunction isNumeric(n) {\r\n    return !isNaN(parseFloat(n)) && isFinite(n);\r\n}\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./src/js/lib.js?')},"./src/js/page/page_aftv_embed.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "PageAFTV": () => (/* binding */ PageAFTV),\n/* harmony export */   "default": () => (/* binding */ PAGE_AFTV_EMBED)\n/* harmony export */ });\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ "./src/js/lib.js");\n/* harmony import */ var js_page_page_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! js/page/page_common.js */ "./src/js/page/page_common.js");\n\r\n\r\n\r\nfunction PAGE_AFTV_EMBED(){\r\n    (0,_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("== PAGE_AFTV_EMBED ==");\r\n\r\n    // get info\r\n    var match = document.location.href.match(/^https?:\\/\\/vod\\.afreecatv.com\\/player\\/(\\d+)\\??(change_second=\\d+)?/);\r\n    if(match === null) return;\r\n    let id = match[1];\r\n    let start = 0;\r\n    if(match[2] !== undefined) {\r\n        start = match[2].replace("change_second=", "");\r\n    }\r\n\r\n    let url = new URL(document.location.href);\r\n    let urlParam = new URLSearchParams(url.search);\r\n\r\n    let page = new PageAFTV({\r\n        type: GLOBAL.AFTV_VOD,\r\n        id:id,\r\n        start:start,\r\n        seq:urlParam.get("seq")\r\n    });\r\n}\r\n\r\nclass PageAFTV extends js_page_page_common_js__WEBPACK_IMPORTED_MODULE_1__.PageBase {\r\n    constructor(options){\r\n        options.typeName = "AFTV_VOD";\r\n        super(options);\r\n        (0,_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("new PageNaver", options);\r\n\r\n        this.elemBtnPlay = "#btnPlayPause";\r\n        this.elemBtnPause = "#btnPlayPause";\r\n\r\n        this.mouseleaveSetTimeout = undefined;  // 레이아웃 빠르게 숨기기용\r\n\r\n        let that = this;\r\n\r\n        // add style\r\n        GM_addStyle(`#afreecatv_player .player_ctrlBox .volume.bar_show_always .volume_slider {\r\n            margin-left: 0px;\r\n            opacity: 1;\r\n            -moz-opacity: 1;\r\n            filter: alpha(opacity=100)\r\n        }\r\n        `);\r\n\r\n        // hidePauseOverlay\r\n        if(GM_SETTINGS.hidePauseOverlay){\r\n            GM_addStyle(`#embed_recommend {display:none !important;}`);\r\n        }\r\n        \r\n        // hideEndOverlay\r\n        if(GM_SETTINGS.hideEndOverlay){\r\n            $(document).arrive("#after_recommend button.cancel", { onlyOnce: true, existing: true }, function (elem) {\r\n                var $elem = $(elem);\r\n                if(!$elem.is(\':visible\')) return;\r\n        \r\n                (0,_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("CANCEL after recommend");\r\n                $(elem).trigger("click");\r\n                $("#after_recommend").remove();\r\n            });\r\n            GM_addStyle(`.recommend_broadcast{opacity:0;}`);\r\n            $(document).on("click", ".recommend_broadcast", function(){\r\n                (0,_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)(".recommend_broadcast clicked");\r\n                var $btn_refresh = $("button.btn_refresh");\r\n                if($btn_refresh.length !== 0 && that.video.paused && that.video.ended){\r\n                    $btn_refresh.trigger("click");\r\n                }\r\n            });\r\n        }\r\n\r\n        // aftvBeautifier\r\n        if(GM_SETTINGS.aftvBeautifier){\r\n            GM_addStyle(`/*play and pause 시 하단바가 움직이는 것을 개선한다*/\r\n            #afreecatv_player .player_ctrlBox .play{\r\n                margin-bottom:0px !important;\r\n            }\r\n        \r\n            /*플레이어 상단 메뉴를 조금 더 투명하고 컴팩트하게 만든다*/\r\n            #player_info .title h1 a{\r\n                font-size:18px !important;\r\n            }\r\n            #player_info{\r\n                min-height: 60px !important;\r\n                linear-gradient(to bottom, rgba(0,0,0,0.6), rgba(0,0,0,0.4), rgba(0,0,0,0.1), transparent) !important;\r\n            }\r\n            #player_info .bj_thumbnail, #player_info .bj_thumbnail img{\r\n                width:40px !important;\r\n                height:40px !important;\r\n            }\r\n        \r\n            /*재생바 투명도*/\r\n            #afreecatv_player .progress{\r\n                padding:7px 0 !important; /* mouse on 시 재생바 커지는 것 방지 */\r\n            }\r\n            #afreecatv_player .progress .progress_track{\r\n                height:3px !important; /* mouse on 시 재생바 커지는 것 방지 */\r\n            }\r\n            #afreecatv_player .progress .progress_track .watched{\r\n                background-color: rgba(44, 198, 255, 0.7) !important;\r\n            }\r\n            #afreecatv_player .progress .progress_track .handler{\r\n                opacity:0.7 !important;\r\n            }\r\n            #afreecatv_player .progress .progress_track{\r\n                background-color: rgba(0.6, 0.6, 0.6, 0.3) !important;\r\n            }\r\n        \r\n            /*volume slider 투명도*/\r\n            .volume_slider_wrap{\r\n                opacity:0.9;\r\n            }\r\n        \r\n            /*모두가 afreeca clip 인 것을 알기 때문에 숨긴다.*/\r\n            /*#btn_afreecatv_link {\r\n                display:none !important;\r\n            }*/\r\n            .watermark {\r\n                display:none !important;\r\n            }\r\n            `);\r\n\r\n            // 레이아웃을 빠르게 숨긴다\r\n            $(document).on("mouseover", "#webplayer", function(){\r\n                clearTimeout(that.mouseleaveSetTimeout);\r\n            });\r\n            $(document).on("mouseout", "#webplayer", function(){\r\n                that.mouseleaveSetTimeout = setTimeout(function(){\r\n                    $(".mouseover").removeClass("mouseover");\r\n                },100);\r\n            });\r\n        }\r\n\r\n        // something special\r\n        let ss = true;\r\n        if(ss){\r\n            try{\r\n                $(document).ready(function(){\r\n                    unsafeWindow.oriAjax = unsafeWindow.$.ajax;\r\n                    unsafeWindow.$.ajax = function(){\r\n                        //NOMO_DEBUG("arguments", arguments);\r\n                        if(arguments[0].url.indexOf("https://reqde.afreecatv.com") === -1){\r\n                            unsafeWindow.oriAjax.apply(this, arguments);\r\n                        }\r\n                        else{\r\n                            //arguments[0].success(JSON.stringify({"type":"no-ad","exist":false}));\r\n                            arguments[0].error({status:1},"","");\r\n                        }\r\n                        \r\n                    };\r\n                });\r\n            }\r\n            catch(e){\r\n                (0,_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("error from monga...monga...", e);\r\n            }\r\n        }\r\n\r\n        // set_volume_when_stream_starts\r\n        if(GM_SETTINGS.set_volume_when_stream_starts){\r\n            try{\r\n                localStorage.setItem(\'volume\', GM_SETTINGS.target_start_volume);\r\n        \r\n                if(GM_SETTINGS.target_start_volume !== 0){\r\n                    localStorage.setItem(\'muted\', {default:Number(false)});\r\n                }\r\n            }\r\n            catch(e){\r\n                (0,_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("Error from set_volume_when_stream_starts");\r\n            }\r\n        }\r\n\r\n        // alwaysShowVolumeController\r\n        if(GM_SETTINGS.alwaysShowVolumeController){\r\n            GM_addStyle(`\r\n            body #afreecatv_player .player_ctrlBox .volume_slider_wrap .volume_slider {\r\n                margin-left: 0px;\r\n                opacity: 1;\r\n                -moz-opacity: 1;\r\n                filter: alpha(opacity=100);\r\n            }\r\n            `);\r\n        }\r\n\r\n        // aftvAutoMaxQuality\r\n        if(GM_SETTINGS.aftvAutoMaxQuality){\r\n            $(document).arrive("button[data-qualityname=\'original\']", { onlyOnce: true, existing: true }, function (elem) {\r\n                var $elem = $(elem);\r\n                if($elem.hasClass("on")) return;\r\n\r\n                (0,_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("SET AFTV VIDEO SOURCE QUALITY");\r\n                $(elem).trigger("click");\r\n            });\r\n        }\r\n\r\n    }\r\n    \r\n    // play(){\r\n    //     if(this.video && this.video.paused){\r\n    //         $("#btnPlayPause").trigger("click");\r\n    //     }\r\n    // }\r\n    // pause(){\r\n    //     if(this.video && !this.video.paused){\r\n    //         $("#btnPlayPause").trigger("click");\r\n    //     }\r\n    // }\r\n\r\n    onFirstPlay(){\r\n        super.onFirstPlay();\r\n        \r\n        // hideTopOverlay\r\n        if(GM_SETTINGS.hideTopOverlay){\r\n            GM_addStyle(`\r\n                #player_info {display:none !important}\r\n            `);\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./src/js/page/page_aftv_embed.js?')},"./src/js/page/page_cafe_common.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "PAGE_CAFE_COMMON_INIT": () => (/* binding */ PAGE_CAFE_COMMON_INIT)\n/* harmony export */ });\n/* harmony import */ var js_theater__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js/theater */ "./src/js/theater.js");\n/* harmony import */ var js_dark__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! js/dark */ "./src/js/dark.js");\n\r\n\r\n\r\n// improvedRefresh\r\nfunction improvedRefresh(){\r\n    try{\r\n        // cafe main\r\n        if(window.self !== window.top){\r\n            if(unsafeWindow.top.refreshChecked){\r\n                NOMO_DEBUG("이미 refresh 여부가 체크되었다.");\r\n                return;\r\n            }\r\n\r\n            // condition 0 : refresh 됨\r\n            const parentWindowRefreshed = String(window.top.performance.getEntriesByType("navigation")[0].type) === "reload";\r\n            NOMO_DEBUG("PARENT REFRESHED? = ", parentWindowRefreshed, "CURRENT URL = ", document.location.href);\r\n            unsafeWindow.parent.refreshChecked = true;\r\n            if(!parentWindowRefreshed){\r\n                return;\r\n            }\r\n\r\n            // load saved json\r\n            var savedLastCafeMainUrl = {url_top:undefined, url_main:undefined, date:-1};\r\n            try{\r\n                let savedLSLSCMU = localStorage.getItem(\'lastCafeMainUrl\');\r\n                if(savedLSLSCMU === null){\r\n                    NOMO_DEBUG("savedLSLSCMU = null");\r\n                    return;\r\n                }\r\n                savedLastCafeMainUrl = JSON.parse(savedLSLSCMU);\r\n            }\r\n            catch(e){\r\n                NOMO_DEBUG("Error from improvedRefresh JSON.parse", e);\r\n                return;\r\n            }\r\n\r\n            // condition 1 : top url 이 같음\r\n            if(parent.location.href !== savedLastCafeMainUrl.url_top){\r\n                NOMO_DEBUG("저장된 url 과 현재 url 이 같지 않다", parent.location.href, savedLastCafeMainUrl.url_top);\r\n                return;\r\n            }\r\n\r\n            // condition 2 : main url 이 이전과 다름\r\n            NOMO_DEBUG("savedLastCafeMainUrl", savedLastCafeMainUrl);\r\n            if(document.location.href === savedLastCafeMainUrl.url_main){\r\n                NOMO_DEBUG("저장된 url_main 과 현재 url_main 이 같다", savedLastCafeMainUrl.url_main);\r\n                return;\r\n            }\r\n\r\n            // condition 3 : 예외 목록에 있지 않음\r\n            let except = ["https://cafe.naver.com/MyCafeListGNBView.nhn"];\r\n            for(let i=0;i<except.length;i++){\r\n                if(document.location.href.indexOf(except[i]) !== -1){\r\n                    NOMO_DEBUG("예외 목록에 포함된 URL", except[i], document.location.href);\r\n                    return;\r\n                }\r\n            }\r\n\r\n            // condition 4 : refresh 한 후 x초 이내\r\n            let refreshDelay = Number(new Date()) - savedLastCafeMainUrl.date;\r\n            if(refreshDelay < 3000.0){\r\n                NOMO_DEBUG("LOAD SAVED IFRAME URL. CURRRENT URL = ", document.location.href, ", SAVED URL = ", savedLastCafeMainUrl.url_main, ", REFRESHDELAY = ", refreshDelay);\r\n                document.location.href = savedLastCafeMainUrl.url_main;\r\n            }\r\n            else{\r\n                NOMO_DEBUG("refresh delay 초과, REFRESHDELAY = ", refreshDelay);\r\n            }\r\n        }\r\n        \r\n        // top\r\n        if(window.self === window.top){\r\n            window.onbeforeunload = function() {\r\n                let $cafeMain = $("#cafe_main");\r\n                if($cafeMain.length !== 0){\r\n                    var lastCafeMainUrl = $cafeMain[0].contentWindow.location.href;\r\n                    localStorage.setItem(\'lastCafeMainUrl\', JSON.stringify({\r\n                        "url_top":document.location.href,\r\n                        "url_main":lastCafeMainUrl,\r\n                        "date":Number(new Date())\r\n                    }));\r\n                }\r\n            };\r\n        }\r\n    }\r\n    catch(e){\r\n        NOMO_DEBUG("Error from improvedRefresh", e);\r\n    }\r\n}\r\n\r\nfunction PAGE_CAFE_COMMON_INIT(){\r\n    if(GM_SETTINGS.improvedRefresh){\r\n        improvedRefresh();\r\n    }\r\n\r\n    // theaterMode & theme\r\n    try{\r\n        (0,js_theater__WEBPACK_IMPORTED_MODULE_0__.THEATER_INIT)();\r\n        (0,js_dark__WEBPACK_IMPORTED_MODULE_1__.DARKMODE_INIT)();\r\n\r\n    }\r\n    catch(e){\r\n        NOMO_DEBUG("Error from theaterMode", e);\r\n    }\r\n\r\n}\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./src/js/page/page_cafe_common.js?')},"./src/js/page/page_cafe_main.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "PAGE_CAFE_MAIN": () => (/* binding */ PAGE_CAFE_MAIN)\n/* harmony export */ });\n/* harmony import */ var css_cafe_main_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! css/cafe_main.css */ "./src/css/cafe_main.css");\n/* harmony import */ var css_cafe_main_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(css_cafe_main_css__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var js_lib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! js/lib */ "./src/js/lib.js");\n/* harmony import */ var js_video_video_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! js/video/video_common */ "./src/js/video/video_common.js");\n/* harmony import */ var js_video_video_youtube_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! js/video/video_youtube.js */ "./src/js/video/video_youtube.js");\n/* harmony import */ var js_video_video_naver_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! js/video/video_naver.js */ "./src/js/video/video_naver.js");\n/* harmony import */ var js_video_video_streamable_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! js/video/video_streamable.js */ "./src/js/video/video_streamable.js");\n/* harmony import */ var js_video_video_aftv_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! js/video/video_aftv.js */ "./src/js/video/video_aftv.js");\n/* harmony import */ var js_video_video_Twitch_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! js/video/video_Twitch.js */ "./src/js/video/video_Twitch.js");\n/* harmony import */ var js_video_video_kakao_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! js/video/video_kakao.js */ "./src/js/video/video_kakao.js");\n/* harmony import */ var js_video_video_gfycat_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! js/video/video_gfycat.js */ "./src/js/video/video_gfycat.js");\n/* harmony import */ var js_video_video_tiktok_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! js/video/video_tiktok.js */ "./src/js/video/video_tiktok.js");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nasync function PAGE_CAFE_MAIN(){\r\n    // add dns-prefetch and preconnect header\r\n    $("head").append(`\r\n        <link rel="dns-prefetch" href="https://gql.twitch.tv/">\r\n        <link rel="dns-prefetch" href="https://clips.twitch.tv/">\r\n        <link rel="dns-prefetch" href="https://static.twitchcdn.net/">\r\n        <link rel="dns-prefetch" href="https://production.assets.clips.twitchcdn.net/">\r\n        <link rel="preconnect" href="https://clips.twitch.tv/">\r\n        <link rel="preconnect" href="https://gql.twitch.tv/">\r\n        <link rel="preconnect" href="https://static.twitchcdn.net/">\r\n        <link rel="preconnect" href="https://production.assets.clips.twitchcdn.net/">\r\n    `);\r\n\r\n    // add style\r\n    GM_addStyle(css_cafe_main_css__WEBPACK_IMPORTED_MODULE_0___default().toString());\r\n\r\n    js_video_video_common__WEBPACK_IMPORTED_MODULE_2__.VideoBase.init();\r\n    \r\n    if(GM_SETTINGS.useYoutube){\r\n        js_video_video_youtube_js__WEBPACK_IMPORTED_MODULE_3__.VideoYoutube.init();    // insert YT script\r\n    }\r\n\r\n    if(GM_SETTINGS.useNaver){\r\n        js_video_video_naver_js__WEBPACK_IMPORTED_MODULE_4__.VideoNaver.init();      // bind Naver player reload event\r\n    }\r\n\r\n    // 설명란 링크 좌클릭 시 현재 재생 중인 비디오 모두 정지\r\n    $(document).on("click", "a.NCCL_description", function(){\r\n        js_video_video_common__WEBPACK_IMPORTED_MODULE_2__.VideoBase.stopAll();\r\n    });\r\n\r\n    let regexs = {};\r\n    if(GM_SETTINGS.useTwitch){\r\n        regexs[GLOBAL.TWITCH_CLIP] = /^https?:\\/\\/(?:clips\\.twitch\\.tv\\/|www\\.twitch.tv\\/[a-zA-Z0-9-_]+\\/clip\\/)([a-zA-Z0-9-_]+)/i;\r\n        regexs[GLOBAL.TWITCH_VOD] = /(?:^https?:\\/\\/www\\.twitch.tv\\/videos\\/(\\d+)\\??(t=[hms0-9]+)?|^https?:\\/\\/www\\.twitch.tv\\/.+\\/v\\/(\\d+)\\??[a-zA-Z0-9=-_]*(&t=[hms0-9]+)?)/i;\r\n    }\r\n    if(GM_SETTINGS.useYoutube && GM_SETTINGS.youtubeClipConvert){\r\n        regexs[GLOBAL.YOUTUBE_CLIP] = /^https?:\\/\\/(?:www\\.)?youtube\\.com\\/clip\\/([a-zA-Z0-9-_]+)/i;\r\n    }\r\n    if(GM_SETTINGS.useStreamable){\r\n        regexs[GLOBAL.STREAMABLE] = /^https?:\\/\\/streamable\\.com\\/(?:e\\/)?([a-zA-Z0-9-_]+)/i;\r\n    }\r\n    if(GM_SETTINGS.useAftv){\r\n        regexs[GLOBAL.AFTV_VOD] = /^https?:\\/\\/vod\\.afreecatv.com\\/player\\/(\\d+)\\??(change_second=\\d+)?/i;\r\n    }\r\n    if(GM_SETTINGS.useClippy){\r\n        regexs[GLOBAL.CLIPPY] = /^https?:\\/\\/clippy\\.kr\\/clip\\/([a-zA-Z0-9-_]+)/i;\r\n    }\r\n    if(GM_SETTINGS.useKakao){\r\n        regexs[GLOBAL.KAKAO_VID] = /^https?:\\/\\/tv\\.kakao\\.com\\/v\\/(\\d+)/i;\r\n    }\r\n    if(GM_SETTINGS.useDailymotion){\r\n        // https://www.dailymotion.com/video/x8gkiho\r\n        // https://dai.ly/xxxxxxx\r\n        regexs[GLOBAL.DAILYMOTION] = /^https?:\\/\\/(?:www\\.dailymotion\\.com\\/video|dai\\.ly)\\/([a-zA-Z0-9-_]+)/i;\r\n    }\r\n    if(GM_SETTINGS.useGfycat){\r\n        // https://gfycat.com/handydemandingindianhare\r\n        // https://gfycat.com/ko/xxxxxxxxxxxxxxxxxxxxxxxxxxxxx\r\n        regexs[GLOBAL.GFYCAT] = /^https?:\\/\\/gfycat\\.com\\/(?:[a-zA-Z]{1,3}\\/)?([a-zA-Z0-9]+)/i;\r\n    }\r\n    if(GM_SETTINGS.useTiktok){\r\n        regexs[GLOBAL.TIKTOK] = /https:\\/\\/www\\.tiktok.com\\/[-A-Z0-9+&@#/%=~_|^ㄱ-ㅎㅏ-ㅣ가-힣]+\\/video\\/(\\d+)/i;\r\n    }\r\n\r\n    //$(document).arrive(".se-module-oembed iframe, .se-module-oglink, .se-module-video", { onlyOnce: true, existing: true }, function (elem) {try{\r\n    $(document).arrive(".__se_module_data", { onlyOnce: true, existing: true }, function (elem) {try{\r\n        let $elem = $(elem);\r\n        if($elem.hasClass("fired")) return;\r\n        $elem.addClass("fired");\r\n\r\n        // let $seComponent = $elem.closest(".se-component");\r\n        // let $moduleData = $seComponent.find(".__se_module_data");\r\n        let $seComponent = $elem.closest(".se-component");\r\n        let $moduleData = $elem;\r\n\r\n        let obj;\r\n        if($moduleData.length !== 0){\r\n            obj = JSON.parse($moduleData.get(0).dataset.module);\r\n        }\r\n        if(!obj || !obj.data) return false;\r\n\r\n        (0,js_lib__WEBPACK_IMPORTED_MODULE_1__.NOMO_DEBUG)("obj", obj);\r\n\r\n        \r\n        let autoPlay = false;\r\n        let muted = false;\r\n\r\n        // check autoplay\r\n        if(GM_SETTINGS.convertMethod === "autoLoad" && GM_SETTINGS.autoPlayFirstClip && js_video_video_common__WEBPACK_IMPORTED_MODULE_2__.VideoBase.nvideos === 0){\r\n            autoPlay = true;\r\n        }\r\n        else if(GM_SETTINGS.convertMethod === "clickRequired" && GM_SETTINGS.clickRequiredAutoPlay){\r\n            autoPlay = true;\r\n        }\r\n\r\n        // check muted\r\n        if(GM_SETTINGS.convertMethod === "autoLoad" && GM_SETTINGS.autoPlayFirstClip && GM_SETTINGS.autoPlayFirstClipMuted && js_video_video_common__WEBPACK_IMPORTED_MODULE_2__.VideoBase.nvideos === 0){\r\n            muted = true;\r\n        }\r\n        else if(GM_SETTINGS.set_volume_when_stream_starts && GM_SETTINGS.target_start_volume === 0.0){\r\n            muted = true;\r\n        }\r\n\r\n        if(obj.type.indexOf("oglink") !== -1){\r\n\r\n            if(!obj.data.link) return;\r\n            \r\n            let src = obj.data.link;\r\n            let title = (0,js_lib__WEBPACK_IMPORTED_MODULE_1__.escapeHtml)($seComponent.find(".se-oglink-title").text());\r\n            let desc = (0,js_lib__WEBPACK_IMPORTED_MODULE_1__.escapeHtml)($seComponent.find(".se-oglink-summary").text());\r\n\r\n            var matchRes = {"found":false, "type": null, "res": null };\r\n            for(var key in regexs){\r\n                var match = src.match(regexs[key]);\r\n                if(match !== null) {\r\n                    matchRes = {"found": true, "type": Number(key), "res": match };\r\n                    break;\r\n                }\r\n            }\r\n            if(!matchRes.found) return;\r\n            (0,js_lib__WEBPACK_IMPORTED_MODULE_1__.NOMO_DEBUG)("matchRes", matchRes);\r\n\r\n            // let url = new URL(src);\r\n            // let urlParam = new URLSearchParams(url.search);\r\n\r\n            switch(matchRes.type){    \r\n            default:\r\n                (0,js_lib__WEBPACK_IMPORTED_MODULE_1__.NOMO_DEBUG)("CANNOT FOUND TYPE", matchRes.type);\r\n                return;\r\n                \r\n            case GLOBAL.TWITCH_CLIP:{\r\n                let vid = new js_video_video_Twitch_js__WEBPACK_IMPORTED_MODULE_7__.VideoTwitch({\r\n                    id:match[1],\r\n                    type:GLOBAL.TWITCH_CLIP,\r\n                    typeName:"TWITCH_CLIP",\r\n                    originalUrl:src,\r\n                    url:src,\r\n                    title:title,\r\n                    desc:desc,\r\n                    view:null,\r\n                    origin:document.location.origin,\r\n                    thumbnailUrl: obj.data.thumbnail,\r\n                    autoPlay:autoPlay,\r\n                    muted:muted\r\n                    //thumbnailUrl: `https://thumbs-east.streamable.com/image/${match[1]}.jpg`\r\n                });\r\n                vid.createIframeContainer($seComponent);\r\n                break;\r\n            }\r\n\r\n            case GLOBAL.TWITCH_VOD:{\r\n                let id, vodurl, option_ori="", option = "";\r\n                if(match[1] !== undefined && match[3] === undefined){\r\n                    id = match[1];\r\n                    option_ori = (match[2] ? match[2].replace("?","").replace("&","") : "");\r\n                }\r\n                else if(match[1] === undefined && match[3] !== undefined){\r\n                    id = match[3];\r\n                    option_ori = (match[4] ? match[4].replace("?","").replace("&","") : "");\r\n                }\r\n                else{\r\n                    return;\r\n                }\r\n\r\n                if(option_ori){\r\n                    vodurl = `https://www.twitch.tv/videos/${id}?${option_ori}`;\r\n                    option = "&"+option_ori;\r\n                }\r\n                else{\r\n                    vodurl = `https://www.twitch.tv/videos/${id}`;\r\n                }\r\n                \r\n                let vid = new js_video_video_Twitch_js__WEBPACK_IMPORTED_MODULE_7__.VideoTwitch({\r\n                    id:id,\r\n                    type:GLOBAL.TWITCH_VOD,\r\n                    typeName:"TWITCH_VOD",\r\n                    originalUrl:src,\r\n                    url:vodurl,\r\n                    option:option,\r\n                    title:title,\r\n                    desc:desc,\r\n                    view:null,\r\n                    origin:document.location.origin,\r\n                    thumbnailUrl: obj.data.thumbnail,\r\n                    autoPlay:autoPlay,\r\n                    muted:muted\r\n                });\r\n                vid.createIframeContainer($seComponent);\r\n                break;\r\n            }\r\n\r\n            case GLOBAL.YOUTUBE_CLIP: {\r\n                let vid = new js_video_video_youtube_js__WEBPACK_IMPORTED_MODULE_3__.VideoYoutube({\r\n                    id:match[1],\r\n                    type:GLOBAL.YOUTUBE_CLIP,\r\n                    originalUrl:src,\r\n                    url:src,\r\n                    title:title,\r\n                    desc:desc,\r\n                    view:null,\r\n                    origin:document.location.origin,\r\n                    thumbnailUrl: obj.data.thumbnail,\r\n                    autoPlay:autoPlay,\r\n                    muted:muted\r\n                });\r\n                vid.createIframeContainer($seComponent);\r\n                break;\r\n            }\r\n\r\n            case GLOBAL.STREAMABLE:{\r\n                let vid = new js_video_video_streamable_js__WEBPACK_IMPORTED_MODULE_5__.VideoStreamable({\r\n                    id:match[1],\r\n                    originalUrl:src,\r\n                    url:src,\r\n                    title:title,\r\n                    desc:desc,\r\n                    view:null,\r\n                    origin:document.location.origin,\r\n                    thumbnailUrl: obj.data.thumbnail,\r\n                    autoPlay:autoPlay,\r\n                    muted:muted\r\n                    //thumbnailUrl: `https://thumbs-east.streamable.com/image/${match[1]}.jpg`\r\n                });\r\n                vid.createIframeContainer($seComponent);\r\n                break;\r\n            }\r\n\r\n            case GLOBAL.AFTV_VOD:{\r\n                let id = match[1];\r\n                let start = undefined;\r\n                let vodurl = `https://vod.afreecatv.com/player/${id}`;\r\n                if(match[2] !== undefined){\r\n                    start = Number(match[2].replace("change_second=",""));\r\n                    vodurl += "?" + match[2];\r\n                }\r\n                //let change_second = urlParam.get("change_second");\r\n                let vid = new js_video_video_aftv_js__WEBPACK_IMPORTED_MODULE_6__.VideoAFTV({\r\n                    id:match[1],\r\n                    originalUrl:src,\r\n                    url:vodurl,\r\n                    title:title,\r\n                    desc:desc,\r\n                    view:null,\r\n                    origin:document.location.origin,\r\n                    thumbnailUrl: obj.data.thumbnail,\r\n                    autoPlay:autoPlay,\r\n                    muted:muted,\r\n                    start:start\r\n                });\r\n                vid.createIframeContainer($seComponent);\r\n                break;\r\n            }\r\n\r\n            case GLOBAL.CLIPPY:{\r\n                let vid = new js_video_video_common__WEBPACK_IMPORTED_MODULE_2__.VideoBase({\r\n                    logoSVG:`<svg width="18px" height="18px" viewBox="0 0 25 40" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.5 40C5.54688 40 0 34.4531 0 27.5V9.21875C0 4.14062 4.0625 0 9.21875 0C14.2969 0 18.4375 4.14062 18.4375 9.21875V25.625C18.4375 28.9062 15.7031 31.5625 12.5 31.5625C9.21875 31.5625 6.5625 28.9062 6.5625 25.625V12.5C6.5625 11.3281 7.5 10.3125 8.75 10.3125C9.92188 10.3125 10.9375 11.3281 10.9375 12.5V25.625C10.9375 26.5625 11.5625 27.1875 12.5 27.1875C13.3594 27.1875 14.0625 26.5625 14.0625 25.625V9.21875C14.0625 6.5625 11.875 4.375 9.21875 4.375C6.48438 4.375 4.375 6.5625 4.375 9.21875V27.5C4.375 32.0312 7.96875 35.625 12.5 35.625C16.9531 35.625 20.625 32.0312 20.625 27.5V12.5C20.625 11.3281 21.5625 10.3125 22.8125 10.3125C23.9844 10.3125 25 11.3281 25 12.5V27.5C25 34.4531 19.375 40 12.5 40Z" fill="black"></path></svg>`,\r\n                    id:match[1],\r\n                    type:GLOBAL.CLIPPY,\r\n                    typeName:"CLIPPY",\r\n                    originalUrl:src,\r\n                    url:src,\r\n                    // clippy 의 경우 iframe 내에 cloudflarestream 에 대한 iframe 이 다시 한 번 삽입됨\r\n                    //iframeUrl:`https://clippy.kr/clip/${match[1]}/embed?parent=cafe.naver.com&extension=NCCL`,\r\n                    iframeUrl:`https://clippy.kr/clip/${match[1]}/embed`,\r\n                    title:title,\r\n                    desc:desc,\r\n                    view:null,\r\n                    origin:document.location.origin,\r\n                    thumbnailUrl: obj.data.thumbnail,\r\n                    autoPlay:autoPlay,\r\n                    muted:muted\r\n                });\r\n                vid.createIframeContainer($seComponent);\r\n                break;\r\n            }\r\n\r\n            case GLOBAL.KAKAO_VID:{\r\n                let vid = new js_video_video_kakao_js__WEBPACK_IMPORTED_MODULE_8__.VideoKakao({\r\n                    id:match[1],\r\n                    originalUrl:src,\r\n                    url:src,\r\n                    title:title,\r\n                    desc:desc,\r\n                    view:null,\r\n                    origin:document.location.origin,\r\n                    thumbnailUrl: obj.data.thumbnail,\r\n                    autoPlay:autoPlay,\r\n                    muted:muted\r\n                });\r\n                vid.createIframeContainer($seComponent);\r\n                break;\r\n            }\r\n\r\n            case GLOBAL.DAILYMOTION:{\r\n                let vid = new js_video_video_common__WEBPACK_IMPORTED_MODULE_2__.VideoBase({\r\n                    logoSVG:`\r\n                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="-119 243.5 64 64" width="18px" height="18px"><path d="M-59.745 307.5h-54.5a4.755 4.755 0 0 1-4.745-4.745v-54.5a4.755 4.755 0 0 1 4.745-4.745h54.5A4.755 4.755 0 0 1-55 248.245v54.5a4.77 4.77 0 0 1-4.745 4.745z" fill="#2a62aa"/><path d="M-67.123 249.854v50.937h-10.785v-3.9c-2.842 2.76-6.667 4.264-11.14 4.264-9.782 0-17.83-8.34-17.83-18.8s8.612-18.916 17.83-18.916c4.473 0 8.298 1.588 11.14 4.4v-15.823zm-19.48 41.406a9.1 9.1 0 0 0 9.092-9.092 9.1 9.1 0 0 0-9.092-9.093 9.1 9.1 0 0 0-9.092 9.093 9.1 9.1 0 0 0 9.092 9.092z" fill="#fff"/></svg>`,\r\n                    id:match[1],\r\n                    type:GLOBAL.DAILYMOTION,\r\n                    typeName:"DAILYMOTION",\r\n                    originalUrl:src,\r\n                    url:src,\r\n                    iframeUrl:`https://www.dailymotion.com/embed/video/${match[1]}?parent=cafe.naver.com&extension=NCCL&seq=undefined&autoplay=${autoPlay?"1":"0"}&muted=${muted?"1":"0"}`,\r\n                    title:title,\r\n                    desc:desc,\r\n                    view:null,\r\n                    origin:document.location.origin,\r\n                    thumbnailUrl: obj.data.thumbnail,\r\n                    autoPlay:autoPlay,\r\n                    muted:muted\r\n                });\r\n                vid.createIframeContainer($seComponent);\r\n                break;\r\n            }\r\n\r\n            case GLOBAL.GFYCAT:{\r\n                let vid = new js_video_video_gfycat_js__WEBPACK_IMPORTED_MODULE_9__.VideoGfycat({\r\n                    id:match[1],\r\n                    originalUrl:src,\r\n                    url:"https://gfycat.com/"+match[1],\r\n                    title:title,\r\n                    desc:desc,\r\n                    view:null,\r\n                    origin:document.location.origin,\r\n                    thumbnailUrl: obj.data.thumbnail,\r\n                    autoPlay:autoPlay,\r\n                    muted:muted\r\n                });\r\n                vid.createIframeContainer($seComponent);\r\n                break;\r\n            }\r\n\r\n            case GLOBAL.TIKTOK:{\r\n                let vid = new js_video_video_tiktok_js__WEBPACK_IMPORTED_MODULE_10__.VideoTiktok({\r\n                    id:match[1],\r\n                    originalUrl:src,\r\n                    url:src,\r\n                    title:title,\r\n                    desc:desc,\r\n                    view:null,\r\n                    origin:document.location.origin,\r\n                    thumbnailUrl: obj.data.thumbnail,\r\n                    autoPlay:autoPlay,\r\n                    muted:muted\r\n                });\r\n                vid.createIframeContainer($seComponent);\r\n                break;\r\n            }\r\n\r\n            }\r\n        }\r\n        // Youtube\r\n        else if(GM_SETTINGS.useYoutube && obj.type.indexOf("oembed") !== -1){\r\n            if(!obj.data.html) return false;\r\n\r\n            let src = obj.data.html.match(/src="([a-zA-Z0-9-_:/?=&.]+)"/);\r\n            if(!src) return false;\r\n            src = src[1];\r\n\r\n            let id = src.match(/^https:\\/\\/www\\.youtube\\.com\\/embed\\/([a-zA-Z0-9-_]+)/);\r\n            if(!id) return false;\r\n            id = id[1];\r\n\r\n            let start = obj.data.inputUrl.match(/start=(\\d+)/);\r\n            let end = obj.data.inputUrl.match(/end=(\\d+)/);\r\n\r\n            let vid = new js_video_video_youtube_js__WEBPACK_IMPORTED_MODULE_3__.VideoYoutube({\r\n                id:id,\r\n                type:GLOBAL.YOUTUBE_VOD,\r\n                originalUrl:obj.data.inputUrl,\r\n                url:obj.data.inputUrl,//"https://youtu.be/"+id,\r\n                iframeUrl:src,\r\n                title:(0,js_lib__WEBPACK_IMPORTED_MODULE_1__.escapeHtml)(obj.data.title),\r\n                desc:(0,js_lib__WEBPACK_IMPORTED_MODULE_1__.escapeHtml)(obj.data.description),\r\n                view:null,\r\n                origin:document.location.origin,\r\n                //thumbnailUrl: (obj.data.thumbnailUrl ? obj.data.thumbnailUrl.replace(/\\/(default|mqdefault|sddefault|hqdefault)\\./,"/maxresdefault.") : undefined),\r\n                thumbnailUrl: (obj.data.thumbnailUrl ? obj.data.thumbnailUrl.replace(/\\/(default|mqdefault|sddefault|hqdefault)\\./,"/maxresdefault.") : undefined),\r\n                autoPlay:autoPlay,\r\n                muted:muted,\r\n                start:(start ? start[1] : undefined),\r\n                end:(end ? end[1] : undefined),\r\n                originalWidth:obj.data.originalWidth,\r\n                originalHeight:obj.data.originalHeight,\r\n            });\r\n            vid.createIframeContainer($seComponent);\r\n        }\r\n        // Naver Video\r\n        else if(GM_SETTINGS.useNaver && obj.type.indexOf("video") !== -1){\r\n            if(!obj.data.videoType || obj.data.videoType !== "player") return false;\r\n\r\n            let id = obj.data.vid;\r\n            let inkey = obj.data.inkey;\r\n\r\n            let vid = new js_video_video_naver_js__WEBPACK_IMPORTED_MODULE_4__.VideoNaver({\r\n                id:id,\r\n                inkey:inkey,\r\n                originalUrl:obj.data.inputUrl,\r\n                url:"",\r\n                title:(0,js_lib__WEBPACK_IMPORTED_MODULE_1__.escapeHtml)(obj.data.mediaMeta.title),\r\n                desc:(0,js_lib__WEBPACK_IMPORTED_MODULE_1__.escapeHtml)(obj.data.mediaMeta.description),\r\n                tags:obj.data.mediaMeta.tags,\r\n                view:null,\r\n                origin:document.location.origin,\r\n                thumbnailUrl: obj.data.thumbnail,\r\n                autoPlay:autoPlay,\r\n                muted:muted,\r\n                originalWidth:obj.data.width,\r\n                originalHeight:obj.data.height,\r\n            });\r\n            vid.createIframeContainer($seComponent);\r\n        }\r\n        else{\r\n            return false;\r\n        }\r\n    }\r\n    catch(e){\r\n        (0,js_lib__WEBPACK_IMPORTED_MODULE_1__.NOMO_DEBUG)("Error from arrive for videos", e);\r\n    }});\r\n\r\n    \r\n    // fixFullScreenScrollChange\r\n    var parentHtml = parent.document.querySelector("html");\r\n    var lastScrollY = parentHtml.scrollTop;\r\n    var checkIsFullScreen = function(){ return document.fullScreen || document.mozFullScreen || document.webkitIsFullScreen; };\r\n    try{\r\n        if(GM_SETTINGS.fixFullScreenScrollChange && window.self !== window.top){\r\n            $(document).on (\'mozfullscreenchange webkitfullscreenchange fullscreenchange\',function(){\r\n                var isFullScreen = checkIsFullScreen();\r\n                (0,js_lib__WEBPACK_IMPORTED_MODULE_1__.NOMO_DEBUG)("FullScreen", isFullScreen);\r\n                if(!isFullScreen){\r\n                    if(parentHtml.scrollTop !== lastScrollY){\r\n                        (0,js_lib__WEBPACK_IMPORTED_MODULE_1__.NOMO_DEBUG)("parentHtml.scrollTop = ", parentHtml.scrollTop, "lastScrollY = ", lastScrollY);\r\n                    }\r\n                    parentHtml.scrollTop = lastScrollY;\r\n                }\r\n            });\r\n\r\n            $(parent.window).scroll(function() {\r\n                var isFullScreen = checkIsFullScreen();\r\n                //NOMO_DEBUG("parent document html scrolltop", parentHtml.scrollTop, "isFullScreen", isFullScreen);\r\n                if(!isFullScreen){\r\n                    //lastScrollY = parent.window.scrollY;\r\n                    lastScrollY = parentHtml.scrollTop;\r\n                }\r\n            });\r\n        }\r\n    }\r\n    catch(e){\r\n        (0,js_lib__WEBPACK_IMPORTED_MODULE_1__.NOMO_DEBUG)("Error from fixFullScreenScrollChange", e);\r\n    }\r\n\r\n\r\n    // FasterNoticeHide\r\n    try{\r\n        if(js_lib__WEBPACK_IMPORTED_MODULE_1__.DEBUG){\r\n            let savedNOTICE_OPEN = localStorage.getItem(\'NOTICE_OPEN\');\r\n            if(savedNOTICE_OPEN === null){\r\n                savedNOTICE_OPEN = "ON";\r\n            }\r\n            (0,js_lib__WEBPACK_IMPORTED_MODULE_1__.NOMO_DEBUG)("NOTICE_OPEN", savedNOTICE_OPEN);\r\n            if(savedNOTICE_OPEN === "OFF"){\r\n                GM_addStyle(`._noticeArticle {display:none;}`);\r\n            }\r\n            $(document).on("change", "#notice_hidden", function(e){\r\n                (0,js_lib__WEBPACK_IMPORTED_MODULE_1__.NOMO_DEBUG)("e.target.checked", e.target.checked);\r\n                if(e.target.checked){\r\n                    //\r\n                }\r\n                else{\r\n                    $("._noticeArticle").show();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    catch(e){\r\n        NOMO_ERROR("Error from FasterNoticeHide", e);\r\n    }\r\n\r\n\r\n    if(GM_SETTINGS.visitedArticleStyle){\r\n        GM_addStyle(`\r\n        .skin-1080 .article-board .board-list div.inner_list a:visited,\r\n        .skin-1080 .article-board .board-list div.inner_list div.inner_list a:visited *\r\n        div.inner_list a:visited,\r\n        div.inner_list a:visited *\r\n        {\r\n            color:#ddd !important;\r\n        }\r\n        html[data-theme=\'dark\'] body .skin-1080 .article-board .board-list div.inner_list a:visited,\r\n        html[data-theme=\'dark\'] body .skin-1080 .article-board .board-list div.inner_list a:visited *\r\n        html[data-theme=\'dark\'] body div.inner_list a:visited,\r\n        html[data-theme=\'dark\'] body div.inner_list a:visited *\r\n        {\r\n            color:#454545 !important;\r\n        }\r\n        `);\r\n    }\r\n\r\n    if(GM_SETTINGS.naverBoardDefaultArticleCount !== "0" && Number(GM_SETTINGS.naverBoardDefaultArticleCount) > 0){\r\n        // $(document).arrive(".BaseButton__txt", { onlyOnce: true, existing: true }, function (elem) {try{\r\n        //     let $elem = $(elem);\r\n        //     let text = $elem.text().replace(/\\s/g,"");\r\n        //     if(text === "목록"){\r\n        //         let $a = $elem.closest("a");\r\n        //         let src = $a.attr("href");\r\n        //         src += `%26userDisplay%3D50${GM_SETTINGS.naverBoardDefaultArticleCount}`;\r\n        //         $a.attr("href", src);\r\n        //     }\r\n        // } catch(e){\r\n        //     NOMO_ERROR("Error from FasterNoticeHide", e);\r\n        // }});\r\n        $(function(){try{\r\n            let $elems = $(".BaseButton__txt");\r\n            $elems.each(function(i, elem){\r\n                let $elem = $(elem);\r\n                let text = $elem.text().replace(/\\s/g,"");\r\n                if(text === "목록"){\r\n                    let $a = $elem.closest("a");\r\n                    let src = $a.attr("href");\r\n                    src += `%26userDisplay%3D50${GM_SETTINGS.naverBoardDefaultArticleCount}`;\r\n                    $a.attr("href", src);\r\n                }\r\n            });\r\n        } catch(e){\r\n            NOMO_ERROR("Error from naverBoardDefaultArticleCount", e);\r\n        }});\r\n    }\r\n}\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./src/js/page/page_cafe_main.js?')},"./src/js/page/page_cafe_top.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ PAGE_CAFE_TOP)\n/* harmony export */ });\n\r\n// 설정 메뉴 추가 및 관리\r\nfunction openSettingsMenu(){\r\n    try{\r\n        if(document === undefined){\r\n            NOMO_DEBUG("Document is undefined from openSettingsMenu");\r\n            return;\r\n        }\r\n        if(!/(^https:\\/\\/cafe\\.naver\\.com\\/)/.test(document.location.href)){\r\n            NOMO_DEBUG("no naver cafe: return from openSettingsMenu");\r\n            return;\r\n        }\r\n        var GM_Setting_Bootstrap = \'GM_Setting_Bootstrap\';\r\n        $("#nomo_settings_container").remove();\r\n\r\n        var $container = $( /*html*/ `\r\n        <div id="nomo_settings_container" style="display:none;cursor:pointer;position:fixed;top:0;left:0;width:100%;height:100%;z-index:200000;background:rgba(0,0,0,0.93);">\r\n            <div id="nomo_settings" style="cursor:default;font-size:12px;max-width:850px;max-height:calc(100% - 40px);margin:20px auto;background:#fff;padding:10px 20px;border-radius:5px;overflow-y:scroll;"></div>\r\n        </div>`).appendTo("body");\r\n        $container.on("click", function () {\r\n            $("#GM_Setting_css_temp").remove();\r\n            $("#GM_Setting_Bootstrap").remove();\r\n            $(this).fadeOut(500, function () {\r\n                $(this).remove();\r\n            });\r\n        });\r\n        $container.find("#nomo_settings").on("click", function (e) {\r\n            e.stopPropagation();\r\n        });\r\n\r\n        /*!\r\n        * Bootstrap v3.1.1 (http://getbootstrap.com)\r\n        * Copyright 2011-2014 Twitter, Inc.\r\n        * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\r\n        */\r\n        if (!document.getElementById(GM_Setting_Bootstrap)) {\r\n            var head = document.getElementsByTagName(\'head\')[0];\r\n            var link = document.createElement(\'link\');\r\n            link.id = GM_Setting_Bootstrap;\r\n            link.rel = \'stylesheet\';\r\n            link.type = \'text/css\';\r\n            link.href = \'https://maxcdn.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css\';\r\n            link.media = \'all\';\r\n            head.appendChild(link);\r\n        }\r\n        if ($("#GM_Setting_css_temp").length == 0){\r\n            $("head").append(`<style id=\'GM_Setting_css_temp\' rel=\'stylesheet\' type=\'text/css\'>ul, ol{margin:0; padding:0 !important;}\r\n            #nomo_settings::-webkit-scrollbar { width: 8px; height: 8px; background: #eee; }\r\n            #nomo_settings::-webkit-scrollbar-thumb { background: #ccc; }\r\n            body{overflow-y:hidden;}\r\n            body #GM_setting .GM_setting_list_head {vertical-align:bottom;}</style>`);\r\n        }\r\n\r\n        $("#nomo_settings_container").fadeIn(500);\r\n        GM_setting.createlayout($("#nomo_settings"));\r\n    }\r\n    catch(e){\r\n        NOMO_DEBUG("Error from openSettingsMenu function", e);\r\n    }\r\n}\r\n    \r\nfunction PAGE_CAFE_TOP(){\r\n    if(typeof GM.registerMenuCommand === "function"){\r\n        GM.registerMenuCommand("상세 설정 열기 (새 창)", function(){\r\n            var ww = $(window).width(),\r\n                wh = $(window).height();\r\n            var wn = (ww > 930 ? 930 : ww/5*4);\r\n            var left  = (ww/2)-(wn/2),\r\n                top = (wh/2)-(wh/5*4/2);\r\n            window.open("https://cafe.naver.com/NaverCafeClipLoaderSettings/","winname",\r\n                "directories=no,titlebar=no,toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width="+wn+",height="+wh/5*4+",top="+top+",left="+left);\r\n        });\r\n        GM.registerMenuCommand("상세 설정 열기 (현재 창)", openSettingsMenu);\r\n    }\r\n    \r\n    // document ready\r\n    $(document).ready(function(){\r\n        //alwaysShowFavoriteBoard\r\n        try{\r\n            if(GM_SETTINGS.alwaysShowFavoriteBoard){\r\n                let $favoriteMenuGroupBtn = $("#favoriteMenuGroupBtn");\r\n                if($favoriteMenuGroupBtn.length !== 0 && $favoriteMenuGroupBtn.hasClass("down-btn")){\r\n                    toggleFavoriteMenuGroup();\r\n                }\r\n            }\r\n        }\r\n        catch(e){\r\n            NOMO_DEBUG("Error from alwaysShowFavoriteBoard", e);\r\n        }\r\n\r\n        // naverBoardDefaultArticleCount\r\n        try{\r\n            if(GM_SETTINGS.naverBoardDefaultArticleCount !== "0" && Number(GM_SETTINGS.naverBoardDefaultArticleCount) > 0){\r\n                unsafeWindow.oriSearchFrmAfter = unsafeWindow.searchFrmAfter;\r\n                unsafeWindow.searchFrmAfter = function(frm){\r\n                    var oriSearchFrmAfterStr = unsafeWindow.oriSearchFrmAfter.toString();\r\n                    var clubid = oriSearchFrmAfterStr.match(/clubid=(\\d+)/);\r\n                    if(clubid !== null && clubid.length >= 2){\r\n                        NOMO_DEBUG("clubid", clubid);\r\n                        $("#cafe_main").attr("src",`/ArticleSearchList.nhn?search.clubid=${clubid[1]}&search.searchBy=0&search.query=${URLEncoder.encode(frm.query.value,"MS949")}&userDisplay=${GM_SETTINGS.naverBoardDefaultArticleCount}`);\r\n                    }\r\n                    else{\r\n                        unsafeWindow.oriSearchFrmAfter(frm);\r\n                    }\r\n                };\r\n\r\n                unsafeWindow.oriDrawFavoriteCafeMenuList = unsafeWindow.drawFavoriteCafeMenuList;\r\n                unsafeWindow.drawFavoriteCafeMenuList = function(favoriteCafeMenuList){\r\n                    unsafeWindow.oriDrawFavoriteCafeMenuList(favoriteCafeMenuList);\r\n                    let $as = $("#cafe-menu #favoriteMenuGroup").find("a");\r\n                    NOMO_DEBUG("$as", $as);\r\n                    $as.each(function(i,v){\r\n                        setTimeout(function(){\r\n                            let $a = $(v);\r\n                            let oriHref = $a.attr("href");\r\n                            if(oriHref.indexOf("userDisplay") === -1){\r\n                                $a.attr("href", `${oriHref}&userDisplay=${GM_SETTINGS.naverBoardDefaultArticleCount}`);\r\n                            }\r\n                        }, 1);\r\n                    });\r\n                };\r\n\r\n                let $as = $("#cafe-menu").find(".cafe-menu-list a[target=\'cafe_main\']");\r\n                $as.each(function(i,v){\r\n                    setTimeout(function(){\r\n                        let $a = $(v);\r\n                        let oriHref = $a.attr("href");\r\n                        if(oriHref.indexOf("userDisplay") === -1){\r\n                            $a.attr("href", `${oriHref}&userDisplay=${GM_SETTINGS.naverBoardDefaultArticleCount}`);\r\n                        }\r\n                    }, 1);\r\n                });\r\n            }\r\n        }\r\n        catch(e){\r\n            NOMO_DEBUG("Error from naverBoardDefaultArticleCount", e);\r\n        }\r\n    });\r\n}\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./src/js/page/page_cafe_top.js?')},"./src/js/page/page_common.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "PageBase": () => (/* binding */ PageBase)\n/* harmony export */ });\n/* harmony import */ var js_lib_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js/lib.js */ "./src/js/lib.js");\n\r\n\r\nclass PageBase {\r\n    constructor(options) {\r\n        let that = this;\r\n\r\n        this.type = options.type;      \r\n        this.typeName = options.typeName;\r\n        this.id = options.id;\r\n        this.seq = options.seq;\r\n        this.url = options.url;\r\n        this.origin = (options.origin ? options.origin : document.location.origin);\r\n\r\n        this.autoPlay = options.autoPlay;\r\n        this.muted = options.muted;\r\n\r\n        this.firstPlayed = false;\r\n        this.videoReady = false;\r\n        this.videoFound = false;\r\n        this.video = undefined;\r\n\r\n        this.lastPostMessageDate = undefined;\r\n        this.lastPostMessage = undefined;\r\n\r\n        this.elemBtnPlay = undefined;\r\n        this.elemBtnPause = undefined;\r\n        this.elemBtnReplay = undefined;\r\n\r\n        // bind event;\r\n        $(document).arrive("video", { existing: true }, function (elem) {\r\n            that.video = elem;\r\n            that.videoFound = true;\r\n\r\n            that.video.addEventListener(\'play\', (e) => {\r\n                that.onPlay(e);\r\n            });\r\n            that.video.addEventListener(\'pause\', (e) => {\r\n                that.onPause(e);\r\n            });\r\n            that.video.addEventListener(\'ended\', (e) => {\r\n                that.onEnded(e);\r\n            });\r\n            that.video.addEventListener(\'playing\', (e) => {\r\n                if(!that.firstPlayed){\r\n                    that.onFirstPlay();\r\n                    that.firstPlayed = true;\r\n                }\r\n                that.onPlaying(e);\r\n            });\r\n            that.video.addEventListener(\'loadeddata\', (e) => {\r\n                that.onLoadeddata(e);\r\n                that.videoReady = true;\r\n            });\r\n            that.video.addEventListener(\'timeupdate\', (e) => {\r\n                that.onTimeupdate(e);\r\n            });\r\n\r\n            that.onPlayerReady();\r\n        });\r\n\r\n\r\n        window.addEventListener("message", function(e){\r\n            if(e.origin === "https://cafe.naver.com" && e.data.type === "NCCL"){\r\n                (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("received postMessage (naver -> embed)", that.seq, that.id, e.data);\r\n                if(e.data.seq === undefined || e.data.seq === "" || that.video === undefined) return;\r\n                switch(e.data.event){\r\n                default:\r\n                    break;\r\n                case "pause":\r\n                    if(!that.video.paused){\r\n                        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("try to pause", that.id);\r\n                        that.pause();\r\n                    }\r\n                    break;\r\n                case "play":\r\n                    if(that.video.paused){\r\n                        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("try to play", that.id);\r\n                        that.play();\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    // video related function\r\n    play(){\r\n        if(this.video && this.video.paused){\r\n            if(this.elemBtnPlay){\r\n                $(this.elemBtnPlay).trigger("click");\r\n            }\r\n            else if(this.video.play && typeof this.video.play === "function"){\r\n                this.video.play();\r\n            }\r\n        }\r\n        \r\n    }\r\n    pause(){\r\n        if(this.video && !this.video.paused){\r\n            if(this.elemBtnPause){\r\n                $(this.elemBtnPause).trigger("click");\r\n            }\r\n            else if(this.video.pause && typeof this.video.pause === "function"){\r\n                this.video.pause();\r\n            }\r\n        }\r\n    }\r\n\r\n    onPlayerReady(){\r\n\r\n    }\r\n\r\n    onPlay(e){\r\n        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("Play - ", this.id);\r\n        //if(GM_SETTINGS.autoPauseOtherClips) window.parent.postMessage({"type":"NCCL", "event":"play", "seq":this.seq}, "https://cafe.naver.com");\r\n        if(GM_SETTINGS.autoPauseOtherClips) this.sendPostMessage({"type":"NCCL", "event":"play", "seq":this.seq});\r\n    }\r\n    onPause(e){\r\n        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("Pause - ", this.id);\r\n        //if(GM_SETTINGS.autoPauseOtherClips || GM_SETTINGS.autoPlayNextClip) window.parent.postMessage({"type":"NCCL", "event":"pause", "clipId":this.id}, "https://cafe.naver.com");\r\n    }\r\n    onEnded(e){\r\n        //if(GM_SETTINGS.autoPlayNextClip) window.parent.postMessage({"type":"NCCL", "event":"ended", "seq":this.seq}, "https://cafe.naver.com");\r\n        if(GM_SETTINGS.autoPlayNextClip) this.sendPostMessage({"type":"NCCL", "event":"ended", "seq":this.seq});\r\n    }\r\n    onPlaying(e){\r\n        //\r\n    }\r\n    onLoadeddata(e){\r\n        //\r\n    }\r\n    onTimeupdate(e){\r\n        //\r\n    }\r\n    onFirstPlay(){\r\n        //\r\n    }\r\n    \r\n    sendPostMessage(obj){\r\n        //// 너무 잦은 동일 postMessage 방지\r\n        // let currentDate = Number(new Date());\r\n        // let isSend = false;\r\n        // if(this.lastPostMessageDate === undefined) {\r\n        //     isSend = true;\r\n        // }\r\n        // else if(JSON.stringify(this.lastPostMessage) !== JSON.stringify(obj)){\r\n        //     isSend = true;\r\n        // }\r\n        // else if(currentDate - this.lastPostMessageDate > 200){\r\n        //     isSend = true;\r\n        // }\r\n\r\n        // NOMO_DEBUG("currentDate - this.lastPostMessageDate = ", currentDate - this.lastPostMessageDate);\r\n        // if(isSend){\r\n        //     this.lastPostMessageDate = currentDate;\r\n        //     this.lastPostMessage = JSON.parse(JSON.stringify(obj));\r\n        //     obj.date = currentDate;\r\n        //     window.parent.postMessage(obj, "https://cafe.naver.com");\r\n        // }\r\n        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("send postMessage (embed -> naver)", "id=", this.id, "seq=", this.seq, obj);\r\n        window.parent.postMessage(obj, "https://cafe.naver.com");\r\n    }\r\n}\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./src/js/page/page_common.js?')},"./src/js/page/page_naver_embed.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "PageNaver": () => (/* binding */ PageNaver),\n/* harmony export */   "default": () => (/* binding */ PAGE_NAVER_EMBED)\n/* harmony export */ });\n/* harmony import */ var css_navervid_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! css/navervid.css */ "./src/css/navervid.css");\n/* harmony import */ var css_navervid_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(css_navervid_css__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var js_lib_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! js/lib.js */ "./src/js/lib.js");\n/* harmony import */ var js_page_page_common_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! js/page/page_common.js */ "./src/js/page/page_common.js");\n\r\n\r\n\r\n\r\nfunction PAGE_NAVER_EMBED(){\r\n    (0,js_lib_js__WEBPACK_IMPORTED_MODULE_1__.NOMO_DEBUG)("== PAGE_NAVER_EMBED ==");\r\n\r\n    let url = new URL(document.location.href);\r\n    let urlParam = new URLSearchParams(url.search);\r\n    let muted = (urlParam.get("muted") === "true" ? true : false);\r\n    let autoPlay = (urlParam.get("autoPlay") === "true" ? true : false);\r\n    let loop = (urlParam.get("loop") === "true" ? true : false);\r\n\r\n    let page = new PageNaver({\r\n        type: GLOBAL.NAVER_VID,\r\n        id:urlParam.get("vid"),\r\n        seq:urlParam.get("seq"),\r\n        inkey:urlParam.get("inkey"),\r\n        start:urlParam.get("beginTime"),\r\n        loop:loop,\r\n        autoPlay:autoPlay,\r\n        muted:muted\r\n    });\r\n}\r\n\r\n\r\nclass PageNaver extends js_page_page_common_js__WEBPACK_IMPORTED_MODULE_2__.PageBase {\r\n    constructor(options){\r\n        options.typeName = "NAVER_VID";\r\n        super(options);\r\n        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_1__.NOMO_DEBUG)("new PageNaver", options);\r\n\r\n        this.elemBtnPlay = "span.u_rmc_ic.u_rmc_play_ic";\r\n        this.elemBtnPause = "span.u_rmc_ic.u_rmc_pause_ic";\r\n        this.elemBtnReplay = undefined;\r\n\r\n        this.waitSetMaxQuality = false; // set max quality again after reload\r\n        this.inkey = options.inkey;\r\n        this.lastTime = 0.0;            // to recover time when reload player\r\n        this.loop = (options.loop ? options.loop : false);\r\n\r\n        // player reload\r\n        this.reloaded = false;\r\n\r\n        let that = this;\r\n\r\n        // add style\r\n        GM_addStyle(css_navervid_css__WEBPACK_IMPORTED_MODULE_0___default().toString());\r\n\r\n        if(GM_SETTINGS.hideEndOverlay){\r\n            // embed 된 naver player 의 경우, 동영상 종료 후 연관된 동영상이 나타난다.\r\n            // 연관된 동영상에 대한 xhr을 차단한다.\r\n            unsafeWindow.XMLHttpRequest.prototype.oriOpen = unsafeWindow.XMLHttpRequest.prototype.open;\r\n            unsafeWindow.XMLHttpRequest.prototype.open = function(/*method, url, async, user, password*/){\r\n                if(arguments[1].indexOf("https://serviceapi.nmv.naver.com/ugc/flash/getRelativeMovie") !== -1\r\n                || arguments[1].indexOf("https://serviceapi.nmv.naver.com/flash/getRelativeMovie") !== -1){\r\n                    arguments[1] = "";\r\n                }\r\n                this.oriOpen.apply(this, arguments);\r\n            };\r\n        }\r\n\r\n        // naverVideoAutoMaxQuality\r\n        if(GM_SETTINGS.naverVideoAutoMaxQuality){\r\n            $(document).arrive(".u_rmc_definition_ly", { existing: true }, function (elem) {\r\n                that.setMaxQuality(false);\r\n            });\r\n        }\r\n\r\n        // u_rmc_volume_control\r\n        if(GM_SETTINGS.alwaysShowVolumeController){\r\n            GM_addStyle(`\r\n            body .u_rmcplayer .u_rmc_progress_controls .u_volume_panel {\r\n                width: 80px;\r\n                margin: 0 7px 0 5px;\r\n                -webkit-transition: width .2s cubic-bezier(0,0,.2,1),padding-right .2s cubic-bezier(0,0,.2,1);\r\n                transition: width .2s cubic-bezier(0,0,.2,1),padding-right .2s cubic-bezier(0,0,.2,1);\r\n                -webkit-box-sizing: border-box;\r\n                box-sizing: border-box;\r\n                overflow: visible !important;\r\n            }\r\n            body .u_rmcplayer .u_rmc_volume_slider .u_rmc_handle_ic {\r\n                opacity: 1 !important;\r\n                overflow: visible !important;\r\n            }\r\n            `);\r\n        }\r\n\r\n        // set_volume_when_stream_starts\r\n        if(GM_SETTINGS.set_volume_when_stream_starts || this.muted){\r\n            try{\r\n                let NWP_UserData = localStorage.getItem(\'NWP_UserData\');\r\n                if(NWP_UserData === null){\r\n                    NWP_UserData = {"selectedCaption":null,"selectedCaptionType":"cp","useCaption":"false","lastPlayingRegularResolution":null,"lastPlayingRegularResolution_desktop":"1080P","lastPlayingRegularResolution_common":null,"is3GAlertConfirmed":false,"userVolume":1,"3GAlertConfirmExpireTime":0,"subtitleUserOption":{"size":"2","color":"white","isTransparent":false},"shownHelpLayer":"false","qualityLogData":null,"playingLogData":null};\r\n                }\r\n                else{\r\n                    NWP_UserData = JSON.parse(NWP_UserData);\r\n                }\r\n        \r\n                (0,js_lib_js__WEBPACK_IMPORTED_MODULE_1__.NOMO_DEBUG)("muted?", this.muted, typeof this.muted);\r\n                if(this.muted){\r\n                    NWP_UserData.userVolume = 0;\r\n                    localStorage.setItem(\'NWP_UserData\', JSON.stringify(NWP_UserData));\r\n                }\r\n                else if(GM_SETTINGS.set_volume_when_stream_starts){\r\n                    NWP_UserData.userVolume = GM_SETTINGS.target_start_volume;\r\n                    localStorage.setItem(\'NWP_UserData\', JSON.stringify(NWP_UserData));\r\n                }\r\n            }\r\n            catch(e){\r\n                (0,js_lib_js__WEBPACK_IMPORTED_MODULE_1__.NOMO_DEBUG)("Error from set_volume_when_stream_starts", e);\r\n            }\r\n        }\r\n\r\n        // 3px 초과하여 움직였을 때 click 이 씹히는 것을 개선\r\n        if(GM_SETTINGS.NaverVideoEnhancedClick){\r\n            let dbclickReady = false;\r\n            let dbcheckSetTimeout = undefined;\r\n            \r\n            let x, y, paused;\r\n            $(document).on("mousedown", "._click_zone, ._video_thumb", function(e){\r\n                x = e.pageX;\r\n                y = e.pageY;\r\n                paused = $("video").get(0).paused;\r\n                \r\n                (0,js_lib_js__WEBPACK_IMPORTED_MODULE_1__.NOMO_DEBUG)("SAVE x and y", x, y, paused);\r\n            });\r\n            GM_addStyle(`\r\n            div[data-video-overlay] {display:block !important}\r\n            .u_rmcplayer .onlyspin {pointer-events:none !important;}\r\n            `);\r\n            //$(document).on("mouseup", "._click_zone, ._video_thumb", function(e){\r\n            $(document).on("mouseup", "._click_zone", function(e){\r\n                let i = e.target.tagName;\r\n                let n = e.target.parentNode.tagName;\r\n                if (("A" !== i && "A" !== n && "BUTTON" !== i && "BUTTON" !== n) === false) return;\r\n                \r\n                // double click --\x3e fullscreen\r\n                if(dbclickReady){\r\n                    dbclickReady = false;\r\n                    $(".u_rmc_full_ic").trigger("click");\r\n                }\r\n                else{\r\n                    dbclickReady = true;\r\n                    clearTimeout(dbcheckSetTimeout);\r\n                    dbcheckSetTimeout = setTimeout(function(){\r\n                        dbclickReady = false;\r\n                    },250);\r\n                }\r\n\r\n                if ($(e.target).closest("._disable_click_zone").length !== 0) return;\r\n                // if(!$(e.target).hasClass("_click_zone") && !$(e.target).closest("._click_zone").length === 0) {\r\n                //     if(((Math.abs(x - e.pageX) > 3 || Math.abs(y - e.pageY) > 3)) === false) return;\r\n                // }\r\n                if(((Math.abs(x - e.pageX) > 3 || Math.abs(y - e.pageY) > 3)) === false) return;\r\n                if(paused === $("video").get(0).paused){\r\n                    $("button[data-toolbar-play-button]").trigger("click");\r\n                }\r\n            });\r\n        }\r\n\r\n        // bind video reload event\r\n        $(document).arrive(".u_rmcplayer_error_container", { existing: true }, function (elem) {\r\n            try{\r\n                let $elem = $(elem);\r\n                let $btnReload = $(`<div class="naver_player_reload naver_player_reload_error_btn">[${GLOBAL.scriptName} ${GLOBAL.version}]<br />네이버 플레이어를 다시 로드하려면 여기를 클릭하세요.</div>`)\r\n                    .on("click", function(){that.playerReload();});\r\n                $elem.find(".u_rmc_error_txt").append($btnReload);\r\n            }\r\n            catch(e){\r\n                NOMO_ERROR("Error from video arrive", e);\r\n            }\r\n        });\r\n\r\n        // loop btn 추가 관련\r\n        $(document).arrive(".u_rmc_controls_btn", { onlyOnce: true, existing: true }, function (elem) {\r\n            try{\r\n                let $elem = $(elem);\r\n\r\n                // add loop btn\r\n                if(GM_SETTINGS.NaverVideoAddLoopBtn){\r\n                    let $loop = $(`<div style="color:${that.loop ? \'#00e686\' : \'#eee\'}" class="naver_player_reload_btn loop_btn">Loop</div>`).on("click", function(e){\r\n                        that.video.loop = !that.video.loop;\r\n                        that.loop = that.video.loop;\r\n                        if(that.video.loop){\r\n                            $(e.target).css("color","#00e686").addClass("BANJJAK");\r\n                        }\r\n                        else{\r\n                            $(e.target).css("color","#eee").removeClass("BANJJAK");\r\n                        }\r\n                    });\r\n                    $elem.prepend($loop);\r\n                }\r\n                \r\n                // add btn for debug\r\n                if((0,js_lib_js__WEBPACK_IMPORTED_MODULE_1__.isDEBUG)()){\r\n                    let $reload = $(`<div class="naver_player_reload_btn">Reload</div>`).on("click", function(){\r\n                        that.playerReload();\r\n                    });\r\n                    $elem.prepend($reload);\r\n                    let $genError = $(`<div class="naver_player_reload_btn">Throw error</div>`).on("click", function(){\r\n                        if(that.video){\r\n                            that.video.src = "abcd";\r\n                        }\r\n                    });\r\n                    $elem.prepend($genError);\r\n                }\r\n            }\r\n            catch(e){\r\n                NOMO_ERROR("Error from video arrive", e);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    playerReload(){\r\n        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_1__.NOMO_DEBUG)("playerReload", this.id, this.seq);\r\n        if(this.reloaded) return;\r\n        this.reloaded = true;\r\n        $(".naver_player_reload_error_btn").addClass("reloaded");\r\n        window.parent.postMessage({"type":"NCCL_NAVERVID_RELOAD", "seq":this.seq, "loop":this.loop, "beginTime":this.lastTime}, "https://cafe.naver.com");\r\n    }\r\n\r\n    setMaxQuality(force){\r\n        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_1__.NOMO_DEBUG)("Naver Video - setMaxQuality", this.id);\r\n        var $elem = $(".u_rmc_definition_ly");\r\n        var $u_rmcplayer = $elem.closest(".u_rmcplayer");\r\n        if($u_rmcplayer.length === 0) {\r\n            (0,js_lib_js__WEBPACK_IMPORTED_MODULE_1__.NOMO_WARN)("setMaxQuality - no $u_rmcplayer");\r\n            return;\r\n        }\r\n    \r\n        if(force){\r\n            $u_rmcplayer.removeClass("_QSET");\r\n        }\r\n    \r\n        if($u_rmcplayer.hasClass("_QSET")) {\r\n            (0,js_lib_js__WEBPACK_IMPORTED_MODULE_1__.NOMO_WARN)("setMaxQuality - ALREADY QSET");\r\n            return;\r\n        }\r\n    \r\n        var $qli = $elem.find("li");\r\n        if($qli.length > 2){\r\n            var $last = $qli.last();\r\n            if($last.hasClass("u_rmc_on")) {\r\n                (0,js_lib_js__WEBPACK_IMPORTED_MODULE_1__.NOMO_WARN)("setMaxQuality - u_rmc_on - ALREADY QSET");\r\n                return;\r\n            }\r\n    \r\n            (0,js_lib_js__WEBPACK_IMPORTED_MODULE_1__.NOMO_DEBUG)("setMaxQuality - Best Quality Set", this.id, $last.text());\r\n            $last.find("button").trigger("click");\r\n    \r\n            $u_rmcplayer.addClass("_QSET");\r\n\r\n            \r\n            setTimeout(function(){\r\n                $(`[data-model="currentVideo.encodingOption.name"]`).addClass("BANJJAK");\r\n            },200);\r\n            setTimeout(function(){\r\n                $(`[data-model="currentVideo.encodingOption.name"]`).removeClass("BANJJAK");\r\n            },3000);\r\n        }\r\n        else{\r\n            (0,js_lib_js__WEBPACK_IMPORTED_MODULE_1__.NOMO_WARN)("no li elements for QSET");\r\n        }\r\n    }\r\n\r\n    // play(){\r\n    //     NOMO_DEBUG("Naver video play", this.id);\r\n    //     $("span.u_rmc_ic.u_rmc_play_ic").trigger("click");\r\n    // }\r\n    // pause(){\r\n    //     NOMO_DEBUG("Naver video pause", this.id);\r\n    //     $("span.u_rmc_ic.u_rmc_pause_ic").trigger("click");\r\n    // }\r\n    \r\n    onFirstPlay(){\r\n        super.onFirstPlay();\r\n\r\n        // hideTopOverlay\r\n        if(GM_SETTINGS.hideTopOverlay){\r\n            GM_addStyle(`\r\n                div[data-title-container],\r\n                .u_rmcplayer_video_info {display:none !important}\r\n            `);\r\n        }\r\n    }\r\n    onPlaying(){\r\n        super.onPlaying();\r\n\r\n        let that = this;\r\n\r\n        // set max quality when replay\r\n        if(this.waitSetMaxQuality){\r\n            this.waitSetMaxQuality = false;\r\n            setTimeout(function(){\r\n                that.setMaxQuality(true);\r\n                setTimeout(function(){\r\n                    if(that.video.paused){\r\n                        that.play();\r\n                    }\r\n                },200);\r\n            },100);\r\n        }\r\n    }\r\n    onEnded(){\r\n        super.onEnded();\r\n        this.waitSetMaxQuality = true;\r\n    }\r\n    onTimeupdate(e){\r\n        let currentTime = e.target.currentTime;\r\n        if(currentTime !== 0.0){\r\n            this.lastTime = currentTime;\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./src/js/page/page_naver_embed.js?')},"./src/js/page/page_setting.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ PAGE_SETTING)\n/* harmony export */ });\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ "./src/js/lib.js");\n\r\n\r\nfunction PAGE_SETTING(){\r\n    (0,_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("== PAGE_SETTING ==");\r\n    $("body").empty().css("padding","0px 30px 0px 30px");\r\n    var $styles = $("head").find("style");\r\n    $styles.each(function(i, v){\r\n        var $v = $(v);\r\n        if($v.attr("id") == undefined){\r\n            $v.remove();\r\n        }\r\n    });\r\n\r\n    GM_addStyle(`\r\n        body::-webkit-scrollbar { width: 8px; height: 8px; background: #eee; }\r\n        body::-webkit-scrollbar-thumb { background: #ccc; }\r\n        body #GM_setting .GM_setting_list_head {vertical-align:bottom;}\r\n    `);\r\n    var GM_Setting_Bootstrap = \'GM_Setting_Bootstrap\';\r\n    if (!document.getElementById(GM_Setting_Bootstrap)) {\r\n        var head = document.getElementsByTagName(\'head\')[0];\r\n        var link = document.createElement(\'link\');\r\n        link.id = GM_Setting_Bootstrap;\r\n        link.rel = \'stylesheet\';\r\n        link.type = \'text/css\';\r\n        link.href = \'https://maxcdn.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css\';\r\n        link.media = \'all\';\r\n        head.appendChild(link);\r\n    }\r\n\r\n    document.title = "Naver-Cafe-Clip-Loader 상세 설정 페이지";\r\n    GM_setting.createlayout($("body"));\r\n}\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./src/js/page/page_setting.js?')},"./src/js/page/page_streamable_embed.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ PAGE_STREAMABLE_EMBED)\n/* harmony export */ });\n/* harmony import */ var js_page_page_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js/page/page_common.js */ "./src/js/page/page_common.js");\n\r\n\r\nfunction PAGE_STREAMABLE_EMBED(){\r\n    NOMO_DEBUG("== PAGE_STREAMABLE_EMBED ==");\r\n\r\n    let url = new URL(document.location.href);\r\n    let urlParam = new URLSearchParams(url.search);\r\n\r\n    let page = new PageStreamable({\r\n        id:document.location.href.match(/^https?:\\/\\/streamable\\.com\\/(?:e\\/)?([a-zA-Z0-9-_]+)/)[1],\r\n        type:GLOBAL.STREAMABLE,\r\n        seq:urlParam.get("seq"),\r\n        url:document.location.href,\r\n        muted:(urlParam.get("omuted") === "1" ? true : false)\r\n    });\r\n}\r\n\r\nclass PageStreamable extends js_page_page_common_js__WEBPACK_IMPORTED_MODULE_0__.PageBase{\r\n    constructor(options){\r\n        super(options);\r\n    }\r\n\r\n    onPlayerReady(){\r\n        super.onPlayerReady();\r\n        \r\n        if(this.muted){\r\n            this.video.volume = 0.0;\r\n        }\r\n        else if(GM_SETTINGS.set_volume_when_stream_starts){\r\n            this.video.volume = GM_SETTINGS.target_start_volume;\r\n        }\r\n\r\n        //// hd=1 로 iframe 을 삽입하는 경우 자동으로 1080p 가 설정되므로 아래 코드가 필요 없다.\r\n        // let $targetQuality = $(".player-settings-quality-option").first();\r\n        // if(!$targetQuality.hasClass("checked")){\r\n        //     NOMO_DEBUG("streamable Qset");\r\n        //     $targetQuality.trigger("click");\r\n        // }\r\n        // else{\r\n        //     NOMO_DEBUG("streamable Qset - already Qset");\r\n        // }\r\n    }\r\n\r\n\r\n}\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./src/js/page/page_streamable_embed.js?')},"./src/js/page/page_twitch_embed.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ PAGE_TWITCH_EMBED)\n/* harmony export */ });\n/* harmony import */ var js_lib_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js/lib.js */ "./src/js/lib.js");\n/* harmony import */ var js_page_page_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! js/page/page_common.js */ "./src/js/page/page_common.js");\n\r\n\r\n\r\nfunction PAGE_TWITCH_EMBED(){\r\n    \r\n    let url = new URL(document.location.href);\r\n    let urlParam = new URLSearchParams(url.search);\r\n    let muted = (urlParam.get("muted") === "true" ? true : false);\r\n    let autoPlay = (urlParam.get("autoplay") === "true" ? true : false);\r\n    let id = "";\r\n    if(GLOBAL.isTwitchClip){\r\n        id = urlParam.get("clip");\r\n    }\r\n    else if(GLOBAL.isTwitchVod){\r\n        id = urlParam.get("video");\r\n    }\r\n\r\n    let page = new PageTwitch({\r\n        type: GLOBAL.NAVER_VID,\r\n        id:id,\r\n        seq:urlParam.get("seq"),\r\n        start:urlParam.get("t"),\r\n        autoPlay:autoPlay,\r\n        muted:muted\r\n    });\r\n    \r\n}\r\n\r\nclass PageTwitch extends js_page_page_common_js__WEBPACK_IMPORTED_MODULE_1__.PageBase{\r\n    constructor(options){\r\n        super(options);\r\n\r\n        this.elemBtnPlay = "button[data-a-target=\'player-play-pause-button\']";\r\n        this.elemBtnPause = "button[data-a-target=\'player-play-pause-button\']";\r\n\r\n        this.isSaveTimeAfterEnd = false;\r\n        this.savedTimeAfterEnd = 0.0;\r\n\r\n        GM_addStyle(`\r\n        html body .player-overlay-background--darkness-5{background:rgba(0,0,0,.2);}\r\n        .player-overlay-background--darkness-5:hover [data-a-target=\'player-overlay-play-button\'] {\r\n            background-color:rgba(255,255,255,0.2);\r\n            box-shadow: 0px 0px 1vw rgb(0 0 0 / 40%);\r\n        }\r\n        .NCCLVideoDeletedNotice{\r\n            position: absolute;\r\n            font-size: 2vw;\r\n            width: 100%;\r\n            height: 100%;\r\n            display: flex;\r\n            align-items: center;\r\n            flex: 1 1 100%;\r\n            background-color: #eee;\r\n        }\r\n        .NCCLVideoDeletedNotice .text{\r\n            text-align:center;\r\n            width:100%;\r\n        }\r\n        .keep_watching_btn{\r\n            font-size: 13px;\r\n            font-weight: 700;\r\n            background: rgb(145, 71, 255);\r\n            color: #fff;\r\n            width: fit-content;\r\n            padding: 5px 10px;\r\n            border-radius: 5px;\r\n            position: absolute;\r\n            right: 10px;\r\n            top: 10px;\r\n            cursor:pointer;\r\n        }\r\n        .keep_watching_btn:hover{\r\n            color:#fff;\r\n            background:rgb(119, 44, 232);\r\n            text-decoration:none;\r\n        }\r\n\r\n        .keep_watching_btn.keep_watching_no_vod_btn{\r\n            background:#666;\r\n            cursor:default;\r\n        }\r\n        .keep_watching_btn.keep_watching_no_vod_btn:hover{\r\n            background:#666;\r\n            cursor:default;\r\n        }\r\n        .opacity_1{\r\n            opacity:1 !important;\r\n        }\r\n        .opacity_transition{\r\n            transition: opacity 0.2s !important;\r\n        }\r\n        `);\r\n\r\n        GM_addStyle(`\r\n        html body .player-overlay-background--darkness-5 { background:unset !important; }\r\n        html body button[data-a-target="player-overlay-play-button"] { display:none !important; }\r\n        html body .video-player__container\r\n        ,html body .video-player{\r\n            background:unset;\r\n        }\r\n        `);\r\n\r\n        if(GM_SETTINGS.hideTopOverlay){\r\n            GM_addStyle(`    \r\n            html body .top-bar {\r\n                display:none !important;\r\n            }\r\n            `);\r\n        }\r\n\r\n        // hideEndOverlay\r\n        if(GM_SETTINGS.hideEndOverlay){\r\n            GM_addStyle(`.player-overlay-background.player-overlay-background--darkness-1{background:none !important;}.player-overlay-background.player-overlay-background--darkness-1 .clip-postplay-recommendations{display:none !important;}`);\r\n            \r\n            $(document).arrive(".clip-postplay-recommendations", function (elem) {\r\n                var $elem = $(elem);\r\n\r\n                var $as = $elem.find("a.offline-recommendations-video-card");\r\n                var isVideoFound = false;\r\n                for(var i=0;i<$as.length;i++){\r\n                    var $a = $($as[i]);\r\n                    var href = $a.attr("href");\r\n                    (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("href", href);\r\n        \r\n                    if(href.indexOf("https://www.twitch.tv/videos/") !== -1){\r\n                        $(".keep_watching_btn").remove();\r\n                        $elem.closest(".player-overlay-background--darkness-1").append(`<a href="${href}" target="_blank" class="keep_watching_btn">VOD 계속 시청</a>`);\r\n                        isVideoFound = true;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if(!isVideoFound){\r\n                    $(".keep_watching_btn").remove();\r\n                    $elem.closest(".player-overlay-background--darkness-1").append(`<span class="keep_watching_btn keep_watching_no_vod_btn">이용 가능한 전체 동영상이 없습니다.</span>`);\r\n                }\r\n\r\n            });\r\n        }\r\n        \r\n    \r\n        // play_and_pause_by_click\r\n        if(GM_SETTINGS.play_and_pause_by_click){\r\n            try {\r\n                if(!GLOBAL.isTwitchVod){\r\n                    GM_addStyle(`[data-a-target="player-twitch-logo-button"]{display:none !important}`);\r\n                }\r\n                GM_addStyle(`\r\n                    html body .top-bar{\r\n                        display:none !important;\r\n                    }\r\n                `);\r\n\r\n                let backgroundDblclicked = false;\r\n                let dblclickSetTimeout = undefined;\r\n                $(document).on(\'click\', "[data-a-target=\'player-overlay-click-handler\']", (e) => {\r\n                    (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)(\'clicked - playing\', e);\r\n                    $("button[data-a-target=\'player-play-pause-button\']").trigger("click");\r\n                    \r\n                    backgroundDblclicked = true;\r\n                    clearTimeout(dblclickSetTimeout);\r\n                    dblclickSetTimeout = setTimeout(function(){\r\n                        backgroundDblclicked = false;\r\n                    },300);\r\n                });\r\n\r\n                $(document).on(\'click\', ".player-overlay-background", (e)=>{\r\n                    (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)(\'clicked - end or play\', e);\r\n                    if($(e.target).find(".clip-postplay-recommendations").length !== 0){\r\n                        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("There is recommendations div");\r\n                        $("button[data-a-target=\'player-play-pause-button\']").trigger("click");\r\n                    }\r\n                    else{\r\n                        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("There is no recommendations div");\r\n                    }\r\n\r\n                    if(backgroundDblclicked){\r\n                        clearTimeout(dblclickSetTimeout);\r\n                        backgroundDblclicked = false;\r\n                        $("button[data-a-target=\'player-play-pause-button\']").trigger("click");\r\n                    }\r\n                });\r\n\r\n            } catch (e) {\r\n                (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_ERROR)("Error from play_and_pause_by_click", e);\r\n            }\r\n        }\r\n\r\n        // set_volume_when_stream_starts\r\n        try{\r\n            if(GM_SETTINGS.set_volume_when_stream_starts){\r\n                localStorage.setItem(\'volume\', GM_SETTINGS.target_start_volume);\r\n            }\r\n    \r\n            if((GM_SETTINGS.set_volume_when_stream_starts && GM_SETTINGS.target_start_volume === 0) || this.muted){\r\n                localStorage.setItem(\'video-muted\', {default:true});\r\n            }\r\n            else{\r\n                localStorage.setItem(\'video-muted\', {default:false});\r\n            }\r\n        }\r\n        catch(e){\r\n            (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_ERROR)("Error from set_volume_when_stream_starts");\r\n        }\r\n\r\n        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("new PageTwitch", this);\r\n    }\r\n\r\n    onPlayerReady(){\r\n\r\n        // set_volume_when_stream_starts\r\n        try {\r\n            if(this.muted){\r\n                this.video.muted = true;\r\n            }\r\n            else if(GM_SETTINGS.set_volume_when_stream_starts){\r\n                this.video.volume = GM_SETTINGS.target_start_volume;\r\n            }\r\n        } catch (e) {\r\n            (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_ERROR)("Error from set_volume_when_stream_starts", e);\r\n        }\r\n\r\n        // show volume controller for 5s\r\n        $(".volume-slider__slider-container").addClass("opacity_1").addClass("opacity_transition");\r\n        if(!GM_SETTINGS.alwaysShowVolumeController){\r\n            setTimeout(function(){\r\n                $(".volume-slider__slider-container").removeClass("opacity_1");\r\n            },5000);\r\n            setTimeout(function(){\r\n                $(".volume-slider__slider-container").removeClass("opacity_transition");\r\n            },6000);\r\n        }\r\n    }\r\n\r\n    // play(){\r\n    //     if(this.video && this.video.paused){\r\n    //         $("button[data-a-target=\'player-play-pause-button\']").trigger("click");\r\n    //     }\r\n    // }\r\n    // pause(){\r\n    //     if(this.video && !this.video.paused){\r\n    //         $("button[data-a-target=\'player-play-pause-button\']").trigger("click");\r\n    //     }\r\n    // }\r\n\r\n    onPlay(e){\r\n        this.loadSavedTimeAfterEnd(e.target);\r\n        super.onPlay(e);\r\n    }\r\n\r\n    onPause(e){\r\n        this.loadSavedTimeAfterEnd(e.target);\r\n        super.onPause(e);\r\n    }\r\n\r\n    onPlaying(e){\r\n        this.loadSavedTimeAfterEnd(e.target);\r\n        super.onPlaying(e);\r\n    }\r\n\r\n    onEnded(e){\r\n        this.isSaveTimeAfterEnd = true;\r\n        super.onEnded(e);\r\n    }\r\n\r\n    onTimeupdate(e){\r\n        this.saveTimeAfterEnd(e.target);\r\n        super.onTimeupdate(e);\r\n    }\r\n\r\n\r\n    // twitch_clip_time_update_after_end\r\n    loadSavedTimeAfterEnd(target){\r\n        if(!GM_SETTINGS.twitch_clip_time_update_after_end) return;\r\n        if(this.isSaveTimeAfterEnd && target.duration - 0.1 > this.savedTimeAfterEnd){\r\n            target.currentTime = this.savedTimeAfterEnd;\r\n        }\r\n        this.isSaveTimeAfterEnd = false;\r\n        this.savedTimeAfterEnd = 0.0;\r\n    }\r\n\r\n    saveTimeAfterEnd(target){\r\n        if(!GM_SETTINGS.twitch_clip_time_update_after_end) return;\r\n        if(!this.isSaveTimeAfterEnd) return;\r\n        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("current time update", target.currentTime);\r\n        this.savedTimeAfterEnd = target.currentTime;\r\n    }\r\n\r\n}\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./src/js/page/page_twitch_embed.js?')},"./src/js/page/page_youtube_embed.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ PAGE_YOUTUBE_EMBED)\n/* harmony export */ });\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ "./src/js/lib.js");\n\r\n\r\nconst YTQ_LIST = [\'highres\', \'hd2880\', \'hd2160\', \'hd1440\', \'hd1080\', \'hd720\', \'large\', \'medium\', \'small\', \'tiny\'];\r\nvar $YTPlayer = undefined;\r\nvar YTPlayer = undefined;\r\nvar YTPlayerReady = false;\r\nvar useSetQuality = false;\r\n\r\nfunction PAGE_YOUTUBE_EMBED(){\r\n    (0,_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("== PAGE_YOUTUBE_EMBED ==");\r\n\r\n    // add style\r\n    GM_addStyle(`\r\n    .unstarted-mode {cursor:pointer}\r\n    .ytp-ad-overlay-container {display:none !important}\r\n    `);\r\n\r\n    // youtubeSetQuality\r\n    useSetQuality = GM_SETTINGS.youtubeSetQuality !== "default" && YOUTUBE_EMBED_SET_QUALITY_CHECK_QUALITY();\r\n    if(useSetQuality){\r\n        try{\r\n            let YTQ = localStorage.getItem("yt-player-quality");\r\n            if (!YTQ){\r\n                var YTQ_obj = JSON.parse(YTQ);\r\n                //NOMO_DEBUG("Got YTQ localstorage", YTQ_obj);\r\n                if(YTQ_obj.data !== GM_SETTINGS.youtubeSetQuality){\r\n                    YTQ_obj.data = GM_SETTINGS.youtubeSetQuality;\r\n                    YTQ_obj.expiration = Number(new Date()) + 24*60*60*1000;\r\n                    YTQ_obj.creation = Number(new Date());\r\n                    localStorage.setItem("yt-player-quality",JSON.stringify(YTQ_obj));\r\n                    (0,_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("Set YTQ localstorage", YTQ_obj);\r\n                }\r\n            }\r\n        }\r\n        catch(e){\r\n            NOMO_ERROR("Error from setting YTQ localstorage", e);\r\n        }\r\n    }\r\n\r\n    // check youtube player ready & onPlayerReady\r\n    CheckYTPlayerReady();\r\n\r\n    // bind firstPlay event\r\n    let video, firstPlayed = false;\r\n    $(document).arrive("video", { existing: true, onlyOnce: true }, function (elem) {\r\n        video = elem;\r\n        video.addEventListener(\'playing\', (e) => {\r\n            if(firstPlayed) return;\r\n            firstPlayed = true;\r\n\r\n            // hideTopOverlay\r\n            if(GM_SETTINGS.hideTopOverlay){\r\n                // GM_addStyle(`\r\n                //     .ytp-gradient-top,\r\n                //     .ytp-chrome-top,\r\n                //     .ytp-show-cards-title {display:none !important}\r\n                // `);\r\n\r\n                $(".ytp-gradient-top").fadeOut(250);\r\n                $(".ytp-chrome-top").fadeOut(250);\r\n            }\r\n        });\r\n    });\r\n\r\n    // hidePauseOverlay\r\n    if(GM_SETTINGS.hidePauseOverlay){\r\n        GM_addStyle(`\r\n        .ytp-pause-overlay-container {display:none !important}\r\n        `);\r\n    }\r\n    \r\n    // hideEndOverlay\r\n    if(GM_SETTINGS.hideEndOverlay){\r\n        GM_addStyle(`\r\n        /*동영상 종료 후 추천 동영상 숨기기*/\r\n        video.html5-main-video {top:0px !important}\r\n        /*.html5-endscreen {display:none !important}*/\r\n        .ytp-endscreen-content {display:none !important;}\r\n        `);\r\n        $(document).on("mouseup", "#player .html5-video-player.ended-mode, .html5-endscreen", function(e){\r\n            $(".ytp-play-button").trigger("click");\r\n            setTimeout(function(){\r\n                if($("video").get(0).paused){\r\n                    $(".ytp-play-button").trigger("click");\r\n                }\r\n            },300);\r\n        });\r\n    }\r\n\r\n    //// moved to onYTPlayerReady in video_youtube.js\r\n    // // set_volume_when_stream_starts\r\n    // if(GM_SETTINGS.set_volume_when_stream_starts){\r\n    //     try{\r\n    //         // let ytPlayerVolume = localStorage.getItem(\'yt-player-volume\');\r\n    //         // if(ytPlayerVolume !== null){\r\n    //         //     let data = JSON.parse(ytPlayerVolume);\r\n    //         //     let data_data = JSON.parse(data.data);\r\n    //         //     data_data.volume = 100.0*GM_SETTINGS.target_start_volume;\r\n    //         //     data.data = JSON.stringify(data_data);\r\n    //         //     data.creation = Number(new Date());\r\n    //         //     data.expiration = Number(new Date())+10000000;\r\n    //         //     localStorage.setItem(\'yt-player-volume\', JSON.stringify(data));\r\n    //         // }\r\n\r\n    //         let data_data = {"volume":100.0*GM_SETTINGS.target_start_volume,"muted":(GM_SETTINGS.target_start_volume === 0 ? true : false)};\r\n    //         let data = {data: JSON.stringify(data_data), expiration: Number(new Date())+10000000, creation: Number(new Date())};\r\n    //         localStorage.setItem(\'yt-player-volume\', JSON.stringify(data));\r\n    //     }\r\n    //     catch(e){\r\n    //         NOMO_DEBUG("Error from set_volume_when_stream_starts");\r\n    //     }\r\n    // }\r\n}\r\n\r\n\r\n// player 준비되면 실행\r\nfunction onPlayerReady(){\r\n    \r\n    // set_volume_when_stream_starts\r\n    if(GM_SETTINGS.set_volume_when_stream_starts && typeof YTPlayer.setVolume === "function"){\r\n        YTPlayer.setVolume(100.0*GM_SETTINGS.target_start_volume);\r\n    }\r\n\r\n    if(useSetQuality){\r\n        let TYTQ = GM_SETTINGS.youtubeSetQuality;\r\n        //let TYTQ_INDEX = YTQ_LIST.indexOf(TYTQ);\r\n\r\n        // get current quality\r\n        let CYTQ = YTPlayer.getPlaybackQuality();\r\n        (0,_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)(`Current YTQ: ${CYTQ}`);\r\n\r\n        //let AYTQ = YTPlayer.getAvailableQualityLevels();\r\n        //NOMO_DEBUG(`Current YTQ: ${CYTQ}, Available YTQ : ${AYTQ}`);\r\n        \r\n        // // check current quality and set quality\r\n        // // TARGET >= CURRENT ?\r\n        // if (CYTQ === "unknown" || TYTQ_INDEX >= YTQ_LIST.indexOf(CYTQ))\r\n        // {\r\n        //     if (YTPlayer.setPlaybackQualityRange !== undefined){\r\n        //         YTPlayer.setPlaybackQualityRange(TYTQ);\r\n        //     }\r\n        //     YTPlayer.setPlaybackQuality(TYTQ);\r\n\r\n        //     NOMO_DEBUG(`YTQ CHANGED. ${CYTQ} -> ${TYTQ}`);\r\n        // }\r\n        // // TARGET < CURRENT\r\n        // else{\r\n        //     // let AYTQ = YTPlayer.getAvailableQualityLevels();\r\n        //     // NOMO_DEBUG(`Available YTQ : ${AYTQ}`);\r\n            \r\n        //     // for(let i=TYTQ_INDEX;i<YTQ_LIST.length;i++){\r\n\r\n        //     // }\r\n\r\n        // }\r\n\r\n        // embed 된 player 의 경우 항상 CYTQ === "unknown" 인 것으로 보인다.\r\n        if (YTPlayer.setPlaybackQualityRange !== undefined){\r\n            YTPlayer.setPlaybackQualityRange(TYTQ);\r\n        }\r\n        YTPlayer.setPlaybackQuality(TYTQ);\r\n\r\n        (0,_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)(`YTQ CHANGED. ${CYTQ} -> ${TYTQ}`);\r\n    }\r\n\r\n\r\n    // alwaysShowVolumeController\r\n    if(GM_SETTINGS.alwaysShowVolumeController){\r\n        //$(".ytp-chrome-controls").addClass(".ytp-volume-slider-active");\r\n        GM_addStyle(`\r\n        .ytp-time-display-allow-autohide {\r\n            display: none;\r\n        }\r\n        .ytp-volume-panel {\r\n            width: 52px;\r\n            margin-right: 3px;\r\n            -webkit-transition: margin .2s cubic-bezier(0,0,0.2,1),width .2s cubic-bezier(0,0,0.2,1);\r\n            transition: margin .2s cubic-bezier(0,0,0.2,1),width .2s cubic-bezier(0,0,0.2,1);\r\n        }\r\n        .ytp-big-mode .ytp-volume-panel {\r\n            width: 78px;\r\n            margin-right: 5px;\r\n        }\r\n        .ytp-impression-link {\r\n            display:none;\r\n        }\r\n        `);\r\n    }\r\n}\r\n\r\n\r\n// quality setting 이 가능한 유저 설정인지 확인\r\nfunction YOUTUBE_EMBED_SET_QUALITY_CHECK_QUALITY(){\r\n    if(GM_SETTINGS.youtubeSetQuality === "default") return false;\r\n\r\n    if(!$.inArray(GM_SETTINGS.youtubeSetQuality, YTQ_LIST)){\r\n        (0,_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("NO TARGET QUALITY");\r\n        return false;\r\n    }\r\n    else{\r\n        return true;\r\n    }\r\n}\r\n\r\n\r\n// youtube player 가 quality setting 을 위해 준비되었는지 확인\r\nvar iter = 1;\r\nconst max_iter = 40;\r\nfunction CheckYTPlayerReady(){\r\n    (0,_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("YOUTUBE_EMBED_SET_QUALITY_POST", iter);\r\n\r\n    // check if youtube player is ready\r\n    if(!YTPlayerReady){\r\n        if(iter > max_iter) return;\r\n\r\n        $YTPlayer = $(".html5-video-player");\r\n        if($YTPlayer.length !== 0 && $YTPlayer[0].getPlaybackQuality !== undefined){\r\n            YTPlayer = $YTPlayer[0];\r\n            YTPlayerReady = true;\r\n            onPlayerReady();\r\n        }\r\n        else{\r\n            setTimeout(function(){\r\n                iter += 1;\r\n                CheckYTPlayerReady();\r\n            }, 50);\r\n            return;\r\n        }\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./src/js/page/page_youtube_embed.js?')},"./src/js/settings.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ GM_SETTINGS_INIT)\n/* harmony export */ });\n/* harmony import */ var js_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js/lib */ "./src/js/lib.js");\n\r\n\r\n////////////////////////////////////////////////////////////////////////////////////\r\n// Settings\r\n////////////////////////////////////////////////////////////////////////////////////\r\nconst _settings = {\r\n    \r\n    // video common\r\n    convertMethod : {\r\n        category:"videoCommon",\r\n        category_name: "Video 공통",\r\n        depth: 1,\r\n        type: "radio",\r\n        value: "autoLoad",\r\n        title:"Video 링크 변환 시점 선택",\r\n        desc:" - 페이지 로딩 시: 링크를 비디오로 자동 변환<br /> - 섬네일 클릭 시: 섬네일을 클릭할 때 비디오로 변환", radio: {autoLoad: {title: "페이지 로딩 시", value:"autoLoad"}, clickRequired: {title: "섬네일 클릭 시", value:"clickRequired"}},\r\n    },\r\n    autoPlayFirstClip: {\r\n        category: "type",\r\n        category_name: "페이지 로딩 시",\r\n        depth: 2,\r\n        under_dev:true,\r\n        radio_enable_value: "autoLoad",\r\n        type: "checkbox",\r\n        value: false,\r\n        title: "페이지 로딩과 동시에 첫 번째 동영상을 자동 재생",\r\n        desc: "일부 동영상 플랫폼의 경우 지원하지 않을 수 있습니다."\r\n    },\r\n    autoPlayFirstClipMuted: {\r\n        category: "type",\r\n        depth: 2,\r\n        under_dev:true,\r\n        radio_enable_value: "autoLoad",\r\n        type: "checkbox",\r\n        value: true,\r\n        title: "첫 번째 클립 자동 재생 시 음소거로 시작",\r\n        desc: "일부 동영상 플랫폼의 경우 시작 시 음소거 기능을 지원하지 않아 소리가 켜진채로 자동 재생될 수 있으므로 주의하세요."\r\n    },\r\n    clickRequiredAutoPlay: {\r\n        category: "type",\r\n        category_name: "섬네일 클릭 시",\r\n        depth: 2,\r\n        under_dev:true,\r\n        radio_enable_value: "clickRequired",\r\n        type: "checkbox",\r\n        value: true,\r\n        title: "클립 로드 시 섬네일 클릭과 동시에 자동 재생",\r\n        desc: ""\r\n    },\r\n\r\n    set_volume_when_stream_starts: {\r\n        category:"videoCommon",\r\n        depth: 1,\r\n        type: "checkbox",\r\n        value: false,\r\n        title: {en:"Set the volume when stream starts", ko:"동영상 로드 시 특정 사운드 볼륨(Volume)으로 설정"},\r\n        desc: "TIP: Chrome 계열 브라우저는 자동 재생되는 클립을 종종 음소거합니다. 음소거 문제를 피하려면 본 옵션을 사용해보세요(안 될 수도 있음)."\r\n    },\r\n    target_start_volume : {\r\n        category:"advanced", depth:2,\r\n        type: "text", value: 1.0, valid:"number", min_value:0.0, max_value:1.0,\r\n        title:{en:"Volume", ko:"Volume"},\r\n        desc:{en:"(Max Volume: 1.0, Mute: 0.0, Range: 0.0 ~ 1.0)", ko:"(Max Volume: 1.0, 음소거: 0.0, 범위: 0.0 ~ 1.0)"}\r\n    },\r\n    alwaysShowVolumeController : {\r\n        category:"videoCommon",\r\n        depth: 1,\r\n        type: "checkbox",\r\n        value: false,\r\n        title:"볼륨 컨트롤바를 항상 표시",\r\n        desc:"Youtube, Twitch, Naver Video 에서 볼륨 컨트롤바를 항상 표시합니다."\r\n    },\r\n    videoWidth : {\r\n        category:"videoCommon",\r\n        depth:1,\r\n        under_dev:true,\r\n        type: "text",\r\n        value: 100,\r\n        valid:"number",\r\n        min_value:1,\r\n        max_value:100,\r\n        title:"비디오 가로 사이즈(%)", desc:"본문 사이즈 대비 비디오 가로 사이즈를 결정합니다.<br />(Default: 100, Range: 1~100)" },\r\n    autoPauseOtherClips: {\r\n        category:"videoCommon",\r\n        under_dev:true,\r\n        depth: 1,\r\n        type: "checkbox",\r\n        value: true,\r\n        title:"비디오 재생 시 다른 재생 중인 비디오 일시정지",\r\n        desc:"Youtube, Twitch Clip, Naver Video 를 재생 시, 다른 재생 중인 모든 비디오를 일시정지 합니다. 다음 동영상을 재생하기 위하여 이전 동영상을 정지할 필요가 없습니다. (엄청 편하다!)"\r\n    },\r\n    autoPlayNextClip: {\r\n        category:"videoCommon",\r\n        under_dev:true,\r\n        depth: 1,\r\n        type: "checkbox",\r\n        value: false,\r\n        title:"다음 영상을 자동으로 이어서 재생",\r\n        desc:"본문에 여러 개의 동영상이 존재할 때 동영상이 종료되면 다음 영상을 자동으로 재생합니다(편하다!). 일부 동영상 플랫폼의 경우 본 기능이 지원되지 않을 수 있습니다."\r\n    },\r\n    removeOriginalLinks: {\r\n        category:"videoCommon",\r\n        under_dev:true,\r\n        depth: 1,\r\n        type: "checkbox",\r\n        value: true,\r\n        title:"클립 원본 링크 삭제",\r\n        desc:"클립 섬네일을 감지했을 때, 본문에 동일한 링크가 존재하는 경우 삭제하여 보기 좋게 만듭니다."\r\n    },\r\n    hideTopOverlay: {\r\n        category:"videoCommon",\r\n        depth: 1,\r\n        type: "checkbox",\r\n        value: false,\r\n        title:"동영상 상단 메뉴를 숨김",\r\n        desc:"동영상 위에 마우스를 올렸을 때 나타나는 상단 메뉴를 숨깁니다."\r\n    },\r\n    hidePauseOverlay: {\r\n        category:"videoCommon",\r\n        under_dev:true,\r\n        depth: 1,\r\n        type: "checkbox",\r\n        value: true,\r\n        title:"동영상 일시정지 시 뜨는 메뉴를 숨김",\r\n        desc:""\r\n    },\r\n    hideEndOverlay: {\r\n        category:"videoCommon",\r\n        under_dev:true,\r\n        depth: 1,\r\n        type: "checkbox",\r\n        value: true,\r\n        title:"동영상 시청 종료 후 뜨는 추천 영상 메뉴등을 숨김",\r\n        desc:""\r\n    },\r\n    hideDescription: {\r\n        category: "videoCommon",\r\n        depth: 1,\r\n        under_dev:true,\r\n        type: "checkbox",\r\n        value: false,\r\n        title: "동영상 설명을 숨김",\r\n        desc: "본 스크립트에 의해 추가된 동영상 하단의 설명 부분을 숨깁니다."\r\n    },\r\n\r\n    // Naver Video\r\n    useNaver: {\r\n        category:"naver",\r\n        category_name: "Naver Video",\r\n        depth: 1,\r\n        type: "checkbox",\r\n        value: true,\r\n        title:"Naver 관련 기능 사용",\r\n        desc:""\r\n    },\r\n    naverVideoAutoMaxQuality: {\r\n        category:"naver",\r\n        depth: 2,\r\n        type: "checkbox",\r\n        value: true,\r\n        title:"네이버 비디오를 항상 최대 품질로 시작",\r\n        desc:""\r\n    },\r\n    NaverVideoEnhancedClick: {\r\n        category:"naver",\r\n        under_dev:true,\r\n        depth: 2,\r\n        type: "checkbox",\r\n        value: true,\r\n        title:"네이버 비디오 화면 클릭 동작 개선",\r\n        desc:"네이버 비디오 화면 위에서 클릭 후 살짝 마우스를 움직일 때 클릭이 씹히는 것을 개선합니다. 더블클릭으로 전체화면 모드를 활성화 합니다."\r\n    },\r\n    NaverVideoAddLoopBtn: {\r\n        category:"naver",\r\n        under_dev:true,\r\n        depth: 2,\r\n        type: "checkbox",\r\n        value: false,\r\n        title:"[실험실] Loop 버튼 추가",\r\n        desc:"오랜 시간 반복 재생 시 네트워크 에러가 발생할 수 있습니다."\r\n    },\r\n\r\n    // Youtube\r\n    useYoutube : {\r\n        category:"youtube",\r\n        category_name:"Youtube",\r\n        depth: 1,\r\n        type: "checkbox",\r\n        value: true,\r\n        title:"Youtube 관련 기능 사용",\r\n        desc:"",\r\n    },\r\n    youtubeClipConvert : {\r\n        category:"youtube",\r\n        depth: 2,\r\n        type: "checkbox",\r\n        value: true,\r\n        title:"Youtube Clip 링크를 비디오로 변환",\r\n        desc:"<span style=\'color:#999\'>예시) https://youtube.com/clip/xxxxx_xxxxxx-xxxxxx_xxxxx</span>",\r\n    },\r\n    youtubeClipStoryBoardImage : {\r\n        category:"youtube",\r\n        depth: 3,\r\n        type: "checkbox",\r\n        value: true,\r\n        under_dev:true,\r\n        title:"Youtube Clip 섬네일을 스토리보드 이미지로 대체",\r\n        desc:"",\r\n    },\r\n    youtubeSetQuality : {\r\n        category:"youtube",\r\n        depth: 2,\r\n        type: "combobox",\r\n        value: "hd1080",\r\n        title:"Youtube 비디오 품질 자동 설정",\r\n        desc:"선택한 비디오 품질을 자동으로 선택합니다. 선택한 품질이 존재하지 않을 경우, 그 다음으로 가장 좋은 품질이 설정됩니다.",\r\n        options:{\r\n            "default":{title:"사용 안 함"},\r\n            "highres":{title:"highres (8K)"},\r\n            "hd2880":{title:"hd2880 (5K)"},\r\n            "hd2160":{title:"hd2160 (4K)"},\r\n            "hd1440":{title:"hd1440 (1440p)"},\r\n            "hd1080":{title:"hd1080 (1080p)"},\r\n            "hd720":{title:"hd720 (720p)"},\r\n            "large":{title:"large (480p)"},\r\n            "medium":{title:"medium (360p)"},\r\n            "small":{title:"small (240p)"},\r\n            "tiny":{title:"tiny (144p)"},\r\n        }\r\n    },\r\n\r\n    // Afreecatv\r\n    useAftv : {\r\n        category:"aftv",\r\n        category_name:"Afreecatv",\r\n        depth: 1,\r\n        type: "checkbox",\r\n        value: true,\r\n        title:"Afreecatv VOD 링크를 비디오로 변환 ",\r\n        desc:"<span style=\'color:#999\'>예시) https://vod.afreecatv.com/player/11111111</span><br />하위 기능은 스크립트 설정에 따라 적용되지 않을 수도 있습니다.",\r\n    },\r\n    aftvAutoMaxQuality: {\r\n        category:"aftv",\r\n        depth: 2,\r\n        type: "checkbox",\r\n        value: true,\r\n        title:"Afreecatv 비디오를 항상 최대 품질로 시작",\r\n        desc:""\r\n    },\r\n    aftvShowChat: {\r\n        category:"aftv",\r\n        under_dev: true,\r\n        depth: 2,\r\n        type: "checkbox",\r\n        value: false,\r\n        title:"가능한 경우 채팅을 표시",\r\n        desc:""\r\n    },\r\n    aftvBeautifier: {\r\n        category:"aftv",\r\n        under_dev: true,\r\n        depth: 2,\r\n        type: "checkbox",\r\n        value: true,\r\n        title:"Afreecatv 플레이어를 더욱 보기 좋게 만듦",\r\n        desc:""\r\n    },\r\n\r\n    \r\n    // Twitch\r\n    useTwitch : {\r\n        category:"others",\r\n        category_name:"그 외",\r\n        depth: 1,\r\n        type: "checkbox",\r\n        value: false,\r\n        title:"Twitch Clip 및 VOD 링크를 비디오로 변환",\r\n        desc:"한국 거주 시청자는 사용할 수 없습니다."\r\n    },\r\n    play_and_pause_by_click : {\r\n        category:"others",\r\n        debug:true,\r\n        depth: 2,\r\n        type: "checkbox",\r\n        value: true,\r\n        title:"Twitch Clip 페이지 스타일로 표시",\r\n        desc:"클립 화면을 클릭하여 재생 및 일시정지 되도록 만듭니다. (편하다!)<br />일시정지 시 상단 오버레이와 재생 버튼을 숨깁니다. 재생 중 화면을 더블 클릭하여 전체화면을 할 수 있습니다."\r\n    },\r\n    twitch_clip_time_update_after_end : {\r\n        category:"others",\r\n        debug:true,\r\n        depth: 2,\r\n        type: "checkbox",\r\n        value: true,\r\n        title:"클립 재생이 끝난 후 동영상 탐색 동작 개선",\r\n        desc:"클립 재생이 끝나고 동영상을 탐색한 경우, 클립 재시작 시 마지막 탐색한 시간부터 시작하도록 동작을 개선합니다."\r\n    },\r\n\r\n    useStreamable : {\r\n        category:"others",\r\n        depth: 1,\r\n        type: "checkbox",\r\n        value: true,\r\n        title:"Streamable 링크를 비디오로 변환 ",\r\n        desc:"<span style=\'color:#999\'>예시) https://streamable.com/xxxxxxxx</span>",\r\n    },\r\n\r\n    useClippy :{\r\n        category:"others",\r\n        depth: 1,\r\n        type: "checkbox",\r\n        value: true,\r\n        title:"Clippy 링크를 비디오로 변환 ",\r\n        desc:"<span style=\'color:#999\'>예시) https://clippy.kr/clip/xxxxxxxx</span>",\r\n    },\r\n\r\n    useKakao :{\r\n        category:"others",\r\n        depth: 1,\r\n        type: "checkbox",\r\n        value: true,\r\n        title:"Kakao TV 링크를 비디오로 변환",\r\n        desc:"<span style=\'color:#999\'>예시) https://tv.kakao.com/v/1111111</span>",\r\n    },\r\n\r\n    useDailymotion :{\r\n        category:"others",\r\n        depth: 1,\r\n        type: "checkbox",\r\n        value: true,\r\n        title:"Dailymotion 링크를 비디오로 변환",\r\n        desc:"<span style=\'color:#999\'>예시) https://www.dailymotion.com/video/xxxxxxx</span>",\r\n    },\r\n    \r\n    useGfycat :{\r\n        category:"others",\r\n        depth: 1,\r\n        type: "checkbox",\r\n        value: true,\r\n        title:"gfycat 링크를 비디오로 변환",\r\n        desc:"<span style=\'color:#999\'>예시) https://gfycat.com/xxxxxxxxxxxxxxxx</span>",\r\n    },\r\n\r\n    \r\n    useTiktok :{\r\n        category:"others",\r\n        depth: 1,\r\n        type: "checkbox",\r\n        value: true,\r\n        title:"Tiktok 링크를 비디오로 변환",\r\n        desc:"<span style=\'color:#999\'>예시) https://www.tiktok.com/@xxxxxxx/video/111111111</span>",\r\n    },\r\n\r\n    // // Vimeo\r\n    // useVimeo : {\r\n    //     category:"vimeo",\r\n    //     category_name:"Vimeo",\r\n    //     depth: 1,\r\n    //     type: "checkbox",\r\n    //     value: true,\r\n    //     title:"Vimeo 관련 기능 사용",\r\n    //     desc:"",\r\n    // },\r\n\r\n\r\n    fixFullScreenScrollChange: {\r\n        category:"etc",\r\n        category_name: "편의 기능",\r\n        depth: 1,\r\n        type: "checkbox",\r\n        value: true,\r\n        title:"네이버 카페 전체화면 스크롤 동작 개선",\r\n        desc:"비디오를 전체화면 후 해제 시 스크롤 위치가 변경되는 문제를 개선합니다."\r\n    },\r\n    improvedRefresh:{\r\n        category:"etc",\r\n        depth: 1,\r\n        type: "checkbox",\r\n        value: false,\r\n        title:"네이버 카페 새로고침 개선",\r\n        desc:"새로고침 시 첫 화면 대신 마지막으로 탐색한 페이지를 불러옵니다."\r\n    },\r\n    naverBoardDefaultArticleCount: {\r\n        category:"etc",\r\n        depth: 1,\r\n        type: "combobox",\r\n        value: "0",\r\n        title:"게시판 글 기본 표시 개수 설정",\r\n        desc:"",\r\n        options:{\r\n            "0":{title:"기본값 사용"},\r\n            "5":{title:"5"},\r\n            "10":{title:"10"},\r\n            "15":{title:"15"},\r\n            "20":{title:"20"},\r\n            "30":{title:"30"},\r\n            "40":{title:"40"},\r\n            "50":{title:"50"}\r\n        }\r\n    },\r\n    alwaysShowFavoriteBoard:{\r\n        under_dev:true,\r\n        category:"etc",\r\n        depth: 1,\r\n        type: "checkbox",\r\n        value: false,\r\n        title:"즐겨찾는 게시판을 항상 펼침",\r\n        desc:""\r\n    },\r\n    showDarkModeBtn : {\r\n        category:"etc",\r\n        under_dev:true,\r\n        depth: 1,\r\n        type: "checkbox",\r\n        value: false,\r\n        title:"[실험실] 어두운 모드 버튼을 표시",\r\n        desc:"카페 최상단 메뉴에 \'어두운 모드\' 버튼을 표시합니다."\r\n    },\r\n    visitedArticleStyle : {\r\n        category:"etc",\r\n        under_dev:true,\r\n        depth: 1,\r\n        type: "checkbox",\r\n        value: false,\r\n        title:"[실험실] 글 목록에서 읽은 글의 제목을 흐릿하게 표시",\r\n        desc:""\r\n    },\r\n\r\n    useTheaterMode : {\r\n        category:"theaterMode",\r\n        category_name: "영화관 모드",\r\n        under_dev:true,\r\n        depth: 1,\r\n        type: "checkbox",\r\n        value: true,\r\n        title:"영화관 모드 버튼을 표시",\r\n        desc:"카페 최상단 메뉴에 \'영화관 모드\' 버튼을 표시합니다. 영화관 모드에서는 카페 글을 더 넓게 표시하고, 네이버, 유투브, 트위치 동영상을 더 크게 표시합니다."\r\n    },\r\n    theaterModeAlignCenter : {\r\n        category:"theaterMode",\r\n        under_dev:true,\r\n        depth: 2,\r\n        type: "checkbox",\r\n        value: true,\r\n        title:"본문 가운데 정렬",\r\n        desc:"본문이 화면의 정 가운데 위치하도록 레이아웃을 수정합니다."\r\n    },\r\n    useTheaterModeContentWidth : {\r\n        category:"theaterMode",\r\n        depth: 2,\r\n        under_dev:true,\r\n        type: "text",\r\n        value: 1100,\r\n        valid:"number",\r\n        min_value:400,\r\n        max_value:10000,\r\n        title:"본문(컨텐츠) 가로 사이즈(px)",\r\n        desc:"영화관 모드 시 카페 컨텐츠의 가로 사이즈를 결정합니다.<br />(Default: 1100, Range: 400~10000, 권장: 700~1400)",\r\n    },\r\n    under_dev : { category:"advanced", category_name:"고급", depth:1, type: "checkbox", value: false, title:"숨겨진 고급 기능 설정", desc:"숨겨진 고급 기능과 실험실 기능을 직접 설정할 수 있습니다." },\r\n};\r\nGM_addStyle(`\r\nbody #GM_setting {min-width:800px;}\r\nbody #GM_setting .GM_setting_depth1 .GM_setting_list_head{width:370px;}\r\nbody #GM_setting .GM_setting_depth2 .GM_setting_list_head{width:340px;}\r\nbody #GM_setting .GM_setting_depth3 .GM_setting_list_head{width:310px;}\r\n\r\n#GM_setting li[GM_setting_key="set_volume_when_stream_starts"]\r\n{\r\n    border-top: 1px solid #ccc !important;\r\n    margin-top: 10px !important;\r\n    padding-top: 10px !important;\r\n}\r\n\r\n#theaterModeBtn, #darkModeBtn {\r\n    display: inline-block;\r\n    float: left;\r\n    margin-top: 10px;\r\n    font-size: 12px;\r\n    cursor: pointer;\r\n}\r\n\r\nhtml body .se-viewer .se-module-oglink.twitchClipFound:before{\r\n    display:none;\r\n}\r\n`);\r\nwindow.GM_setting = js_lib__WEBPACK_IMPORTED_MODULE_0__.GM_setting;\r\n\r\nasync function GM_SETTINGS_INIT(){\r\n    await js_lib__WEBPACK_IMPORTED_MODULE_0__.GM_setting.init("GM_SETTINGS", {"DEBUG":js_lib__WEBPACK_IMPORTED_MODULE_0__.DEBUG, "SETTINGS":_settings, "CONSOLE_MSG":js_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG, "MULTILANG":false});\r\n}\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./src/js/settings.js?')},"./src/js/theater.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "THEATER_INIT": () => (/* binding */ THEATER_INIT),\n/* harmony export */   "applyTheaterMode": () => (/* binding */ applyTheaterMode)\n/* harmony export */ });\n/* harmony import */ var js_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js/lib */ "./src/js/lib.js");\n\r\n\r\nvar isTheaterMode = false;\r\nvar $theaterModeBtn = $(`<span title="[NCCL] 클릭 시 영화관 모드를 ${isTheaterMode ? "비활성화" : "활성화"} 합니다. 영화관 모드에서는 카페 글을 더 넓게 표시하고, 네이버, 유투브, 트위치 동영상을 더 크게 표시합니다." id="theaterModeBtn">영화관 모드 ${isTheaterMode ? "켜짐" : "꺼짐"}<img src="https://cafe.pstatic.net/cafe4/ico-blank.gif" width="1" height="10" alt="" class="tcol-c"></span>`)\r\n    .on("click", async () => {\r\n        (0,js_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("isTheaterMode", isTheaterMode, " -> ", !isTheaterMode);\r\n        isTheaterMode = !isTheaterMode;\r\n        await GM.setValue("theaterMode", isTheaterMode);\r\n        if (typeof GM.addValueChangeListener === "function"){\r\n            applyTheaterMode();\r\n        }\r\n        else{\r\n            location.reload();\r\n        }\r\n    });\r\n\r\nfunction CREATE_THEATER_MODE_BTN(){\r\n    if(GM_SETTINGS.useTheaterMode){\r\n        var $gnbmenu = $("#gnb-menu");\r\n        if($gnbmenu.length !== 0){\r\n            $gnbmenu.prepend($theaterModeBtn);\r\n        }\r\n\r\n        var $frontImage = $("#front-cafe a img");\r\n        if($frontImage.length !== 0){\r\n            var src = $frontImage.attr("src");\r\n            GM_addStyle(`\r\n            html.theaterMode #front-cafe::before{\r\n                content:\'-\';\r\n                width:100%;\r\n                height:100%;\r\n                position:absolute;\r\n                background-size: cover;\r\n                top:0;\r\n                left:0;\r\n                background-image:url(${src});\r\n                filter:blur(10px);\r\n                z-index:1;\r\n            }\r\n\r\n            html.theaterMode #front-cafe img{\r\n                position:relative;\r\n                top:0;\r\n                left:0;\r\n                z-index:2;\r\n            }\r\n            `);\r\n        }\r\n    }\r\n}\r\n\r\nasync function THEATER_INIT(){\r\n    (0,js_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("THEATER_INIT");\r\n    isTheaterMode = await GM.getValue("theaterMode", false);\r\n    if (typeof GM.addValueChangeListener === "function"){\r\n        GM.addValueChangeListener("theaterMode", async function (val_name, old_value, new_value, remote) {\r\n            if (remote) {\r\n                (0,js_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("다른 창에서 설정 변경됨. val_name, old_value, new_value, location:", val_name, old_value, new_value, document.location.href);\r\n                applyTheaterMode();\r\n            }\r\n        });\r\n    }\r\n\r\n    applyTheaterMode();\r\n    $(document).ready(function(){\r\n        if(GLOBAL.isNaverCafeTop){\r\n            CREATE_THEATER_MODE_BTN();\r\n        }\r\n    });\r\n}\r\n\r\nvar theaterModeCSSElem = undefined;\r\nvar nonTheaterModeCSSElem = undefined;\r\nasync function applyTheaterMode(){\r\n    try{\r\n        isTheaterMode = await GM.getValue("theaterMode", false);\r\n        if(theaterModeCSSElem !== undefined) $(theaterModeCSSElem).remove();\r\n        if(nonTheaterModeCSSElem !== undefined) $(nonTheaterModeCSSElem).remove();\r\n        if(GLOBAL.isCafeWritingMode) {\r\n            (0,js_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("CafeWritingMode - NO TheaterMode");\r\n            return;\r\n        }\r\n            \r\n        var theaterModeCSSText = "";\r\n\r\n\r\n        if(GLOBAL.isNaverCafeMobile){\r\n            isTheaterMode = false;\r\n        }\r\n\r\n        if(isTheaterMode){\r\n            $("html").addClass("theaterMode");\r\n            var cwPure = Number(GM_SETTINGS.useTheaterModeContentWidth) * Number(Number(GM_SETTINGS.videoWidth)) / 100.0;\r\n\r\n            // 본문 정렬\r\n            if(!GM_SETTINGS.theaterModeAlignCenter){\r\n                theaterModeCSSText += `\r\n                #cafe-body, #content-area, #front-cafe, #front-img, .footer {width:calc(${GM_SETTINGS.useTheaterModeContentWidth}px + 220px + 60px) !important}\r\n                #cafe_main, .Article, .Article .article_wrap, #content-area #main-area {width:calc(${GM_SETTINGS.useTheaterModeContentWidth}px + 60px) !important}\r\n                `;\r\n            }\r\n            else{\r\n                theaterModeCSSText += `\r\n                #cafe-body, #content-area, #front-cafe, #front-img, .footer {width:calc(${GM_SETTINGS.useTheaterModeContentWidth}px + 60px) !important}\r\n                #cafe_main, .Article, .Article .article_wrap, #content-area #main-area {width:calc(${GM_SETTINGS.useTheaterModeContentWidth}px + 60px) !important}\r\n\r\n                #group-area {position:absolute;top:0;left:-230px}\r\n                /*#main-area {position:absolute;top:0;left:0;}*/\r\n                .footer {display:none;}\r\n                `;\r\n            }\r\n\r\n            theaterModeCSSElem = GM_addStyle(theaterModeCSSText+`\r\n                #front-cafe, #front-img {overflow:hidden; object-fit:cover !important;}\r\n\r\n                .CafeViewer .se-viewer .se-caption, .CafeViewer .se-viewer .se-component-content, .CafeViewer .se-viewer .se-component-content.se-component-content-fit{\r\n                    max-width:${cwPure}px !important;\r\n                    width:${cwPure}px !important;\r\n                }\r\n\r\n                #front-cafe {text-align:center}\r\n                .ArticleFormBanner.bottom{margin-left:auto;margin-right:auto}\r\n                #cafe-intro .gate-list.border-sub {\r\n                    width:unset !important;\r\n                    float:unset !important;\r\n                    margin:0 auto;\r\n                }\r\n            `);\r\n        }\r\n        else{\r\n            $("html").removeClass("theaterMode");\r\n            nonTheaterModeCSSElem = GM_addStyle(theaterModeCSSText);\r\n        }\r\n\r\n        $theaterModeBtn\r\n            .attr("title", `[NCCL] 클릭 시 영화관 모드를 ${isTheaterMode ? "비활성화" : "활성화"} 합니다. 영화관 모드에서는 카페 글을 더 넓게 표시하고, 네이버, 유투브, 트위치 동영상을 더 크게 표시합니다.`)\r\n            .html(`영화관 모드 ${isTheaterMode ? "켜짐" : "꺼짐"}<img src="https://cafe.pstatic.net/cafe4/ico-blank.gif" width="1" height="10" alt="" class="tcol-c">`);\r\n    }\r\n    catch(e){\r\n        (0,js_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("Error from applyTheaterMode", e);\r\n    }\r\n}\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./src/js/theater.js?')},"./src/js/video/video_Twitch.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "VideoTwitch": () => (/* binding */ VideoTwitch)\n/* harmony export */ });\n/* harmony import */ var js_video_video_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js/video/video_common.js */ "./src/js/video/video_common.js");\n\r\n\r\nconst TTVLogo = `<svg style="vertical-align: middle;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="14" height="14" viewBox="0 0 256 256" xml:space="preserve"><g transform="translate(128 128) scale(0.72 0.72)" style=""><g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(-175.05 -175.05000000000004) scale(3.89 3.89)" ><path d="M 2.015 15.448 v 63.134 h 21.493 V 90 h 12.09 l 11.418 -11.418 h 17.463 l 23.507 -23.507 V 0 H 8.06 L 2.015 15.448 z M 15.448 8.06 h 64.478 v 42.985 L 66.493 64.478 H 45 L 33.582 75.896 V 64.478 H 15.448 V 8.06 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(97,59,162); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" /><rect x="58.43" y="23.51" rx="0" ry="0" width="8.06" height="23.48" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(97,59,162); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) "/><rect x="36.94" y="23.51" rx="0" ry="0" width="8.06" height="23.48" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(97,59,162); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) "/></g></g></svg>`;\r\n\r\nclass VideoTwitch extends js_video_video_common_js__WEBPACK_IMPORTED_MODULE_0__.VideoBase {\r\n    constructor(options) {\r\n        options.logoSVG = TTVLogo;\r\n        super(options);\r\n        this.option = options.option;\r\n        this.start = options.start;\r\n        if(this.type === GLOBAL.TWITCH_CLIP){\r\n            this.iframeUrl = `https://clips.twitch.tv/embed?clip=${this.id}&parent=cafe.naver.com&extension=NCCL&seq=${this.seq}&autoplay=${this.autoPlay}&muted=${this.muted}`;\r\n        }\r\n        else if(this.type === GLOBAL.TWITCH_VOD){\r\n            this.iframeUrl = `https://player.twitch.tv/?video=${this.id}&parent=cafe.naver.com&extension=NCCL&seq=${this.seq}&autoplay=${this.autoPlay}&muted=${this.muted}${this.option}`;\r\n        }\r\n        NOMO_DEBUG("new VideoTwitch", options);\r\n    }\r\n}\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./src/js/video/video_Twitch.js?')},"./src/js/video/video_aftv.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "VideoAFTV": () => (/* binding */ VideoAFTV)\n/* harmony export */ });\n/* harmony import */ var js_lib_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js/lib.js */ "./src/js/lib.js");\n/* harmony import */ var js_video_video_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! js/video/video_common.js */ "./src/js/video/video_common.js");\n\r\n\r\n\r\nconst AFTVLogo = `<svg viewBox="0 0 69.15 75.91" width="18px" height="18px" style="margin-top:-2px;" xmlns="http://www.w3.org/2000/svg"><path d="M2.14,65A108.54,108.54,0,0,1,0,43.19a100.16,100.16,0,0,1,1.33-17.07,20.93,20.93,0,0,1,.71-2.77,11.1,11.1,0,0,1,6.35-6.74A28.88,28.88,0,0,1,13.26,15a83.71,83.71,0,0,1,19.15-2.37h.45A78.06,78.06,0,0,1,51.77,15a49.58,49.58,0,0,1,5.15,1.68s5.07,2,6.42,6.67A24.76,24.76,0,0,1,64,26a114.94,114.94,0,0,1,1.36,17.21,110.06,110.06,0,0,1-2.2,21.93v0a10.05,10.05,0,0,1-7.66,7.75l-.36.07a115.36,115.36,0,0,1-22.46,2.2A115.39,115.39,0,0,1,10.26,73l-.5-.1A10,10,0,0,1,4,69.2,8.83,8.83,0,0,1,2.14,65Z" fill="none"/><path d="M50.22,1.27a2.33,2.33,0,0,1-1.36,3.25l-14.11,6.41a4.66,4.66,0,0,1-4.37-.1l-9.12-4.32a2.34,2.34,0,0,1-.61-3.44h0A2.3,2.3,0,0,1,24,2.81l7,5.64a2.47,2.47,0,0,0,2.19.52A3,3,0,0,0,34,8.6L46.91.33a2.35,2.35,0,0,1,3.31.94Z" fill="#0545b1"/><g><path d="m68.24 27.38c-1-7.4-2.7-11.63-12.33-13.81a105.8 105.8 0 0 0-20.14-2.57c-1.09-0.05-2.19-0.05-3.29 0a105.71 105.71 0 0 0-20.13 2.58c-7.13 1.62-9.92 4.35-11.29 8.67-0.24 0.76 2.06-0.45 1.89 0.41s0.53 12.21 0.4 13.17c-1 7.29-4.24 7.61-4.24 7.87a134.72 134.72 0 0 0 0.89 16.3c1 7.4 2.71 11.62 12.34 13.81 8.68 2 15 1.83 20.13 2.06h3.29c5.16-0.23 11.45-0.1 20.14-2.06 9.63-2.19 11.34-6.41 12.33-13.81a132.48 132.48 0 0 0 0.9-16.31c0-0.14-1.45-3-2.88-6.78-0.14-0.37-1.08 1.57-1.22 1.19-1-2.74-1.09-8.12-1.41-10.85-0.04-0.44 4.68 0.56 4.62 0.13z" fill="#0545b1"/><path d="m43.87 33.56c-0.07-2.56-0.1-5.08 0-7.61a5.56 5.56 0 0 1 2.58-4.79 6.39 6.39 0 0 1 5.83-0.29c3 1.33 6.82 3.37 6.82 3.37 2.21 1.2 4.07 2.21 6.39 3.72a2.5 2.5 0 0 1 0.35 0.21 5.63 5.63 0 0 1 0.07 9.45c-2.2 1.46-4.11 2.85-6.37 4.25a60 60 0 0 1-5.93 3.31 7.37 7.37 0 0 1-6.32 0.32 6.14 6.14 0 0 1-3-4.94s-0.29-2.79-0.42-7z" fill="#00bbed"/><path d="m47.75 53.93c-7.31 6.8-23.16 6.81-30.27 0a1.44 1.44 0 0 0-2 2.07c8.21 7.84 25.8 7.85 34.21 0a1.43 1.43 0 1 0-1.95-2.1z" fill="#fff"/><path d="M41.91,42.6a.2.2,0,0,1,0-.07l0-.43-1-10.77,0-.3a5,5,0,0,0-.13-.69,5.55,5.55,0,0,0-4.43-4.13,5.64,5.64,0,0,0-.93-.08h-5.53a5.29,5.29,0,0,0-.8.06,5.56,5.56,0,0,0-4.56,4.14c0,.18-.08.37-.11.55l-.05.58-1,10.7,0,.25a1.15,1.15,0,0,0,0,.19,1.48,1.48,0,0,0,0,.21,5.56,5.56,0,0,0,4.14,5.37,5.45,5.45,0,0,0,1.41.19h7.51a5.5,5.5,0,0,0,.91-.08,5.57,5.57,0,0,0,4.64-5.48Z" fill="#1ac62f"/><path d="m21.11 36.67c-2.13 7.11-8.5 10.73-15.54 9.51-7.31-1.26-12.59-11.6-8.95-18 3.12-5.46 9.92-9.5 17-7.32 7.55 2.35 9.64 8.63 7.49 15.81z" fill="#f2338a"/><circle cx="54.1" cy="33.27" r="4.69" fill="#1a1919"/><circle cx="10.46" cy="33.27" r="4.69" fill="#1a1919"/></g></svg>`;\r\n\r\nclass VideoAFTV extends js_video_video_common_js__WEBPACK_IMPORTED_MODULE_1__.VideoBase {\r\n    constructor(options) {\r\n        options.logoSVG = AFTVLogo;\r\n        options.type = GLOBAL.AFTV_VOD;\r\n        options.typeName = "AFTV_VOD";\r\n        super(options);\r\n\r\n        this.parseDataRequired = true;\r\n        this.start = options.start;\r\n        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("new VideoAFTV", options);\r\n    }\r\n\r\n    // parse thumbnail image\r\n    async parseData(){\r\n        if(this.isDataLoading || this.isDataLoaded) return;\r\n        this.isDataLoading = true;\r\n\r\n        let urlFetch = await fetch(`https://openapi.afreecatv.com/vod/embedinfo?vod_url=https://vod.afreecatv.com/player/${this.id}`, {method: \'POST\', cors:"no-cors", body: ""});\r\n        if(urlFetch.status === 200){\r\n            let json = await urlFetch.json();\r\n            (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("AFTV response", json);\r\n\r\n            let src = json.html.match(/src=[\'"]([a-zA-Z0-9-_%&?=./:]+)[\'"]/);\r\n            if(src === null) {\r\n                this.isDataLoading = false;\r\n                this.isDataLoaded = true;\r\n                this.isDataSucceed = false;\r\n                return;\r\n            }\r\n            let iframeUrl = src[1];\r\n            iframeUrl = iframeUrl.replace("embed?", `embed?parent=cafe.naver.com&extension=NCCL&seq=${this.seq}&`);\r\n            if(iframeUrl.indexOf("autoPlay") !== -1){\r\n                iframeUrl = iframeUrl.replace(/(autoPlay=)(true|false)/,`$1${this.autoPlay}`);\r\n            }\r\n            if(iframeUrl.indexOf("isEmbedautoPlay") !== -1){\r\n                iframeUrl = iframeUrl.replace(/(isEmbedautoPlay=)(true|false)/,`$1${this.autoPlay}`);\r\n            }\r\n            if(iframeUrl.indexOf("mutePlay") !== -1){\r\n                iframeUrl = iframeUrl.replace(/(mutePlay=)(true|false)/,`$1${this.muted}`);\r\n            }\r\n            if(iframeUrl.indexOf("showChat") !== -1){\r\n                iframeUrl = iframeUrl.replace(/(showChat=)(true|false)/,`$1${GM_SETTINGS.aftvShowChat}`);\r\n            }\r\n            if(this.start > 0){\r\n                iframeUrl += `&change_second=${this.start}`;\r\n            }\r\n            this.iframeUrl = iframeUrl;\r\n            this.postParseData();\r\n        }\r\n        else{\r\n            this.isDataLoading = false;\r\n            this.isDataLoaded = true;\r\n            this.isDataSucceed = false;\r\n            this.showParsingError();\r\n        }\r\n    }\r\n\r\n}\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./src/js/video/video_aftv.js?')},"./src/js/video/video_common.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "VideoBase": () => (/* binding */ VideoBase)\n/* harmony export */ });\n/* harmony import */ var js_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js/lib */ "./src/js/lib.js");\n\r\n\r\nclass VideoBase {\r\n    static nvideos = 0;\r\n    static videos = [];\r\n    static videosSequence = [];\r\n\r\n    constructor(options) {\r\n        this.type = options.type;\r\n        this.typeName = options.typeName;\r\n        this.id = options.id;\r\n        this.originalUrl = options.originalUrl;\r\n        this.url = options.url;\r\n        this.iframeUrl = options.iframeUrl;\r\n        this.title = options.title;\r\n        this.desc = options.desc;\r\n        this.view = options.vide;\r\n        this.logoSVG = options.logoSVG;\r\n        this.origin = options.origin;\r\n        this.isEmbed = options.isEmbed;\r\n        this.thumbnailUrl = options.thumbnailUrl;\r\n        this.video = options.video;\r\n        this.originalWidth = options.originalWidth;\r\n        this.originalHeight = options.originalHeight;\r\n        this.isSetMaxQuality = false;\r\n        this.lazyLoad = true;\r\n        this.postMessageUrl = (options.iframeUrl ? "https://"+this.iframeUrl.split("/")[2] : undefined);\r\n\r\n        // parse data\r\n        this.parseDataRequired = (options.parseDataRequired ? options.parseDataRequired : false);\r\n        this.isDataLoading = false;\r\n        this.isDataLoaded = false;\r\n        this.isDataSucceed = false;\r\n        this.parseDataCallbackQueue = [];\r\n\r\n        // player option\r\n        this.autoPlay = (options.autoPlay ? options.autoPlay : false);\r\n        this.muted = (options.muted ? options.muted : false);\r\n\r\n        // player state\r\n        this.blockThumbnailClickEvent = false;  // Thumbnail 처음 클릭되면 true\r\n        this.firstPlayed = false;               // 첫 재생 되면 true\r\n\r\n        // player element (cafe main)\r\n        this.$iframeContainer = undefined;\r\n        this.$iframe = undefined;\r\n        this.iframeLoaded = false;\r\n\r\n        this.$thumbnailContainer = undefined;\r\n        this.$thumbnail = undefined;\r\n\r\n        this.$loop = undefined;\r\n        this.$error = undefined;\r\n\r\n        // player element (embed page)\r\n        this.$btnPlay = undefined;\r\n        this.$btnPause = undefined;\r\n        this.$btnReplay = undefined;\r\n\r\n        this.seq = VideoBase.nvideos;\r\n        VideoBase.nvideos += 1;\r\n        VideoBase.videos.push(this);\r\n\r\n        // set seq for VideoBase\r\n        if(this.iframeUrl && this.iframeUrl.indexOf("seq=undefined") !== -1){\r\n            this.iframeUrl = this.iframeUrl.replace("seq=undefined",`seq=${this.seq}`);\r\n        }\r\n        \r\n        // lazyLoad off condition\r\n        if(this.seq === 0 && GM_SETTINGS.autoPlayNextClip){\r\n            this.lazyLoad = false;\r\n        }\r\n    }\r\n\r\n    static init(){\r\n        (0,js_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)(document.location.href, "VideoBase - init");\r\n        VideoBase.updateVideoSize();\r\n\r\n        window.addEventListener("message", function(e){\r\n            if(e.data.type === "NCCL"){\r\n                (0,js_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("received postMessage (embed -> naver)", e.data);\r\n                (0,js_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("VideoBase.videos", VideoBase.videos);\r\n                if(e.data.seq === undefined || e.data.seq === "") return;\r\n                switch(e.data.event){\r\n                default:\r\n                    break;\r\n                case "play":\r\n                    VideoBase.videos[e.data.seq].autoPlayPauseOthers("play");\r\n                    break;\r\n                case "ended":\r\n                    VideoBase.videos[e.data.seq].autoPlayPauseOthers("ended");\r\n                    break;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    // call this function only once\r\n    static updateVideoSize(){\r\n        (0,js_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("VideoBase - updateVideoSize");\r\n        var videoWidth = String(Math.max(GM_SETTINGS.videoWidth, 1.0));\r\n        GM_addStyle(`\r\n            .NCCL_iframe_container {\r\n                width:${videoWidth}%;\r\n                aspect-ratio:calc(16 / 9);\r\n            }\r\n        `);\r\n    }\r\n    \r\n    static stopAll(){\r\n        Object.values(this.videos).forEach(video => {\r\n            video.pause();\r\n        });\r\n    }\r\n\r\n    static arriveVideo(){\r\n\r\n    }\r\n\r\n    setVolumeStart(){\r\n\r\n    }\r\n\r\n\r\n    // video related function\r\n    play(){\r\n        (0,js_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("VideoBase - play", this.id);\r\n        if(!this.$iframe || !this.iframeLoaded) return;\r\n        this.autoPlayPauseOthers("play");\r\n        let newData = {"type":"NCCL", "event":"play", "seq":this.seq};\r\n        this.$iframe.get(0).contentWindow.postMessage(newData, this.postMessageUrl);\r\n    }\r\n    pause(){\r\n        (0,js_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("VideoBase - pause", this.id);\r\n        if(!this.$iframe || !this.iframeLoaded) return;\r\n        let newData = {"type":"NCCL", "event":"pause", "seq":this.seq};\r\n        this.$iframe.get(0).contentWindow.postMessage(newData, this.postMessageUrl);\r\n    }\r\n    stop(){\r\n        (0,js_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("VideoBase - stop", this.id);\r\n        if(!this.$iframe || !this.iframeLoaded) return;\r\n        let newData = {"type":"NCCL", "event":"pause", "seq":this.seq};\r\n        this.$iframe.get(0).contentWindow.postMessage(newData, this.postMessageUrl);\r\n    }\r\n\r\n\r\n    // video related event\r\n    eventPlay(){\r\n\r\n    }\r\n    eventPause(){\r\n\r\n    }\r\n    eventEnded(){\r\n\r\n    }\r\n    eventPlaying(){\r\n\r\n    }\r\n    eventWaiting(){\r\n\r\n    }\r\n    eventLoadedData(){\r\n\r\n    }\r\n    setMaxQuality(){\r\n\r\n    }\r\n\r\n    checkParseData(callback){\r\n        if(!this.parseDataRequired) return;\r\n\r\n        // 현재 데이터 로딩 중인 경우\r\n        if(this.isDataLoading){\r\n            (0,js_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("Now clip data loading, insert queue");\r\n            if(!callback && typeof callback === "function"){\r\n                this.parseDataCallbackQueue.push(callback);\r\n            }\r\n            return;\r\n        }\r\n        // 데이터가 아직 로드되지 않은 경우\r\n        else if(!this.isDataLoaded){\r\n            (0,js_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("No clip data loaded, insert queue and load clip data");\r\n            this.parseDataCallbackQueue.push(callback);\r\n            this.parseData();\r\n        }\r\n        // 데이터가 이미 로드된 경우\r\n        else if(this.isDataSucceed){\r\n            if(!callback && typeof callback === "function"){\r\n                this.parseDataCallbackQueue.push(callback);\r\n                this.postParseData();\r\n                //callback();\r\n            }\r\n        }\r\n        else{\r\n            // 알 수 없는 에러\r\n            (0,js_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("VideoYoutube insertIframe 에서 clip data 관련 알 수 없는 에러", this);\r\n            return;\r\n        }\r\n    }\r\n    async parseData(){\r\n        // do something\r\n    }\r\n    postParseData(){\r\n        this.$thumbnailContainer.addClass("playbtn");\r\n        this.hideLoader();\r\n\r\n        while(this.parseDataCallbackQueue.length > 0){\r\n            (0,js_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("parseDataCallbackQueue", this.parseDataCallbackQueue.length, this);\r\n            this.parseDataCallbackQueue[0].call(this);\r\n            this.parseDataCallbackQueue.shift(0);\r\n        }\r\n    }\r\n\r\n    thumbnailLoaded(){\r\n\r\n    }\r\n\r\n    createIframeContainer($oriElem){\r\n        (0,js_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("VideoBase - createIframeContainer", this.id);\r\n        let that = this;\r\n\r\n        // insert main container\r\n        this.$container = $(`<div class="NCCL_container" data-NCCL-type=${this.typeName}></div>`);\r\n        this.$iframeContainer = $(`<div class="NCCL_iframe_container" data-NCCL-type=${this.typeName}></div>`);\r\n\r\n        // insert thumbnail container\r\n        this.$thumbnailContainer = $(`<div class="NCCL_thumbnail_container" data-NCCL-type=${this.typeName}></div>`);\r\n        if(GM_SETTINGS.convertMethod !== "autoLoad" && this.thumbnailUrl){\r\n            this.$thumbnail = $(`<img loading="lazy" class="NCCL_thumbnail" src="${this.thumbnailUrl}" data-NCCL-type=${this.typeName} />`)\r\n                .on("load", function(e){that.thumbnailLoaded(e);});\r\n            this.$thumbnailContainer.append(this.$thumbnail);\r\n        }\r\n        this.$iframeContainer.append(this.$thumbnailContainer);\r\n\r\n        // loader\r\n        this.$loader = $(`<div class="NCCL_loader_container" style="display:none;">\r\n        <div class="NCCL_loader"></div>\r\n        <div class="NCCL_loader_desc_container"><div class="NCCL_loader_desc">Loading...</div></div>\r\n        </div>`);\r\n        this.$thumbnailContainer.append(this.$loader);\r\n        if(this.parseDataRequired){\r\n            this.$loader.fadeIn(100);\r\n        }\r\n        else{\r\n            this.$thumbnailContainer.addClass("playbtn");\r\n        }\r\n\r\n        // title and description\r\n        this.$title = $(`<div class="NCCL_title" data-NCCL-type=${this.typeName}>${this.title ? this.title : (this.desc ? this.desc : "제목없음")}</div>`);\r\n        let url = (this.url || this.originalUrl);\r\n        if(url){\r\n            this.$desc = $(`\r\n            <a href="${this.url}" class="NCCL_description" target="_blank" data-NCCL-type=${this.typeName}>\r\n                ${this.logoSVG ? this.logoSVG : ""}\r\n            </a>\r\n            `);\r\n            this.$link = $(`<div class="NCCL_link" data-NCCL-type=${this.typeName}>${this.url ? "("+this.url+")" : ""}</div>`);\r\n            this.$desc.append(this.$title).append(this.$link);\r\n        }\r\n        else{\r\n            this.$desc = $(`\r\n            <div class="NCCL_description">\r\n                ${this.logoSVG ? this.logoSVG : ""}\r\n            </div>\r\n            `);\r\n            this.$desc.append(this.$title);\r\n        }\r\n\r\n        // hideDescription\r\n        if(GM_SETTINGS.hideDescription){\r\n            this.$desc.hide();\r\n        }\r\n\r\n        this.$container.append(this.$iframeContainer).append(this.$desc);\r\n        \r\n        // insert\r\n        $oriElem.after(this.$container);\r\n\r\n        // remove original element\r\n        $oriElem.remove();\r\n\r\n        // parse data if required\r\n        if(this.parseDataRequired){\r\n            const rootMarginHeight = Math.max(1080, window.screen.height) * 0.5;\r\n            const options = { root: null, threshold:[0], rootMargin: `${rootMarginHeight}px 10px ${rootMarginHeight}px 10px`};\r\n            const io = new IntersectionObserver((entries, observer) => {\r\n                entries.forEach(entry => {\r\n                    if (entry.intersectionRatio > 0.0) {\r\n                        that.lazyLoad = false;\r\n                        that.checkParseData(that.insertIframe);\r\n                        observer.unobserve(entry.target);\r\n                    }\r\n                });\r\n            }, options);\r\n            io.observe(that.$container[0]);\r\n        }\r\n        else{\r\n            that.insertIframe();\r\n        }\r\n\r\n        // removeOriginalLinks\r\n        if(!GLOBAL.isNaverCafeMain) return;\r\n        if(!GM_SETTINGS.removeOriginalLinks) return;\r\n        let $as = $("a.se-link");\r\n        $as.each(function(i, v){\r\n            var $a = $(v);\r\n            var href = $a.attr("href");\r\n            if(href !== that.originalUrl){\r\n                return true;\r\n            }\r\n\r\n            var $p = $a.closest("p");\r\n            if($p.text() === that.originalUrl){\r\n                $p.remove();\r\n            }\r\n            else{\r\n                $a.remove();\r\n            }\r\n        });\r\n    }\r\n\r\n    // insert iframe to iframeContainer\r\n    insertIframe(){\r\n        let that = this;\r\n\r\n        if(GM_SETTINGS.convertMethod === "autoLoad"){\r\n            if(this.lazyLoad){\r\n                this.createIframeLazy();\r\n            }\r\n            else{\r\n                this.preCreateIframe();\r\n                this.createIframe();\r\n                this.postCreateIframe();\r\n            }\r\n        }\r\n        else{\r\n            this.$thumbnailContainer.on("click", function(){\r\n                if(that.blockThumbnailClickEvent) return;\r\n                that.blockThumbnailClickEvent = true;\r\n                \r\n                that.preCreateIframe();\r\n                that.createIframe();\r\n                that.postCreateIframe();\r\n            });\r\n        }\r\n    }\r\n\r\n    createIframeLazy(){\r\n        let that = this;\r\n        const rootMarginHeight = Math.max(1080, window.screen.height) * 0.5;\r\n        const options = { root: null, threshold:[0], rootMargin: `${rootMarginHeight}px 10px ${rootMarginHeight}px 10px`};\r\n        const io = new IntersectionObserver((entries, observer) => {\r\n            entries.forEach(entry => {\r\n                if (entry.intersectionRatio > 0.0) {\r\n                    (0,js_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("LAZYLOAD", that, entry);\r\n                    //that.autoPlay = false;\r\n                    that.preCreateIframe();\r\n                    that.createIframe();\r\n                    that.postCreateIframe();\r\n                    observer.unobserve(entry.target);\r\n                }\r\n            });\r\n        }, options);\r\n        io.observe(that.$container[0]);\r\n    }\r\n\r\n    createIframe(){\r\n        //NOMO_DEBUG("VideoBase - createIframe");\r\n        let that = this;\r\n        this.iframeLoaded = false;\r\n        this.$iframe = $(`<iframe class="NCCL_iframe" data-NCCL-type="${this.typeName}" data-NCCL-id="${this.id}" src="${this.iframeUrl}" frameborder="0" allowfullscreen="true" allow="autoplay" scrolling="no"></iframe>`);\r\n        this.$iframe.on("load", function(){\r\n            that.iframeLoaded = true;\r\n        });\r\n        this.$iframeContainer.empty().append(this.$iframe);\r\n    }\r\n\r\n    preCreateIframe(){\r\n        //NOMO_DEBUG("VideoBase - preCreateIframe");\r\n\r\n        // hide thumbnail\r\n        if(this.$thumbnailContainer) this.$thumbnailContainer.hide();\r\n    }\r\n\r\n    postCreateIframe(){\r\n        //NOMO_DEBUG("VideoBase - postCreateIframe");\r\n\r\n        // hide loader and error\r\n        this.hideLoader();\r\n        this.hideError();\r\n\r\n        // update postMessageUrl\r\n        this.postMessageUrl = "https://"+this.iframeUrl.split("/")[2];\r\n    }\r\n\r\n    autoPlayPauseOthers(eventType){\r\n        if(!GM_SETTINGS.autoPauseOtherClips && !GM_SETTINGS.autoPlayNextClip) return;\r\n        \r\n        (0,js_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("autoPlayPauseOthers", eventType, "id=", this.id, "seq=", this.seq);\r\n        let endedNextFound = false;\r\n        for(let i=0; i<VideoBase.videos.length; i++){\r\n            let seq = VideoBase.videos[i].seq;\r\n            if(eventType === "play"){\r\n                if(!GM_SETTINGS.autoPauseOtherClips) return false;\r\n                if(this.seq === seq) continue;\r\n                \r\n                //NOMO_DEBUG("autoPlayPauseOthers pause - ", i);\r\n                VideoBase.videos[i].pause();\r\n            }\r\n            else if (eventType === "ended"){\r\n                if(!GM_SETTINGS.autoPlayNextClip) return false;\r\n                if(endedNextFound){\r\n                    VideoBase.videos[i].play();\r\n                    break;\r\n                }\r\n    \r\n                if(this.seq === seq){\r\n                    endedNextFound = true;\r\n                    continue;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    playEvent(){\r\n        this.firstPlayed = true;\r\n    }\r\n\r\n    updateThumbnail(url){\r\n        this.thumbnailUrl = url;\r\n        if(this.$thumbnail){\r\n            (0,js_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("update thumbnail url");\r\n            this.$thumbnail.attr("src", this.thumbnailUrl);\r\n        }\r\n        else if(!this.$iframe){\r\n            (0,js_lib__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("create $thumbnail");\r\n            this.$thumbnail = $(`<img class="NCCL_thumbnail" src="${this.thumbnailUrl}" data-NCCL-type=${this.typeName} />`);\r\n            this.$thumbnailContainer.empty().append(this.$thumbnail);\r\n        }\r\n    }\r\n\r\n    // loader\r\n    showLoader(){\r\n        if(this.$loader){\r\n            this.$loader.fadeIn(100);\r\n        }        \r\n    }\r\n    hideLoader(){\r\n        if(this.$loader){\r\n            this.$loader.fadeOut(100);\r\n        }\r\n    }\r\n\r\n    // error\r\n    showError(html){\r\n        this.hideLoader();\r\n        if(this.$error){\r\n            this.$error.remove();\r\n        }\r\n        this.$error = $(`<div class="NCCL_error_container"><div class="NCCL_error">${html}</div></div>`);\r\n        this.$iframeContainer.append(this.$error);\r\n    }\r\n    hideError(){\r\n        if(this.$error){\r\n            this.$error.fadeOut(100);\r\n        }\r\n    }\r\n    showParsingError(){\r\n        this.showError(`[${GLOBAL.scriptName} v${GLOBAL.version}]<br />데이터 가져오기에 실패했습니다. 링크에 직접 접속해주세요.<br /><a href="${this.originalUrl}" target="_blank">${this.originalUrl}</a>`);\r\n        this.$thumbnailContainer.css("cursor","default");\r\n    }\r\n\r\n}\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./src/js/video/video_common.js?')},"./src/js/video/video_gfycat.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "VideoGfycat": () => (/* binding */ VideoGfycat)\n/* harmony export */ });\n/* harmony import */ var js_lib_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js/lib.js */ "./src/js/lib.js");\n/* harmony import */ var js_video_video_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! js/video/video_common.js */ "./src/js/video/video_common.js");\n\r\n\r\n\r\nconst gfycatLogo = `<img class="NCCL_video_logo" src="https://gfycat.com/assets/favicons/favicon-32x32.png" width="18px" height"18px" />`;\r\n\r\nclass VideoGfycat extends js_video_video_common_js__WEBPACK_IMPORTED_MODULE_1__.VideoBase {\r\n    constructor(options) {\r\n        options.logoSVG = gfycatLogo;\r\n        options.type = GLOBAL.GFYCAT;\r\n        options.typeName = "GFYCAT";\r\n        super(options);\r\n\r\n        this.parseDataRequired = true;\r\n        this.iframeUrl = `https://gfycat.com/ifr/${this.id}?parent=cafe.naver.com&extension=NCCL&seq=${this.seq}&autoPlay=${this.autoPlay}&muted=${this.muted}`;\r\n        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("new VideoGfycat", options);\r\n    }\r\n\r\n    // parse thumbnail image\r\n    async parseData(){try {\r\n        if(this.isDataLoading || this.isDataLoaded) return;\r\n        this.isDataLoading = true;\r\n\r\n        let urlFetch = await fetch(`https://api.gfycat.com/v1/oembed?url=${this.url}`, {\r\n            "method": "GET",\r\n        });\r\n        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("gfycat fetch", urlFetch);\r\n\r\n        if(urlFetch.status === 200){\r\n            let json = await urlFetch.json();\r\n            (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("gfycat json", json);\r\n\r\n            let src = json.html.match(/src=[\'"]([a-zA-Z0-9-_%&?=./:]+)[\'"]/);\r\n            if(src === null) {\r\n                this.isDataLoading = false;\r\n                this.isDataLoaded = true;\r\n                this.isDataSucceed = false;\r\n                this.postParseData();\r\n                return;\r\n            }\r\n\r\n            // resize\r\n            if(json.width && json.height){\r\n                let ratio = json.width / json.height;       // 500 / 192 = 2.60\r\n                let width = this.$iframeContainer.width();  // 1100\r\n                let new_height = width / ratio + 44;        // 423 + 44 = 467\r\n                let viewportHeight = Math.max((window.parent.innerHeight * 0.8), 800);   // 467\r\n                new_height = parseInt(Math.min(viewportHeight, new_height));  // 467\r\n                (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("new_height", new_height);\r\n                \r\n                let new_ratio = width / new_height;\r\n                if(Math.abs(new_ratio - 16.0/9.0) > 0.2){\r\n                    if(new_ratio < 1.0) new_ratio = 1.0;\r\n                    if(new_ratio > 4.0) new_ratio = 4.0;\r\n                    this.$iframeContainer.attr("style",`aspect-ratio:${new_ratio}`);\r\n                }\r\n            }\r\n\r\n            let iframeUrl = src[1];\r\n            if(iframeUrl.split("/").pop().indexOf("?") === -1){\r\n                iframeUrl += "?";\r\n            }\r\n            else{\r\n                iframeUrl += "&";\r\n            }\r\n\r\n            iframeUrl += `parent=cafe.naver.com&extension=NCCL&seq=${this.seq}&autoplay=${this.autoPlay}&muted=${this.muted}`;\r\n\r\n            this.iframeUrl = iframeUrl;\r\n            this.postParseData();\r\n        }\r\n        else{\r\n            NOMO_WARN("gfycat parsing fail", urlFetch);\r\n            this.isDataLoading = false;\r\n            this.isDataLoaded = true;\r\n            this.isDataSucceed = false;\r\n            this.postParseData();\r\n        }\r\n    }\r\n    catch(e){\r\n        NOMO_WARN("error from gfycat parsing", e);\r\n        this.isDataLoading = false;\r\n        this.isDataLoaded = true;\r\n        this.isDataSucceed = false;\r\n        this.postParseData();\r\n    }}\r\n}\r\n\r\n// https://api.gfycat.com/v1/oembed?url=\r\n\r\n// https://api.gfycat.com/v1/oembed?url=https://gfycat.com/handydemandingindianhare\r\n// {"version":"1.0","provider_url":"https://gfycat.com","provider_name":"Gfycat","type":"video","title":"0A07AD3E-E29B-48FB-87B2-413677672977","html":"<div style=\'position:relative;padding-bottom: calc(124.58% + 44px)\'><iframe src=\'https://gfycat.com/ifr/handydemandingindianhare\' frameborder=\'0\' scrolling=\'no\' width=\'100%\' height=\'100%\' style=\'position:absolute;top:0;left:0;\' allowfullscreen></iframe></div>","height":598,"width":480}\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./src/js/video/video_gfycat.js?')},"./src/js/video/video_kakao.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "VideoKakao": () => (/* binding */ VideoKakao)\n/* harmony export */ });\n/* harmony import */ var js_lib_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js/lib.js */ "./src/js/lib.js");\n/* harmony import */ var js_video_video_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! js/video/video_common.js */ "./src/js/video/video_common.js");\n\r\n\r\n\r\nconst KakaotvLogo = `<svg version="1.0" xmlns="http://www.w3.org/2000/svg" style="background-color:#fae100" width="18px" height="18px" viewBox="0 0 180.0 180.0" preserveAspectRatio="xMidYMid meet"><g transform="translate(0.000000,180.000000) scale(0.100000,-0.100000)" fill="#1e1e1e" stroke="none"><path d="M761 1454 c-299 -64 -496 -336 -452 -625 17 -110 60 -190 148 -276 l73 -72 0 -130 c0 -71 3 -132 8 -135 4 -2 56 32 117 77 l109 82 125 1 c102 0 139 5 196 23 139 45 252 130 327 245 106 163 106 388 0 552 -136 209 -398 313 -651 258z m-43 -331 l3 -63 54 0 55 0 0 -59 0 -60 -52 -3 -53 -3 -3 -77 -3 -78 56 0 55 0 0 -65 0 -65 -57 0 c-77 0 -124 14 -154 46 -21 23 -25 37 -29 132 l-5 107 -37 3 -38 3 0 59 0 59 38 3 37 3 3 63 3 63 62 -3 62 -3 3 -62z m306 -70 c36 -129 69 -223 76 -223 4 0 26 53 47 118 l38 117 54 3 c79 5 83 1 66 -50 -8 -24 -37 -116 -65 -205 l-51 -163 -89 0 -89 0 -36 118 c-20 64 -49 156 -65 204 -15 48 -25 90 -22 93 3 3 34 5 68 5 51 0 64 -3 68 -17z"/></g></svg>`;\r\n\r\nclass VideoKakao extends js_video_video_common_js__WEBPACK_IMPORTED_MODULE_1__.VideoBase {\r\n    constructor(options) {\r\n        options.logoSVG = KakaotvLogo;\r\n        options.type = GLOBAL.KAKAO_VID;\r\n        options.typeName = "KAKAO_VID";\r\n        super(options);\r\n\r\n        this.parseDataRequired = true;\r\n        this.iframeUrl = `https://play-tv.kakao.com/embed/player/cliplink/${this.id}?parent=cafe.naver.com&extension=NCCL&seq=${this.seq}&autoPlay=${this.autoPlay}&muted=${this.muted}`;\r\n        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("new VideoKakao", options);\r\n    }\r\n\r\n    // proxy or GM_xhr 을 사용하지 않으면 CORS 에러가 발생한다.\r\n    // parse thumbnail image\r\n    async parseData(){\r\n        if(this.isDataLoading || this.isDataLoaded) return;\r\n        this.isDataLoading = true;\r\n\r\n        let xhr = await GM.xmlHttpRequest({\r\n            "method": "GET",\r\n            "url": `https://tv.kakao.com/oembed?url=https://tv.kakao.com/v/${this.id}`,\r\n            "headers": {},\r\n            "responseType": "json"\r\n        });\r\n        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("kakaotv GM.xmlHttpRequest", xhr);\r\n\r\n        if(xhr.status === 200){\r\n            let json = await xhr.response;\r\n            (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("kakaotv json", json);\r\n\r\n            let src = json.html.match(/src=[\'"]([a-zA-Z0-9-_%&?=./:]+)[\'"]/);\r\n            if(src === null) {\r\n                this.isDataLoading = false;\r\n                this.isDataLoaded = true;\r\n                this.isDataSucceed = false;\r\n                return;\r\n            }\r\n\r\n            let iframeUrl = src[1];\r\n            if(iframeUrl.split("/").pop().indexOf("?") === -1){\r\n                iframeUrl += "?";\r\n            }\r\n            else{\r\n                iframeUrl += "&";\r\n            }\r\n\r\n            iframeUrl += `parent=cafe.naver.com&extension=NCCL&seq=${this.seq}&autoplay=${this.autoPlay}&muted=${this.muted}`;\r\n\r\n            this.iframeUrl = iframeUrl;\r\n            this.postParseData();\r\n        }\r\n        else{\r\n            NOMO_WARN("kakaotv parsing fail", xhr);\r\n            this.isDataLoading = false;\r\n            this.isDataLoaded = true;\r\n            this.isDataSucceed = false;\r\n            this.postParseData();\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n// parse data\r\n// https://tv.kakao.com/oembed?url=https://tv.kakao.com/v/434352996\r\n\r\n// return\r\n// {"type":"video","title":"43회. 일본여행 가서 먹방찍고 온 초아 | 일본여행 VLOG ","author_name":"초아","author_url":"https://tv.kakao.com/channel/3924945/info","provider_name":"kakaoTV","provider_url":"https://tv.kakao.com","thumbnail_url":"https://img1.kakaocdn.net/thumb/C640x360/?fname=http%3A%2F%2Ft1.kakaocdn.net%2Fkakaotv%2FASSET%2Fwarhol_asset%2Fvod_thumbnail%2F4726375cf2adbf9dbfedf2e096ba8b093074e608","thumbnail_width":640,"thumbnail_height":360,"html":"<iframe title=\\"43회. 일본여행 가서 먹방찍고 온 초아 | 일본여행 VLOG \\" width=\\"640\\" height=\\"360\\" src=\\"https://play-tv.kakao.com/embed/player/cliplink/434352996?service=und_player\\" allowfullscreen frameborder=\\"0\\" scrolling=\\"no\\" allow=\\"autoplay\\" ></iframe>","width":640,"height":360}\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./src/js/video/video_kakao.js?')},"./src/js/video/video_naver.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "VideoNaver": () => (/* binding */ VideoNaver)\n/* harmony export */ });\n/* harmony import */ var js_lib_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js/lib.js */ "./src/js/lib.js");\n/* harmony import */ var js_video_video_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! js/video/video_common.js */ "./src/js/video/video_common.js");\n\r\n\r\n\r\nconst Naverlogo = `<svg xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" style="vertical-align:middle;margin-right:8px;user-select: none;" viewBox="0 0 96 96" height="18px" width="18px"><g id="g10" inkscape:label="Image" inkscape:groupmode="layer"><rect y="5e-07" x="5e-07" height="96" width="96" id="rect865" style="fill:#1dc800;fill-opacity:1;stroke:#000000;stroke-width:0;stroke-miterlimit:4;stroke-dasharray:none" /><path style="fill:#ffffff;stroke:#000000;stroke-width:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="m 22.810019,26.075075 h 18.03984 l 16.57371,24.254979 V 26.106948 H 75.367786 V 74.106947 H 57.391689 L 40.881729,50.075074 v 24.095618 h -18.16733 z" id="path40" /></g></svg>`;\r\n\r\nclass VideoNaver extends js_video_video_common_js__WEBPACK_IMPORTED_MODULE_1__.VideoBase {\r\n    constructor(options) {\r\n        options.logoSVG = Naverlogo;\r\n        options.type = GLOBAL.NAVER_VID;\r\n        options.typeName = "NAVER_VID";\r\n        super(options);\r\n\r\n        this.inkey = options.inkey;\r\n        this.tags = options.tags;\r\n        this.iframeUrl = `https://serviceapi.nmv.naver.com/view/ugcPlayer.nhn?vid=${this.id}&inKey=${this.inkey}&wmode=opaque&hasLink=0&autoPlay=${this.autoPlay}&muted=${this.muted}&beginTime=0&seq=${this.seq}`;\r\n        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("new VideoNaver", options);\r\n    }\r\n\r\n    static init(){\r\n        window.addEventListener("message", function(e){\r\n            if(e.origin === "https://serviceapi.nmv.naver.com" && e.data.type === "NCCL_NAVERVID_RELOAD"){\r\n                (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("NCCL_NAVERVID_RELOAD message from serviceapi.nmv.naver.com", e.data);\r\n                if(e.data.seq !== undefined){\r\n                    js_video_video_common_js__WEBPACK_IMPORTED_MODULE_1__.VideoBase.videos[e.data.seq].parseNewInkeyAndReloadPlayer(e.data.beginTime);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    // // for cafeMain\r\n    // createIframeLazy(){\r\n    //     NOMO_DEBUG("createIframeLazy - videoNaver");\r\n    //     this.autoPlay = false;\r\n    //     this.iframeUrl = this.iframeUrl.replace(/autoPlay=(true|false)/,`autoPlay=${this.autoPlay}`);\r\n    //     super.createIframeLazy();\r\n    // }\r\n\r\n    async parseNewInkeyAndReloadPlayer(beginTime){\r\n        // get new vid data\r\n        const currUrl = document.location.href;\r\n        const regexUrl = /^https:\\/\\/cafe.naver.com\\/ca-fe\\/cafes\\/(\\d+)\\/articles\\/(\\d+)/;\r\n        let matchedUrl = currUrl.match(regexUrl);\r\n        \r\n        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)(currUrl, matchedUrl);\r\n        if(matchedUrl === null){\r\n            (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("parseNewInkeyAndReloadPlayer match null");\r\n            return;\r\n        }\r\n        let urlFetch = await fetch(`https://apis.naver.com/cafe-web/cafe-articleapi/v2/cafes/${matchedUrl[1]}/articles/${matchedUrl[2]}?query=&boardType=L&useCafeId=true&requestFrom=A`, {\r\n            "headers": {\r\n                "accept": "application/json, text/plain, */*",\r\n                "accept-language": "ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7",\r\n                "sec-ch-ua": "\\".Not/A)Brand\\";v=\\"99\\", \\"Google Chrome\\";v=\\"103\\", \\"Chromium\\";v=\\"103\\"",\r\n                "sec-ch-ua-mobile": "?0",\r\n                "sec-ch-ua-platform": "\\"Windows\\"",\r\n                "sec-fetch-dest": "empty",\r\n                "sec-fetch-mode": "cors",\r\n                "sec-fetch-site": "same-site",\r\n                "x-cafe-product": "pc"\r\n            },\r\n            "referrer": currUrl,\r\n            "referrerPolicy": "unsafe-url",\r\n            "body": null,\r\n            "method": "GET",\r\n            "mode": "cors",\r\n            "credentials": "include"\r\n        });\r\n\r\n        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("urlFetch", urlFetch);\r\n        \r\n        // fail\r\n        if(urlFetch.status !== 200){\r\n            (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("parseNewInkeyAndReloadPlayer - Fail to fetch", urlFetch);\r\n            this.showReloadError();\r\n            return;\r\n        }\r\n        \r\n        var urlText = await urlFetch.json();\r\n        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("urlText", urlText);\r\n\r\n        var vid_new = "";\r\n        var articleHtml = urlText.result.article.contentHtml;\r\n        var $contentHtml = $(articleHtml);\r\n        var $scripts = $contentHtml.find("script.__se_module_data");\r\n        var found = false;\r\n        for(var i=0;i<$scripts.length; i++){\r\n            var $script = $($scripts[i]);\r\n            let dataModule = JSON.parse($script.attr("data-module"));\r\n            vid_new = dataModule.data.vid;\r\n\r\n            if(this.id == vid_new){\r\n                (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("FOUND new inkey", this.inkey, "->", dataModule.data.inkey);\r\n                this.inkey = dataModule.data.inkey;\r\n                found = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        // fail\r\n        if(!found){\r\n            (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("FAIL TO GET NEW VID AND INKEY FOR NAVER VIDEO");\r\n            this.showReloadError();\r\n        }\r\n        \r\n        this.iframeUrl = `https://serviceapi.nmv.naver.com/view/ugcPlayer.nhn?vid=${this.id}&inKey=${this.inkey}&wmode=opaque&hasLink=0&autoPlay=true&beginTime=${(0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.isNumeric)(beginTime) ? parseInt(beginTime) : 0}&seq=${this.seq}`;\r\n        //this.iframeurl = `https://serviceapi.nmv.naver.com/view/ugcPlayer.nhn?vid=${this.id}&amp;inKey=${this.inkey}&amp;wmode=opaque&amp;hasLink=0&amp;autoPlay=true&amp;beginTime=0&amp;elemid=${this.id}`;\r\n        this.createIframe();\r\n        return true;\r\n\r\n    }\r\n    \r\n    showReloadError(){\r\n        this.showError(`[${GLOBAL.scriptName} v${GLOBAL.version}]<br />플레이어 리로드에 실패했습니다. 페이지를 직접 새로고침 해주세요.</a>`);\r\n    }\r\n}\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./src/js/video/video_naver.js?')},"./src/js/video/video_streamable.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "VideoStreamable": () => (/* binding */ VideoStreamable)\n/* harmony export */ });\n/* harmony import */ var js_lib_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js/lib.js */ "./src/js/lib.js");\n/* harmony import */ var js_video_video_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! js/video/video_common.js */ "./src/js/video/video_common.js");\n\r\n\r\n\r\nconst StreamableLogo = `<svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" viewBox="0 0 64 64"><defs><style>.cls-1{fill:#0f90fa;}</style></defs><g><path class="cls-1" d="M45.11,15.76c-2.84,0-5.8,1.72-7.58,3.4-2.89,2.38-12.44,17-12.44,17l0,.05a8.12,8.12,0,1,1,0-9.39l4.07-6.4A15.77,15.77,0,1,0,18.42,47.7a13.57,13.57,0,0,0,11.06-5.15s5.12-7.07,7.2-10.42c1.89-3,4-8.28,8.59-8.28a8.17,8.17,0,0,1,8.19,8.47,8.58,8.58,0,0,1-8.39,8.75A8.23,8.23,0,0,1,39,38.3l-4,6.32A16.19,16.19,0,0,0,61.35,32,16.27,16.27,0,0,0,45.11,15.76Z"/></g></svg>`;\r\n\r\n// streamable 의 경우 muted=1 일 때 volume controller 가 아예 사라지고 volume control이 불가함에 주의한다.\r\n\r\nclass VideoStreamable extends js_video_video_common_js__WEBPACK_IMPORTED_MODULE_1__.VideoBase {\r\n    constructor(options) {\r\n        options.logoSVG = StreamableLogo;\r\n        options.type = GLOBAL.STREAMABLE;\r\n        options.typeName = "STREAMABLE";\r\n        super(options);\r\n\r\n        this.parseDataRequired = true;\r\n        this.iframeUrl = `https://streamable.com/e/${this.id}?parent=cafe.naver.com&extension=NCCL&seq=${this.seq}&autoplay=${this.autoPlay?"1":"0"}&muted=0&omuted=${this.muted?"1":"0"}&hd=1&loop=0`;\r\n        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("new VideoStreamable", options);\r\n    }\r\n\r\n    // parse thumbnail image\r\n    async parseData(){\r\n        if(this.isDataLoading || this.isDataLoaded) return;\r\n        this.isDataLoading = true;\r\n\r\n        let urlFetch = await fetch(`https://api.streamable.com/videos/${this.id}`, {\r\n            "method": "GET"\r\n        });\r\n        if(urlFetch.status === 200){\r\n            let json = await urlFetch.json();\r\n            (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("streamable json", json);\r\n            this.updateThumbnail(json.thumbnail_url);\r\n            this.postParseData();\r\n        }\r\n        else{\r\n            this.isDataLoading = false;\r\n            this.isDataLoaded = true;\r\n            this.isDataSucceed = false;\r\n            this.postParseData();\r\n        }\r\n    }\r\n\r\n    // // for cafeMain\r\n    // createIframeLazy(){\r\n    //     NOMO_DEBUG("createIframeLazy - videoNaver");\r\n    //     this.autoPlay = false;\r\n    //     this.iframeUrl = this.iframeUrl.replace(/autoPlay=(true|false)/,`autoPlay=${this.autoPlay}`);\r\n    //     super.createIframeLazy();\r\n    // }\r\n}\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./src/js/video/video_streamable.js?')},"./src/js/video/video_tiktok.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "VideoTiktok": () => (/* binding */ VideoTiktok)\n/* harmony export */ });\n/* harmony import */ var js_lib_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js/lib.js */ "./src/js/lib.js");\n/* harmony import */ var js_video_video_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! js/video/video_common.js */ "./src/js/video/video_common.js");\n\r\n\r\n\r\nconst TiktokLogo = `<svg viewBox="0 0 291.72499821636245 291.1" xmlns="http://www.w3.org/2000/svg" width="18px" height="18px"><path d="M219.51 291.1H71.58C32.05 291.1 0 259.05 0 219.51V71.58C0 32.05 32.05 0 71.58 0h147.93c39.53 0 71.58 32.05 71.58 71.58v147.93c.01 39.54-32.04 71.59-71.58 71.59z"/><g fill="#25f4ee"><path d="M120.96 123.89v-8.8a64.83 64.83 0 0 0-9.23-.79c-29.93-.06-56.42 19.33-65.41 47.87s1.62 59.62 26.18 76.71c-25.77-27.58-24.3-70.83 3.28-96.6a68.425 68.425 0 0 1 45.18-18.39z"/><path d="M122.62 223.53c16.73-.02 30.48-13.2 31.22-29.92V44.44h27.25a50.7 50.7 0 0 1-.79-9.44h-37.27v149.02c-.62 16.8-14.41 30.11-31.22 30.14-5.02-.04-9.97-1.28-14.42-3.6a31.276 31.276 0 0 0 25.23 12.97zM231.98 95.05v-8.29c-10.03 0-19.84-2.96-28.19-8.51a51.63 51.63 0 0 0 28.19 16.8z"/></g><path d="M203.8 78.26a51.301 51.301 0 0 1-12.76-33.89h-9.95a51.564 51.564 0 0 0 22.71 33.89zM111.73 151.58c-17.28.09-31.22 14.17-31.13 31.45a31.293 31.293 0 0 0 16.71 27.53c-10.11-13.96-6.99-33.48 6.97-43.6a31.191 31.191 0 0 1 18.34-5.93c3.13.04 6.24.53 9.23 1.45v-37.93c-3.05-.46-6.14-.7-9.23-.72h-1.66v28.84c-3.01-.82-6.12-1.18-9.23-1.09z" fill="#fe2c55"/><path d="M231.98 95.05v28.84a88.442 88.442 0 0 1-51.69-16.8v75.77c-.08 37.81-30.75 68.42-68.56 68.42a67.816 67.816 0 0 1-39.22-12.4c25.73 27.67 69.02 29.25 96.7 3.52a68.397 68.397 0 0 0 21.83-50.09v-75.56a88.646 88.646 0 0 0 51.76 16.58V96.21c-3.64-.02-7.26-.4-10.82-1.16z" fill="#fe2c55"/><path d="M180.29 182.87V107.1a88.505 88.505 0 0 0 51.76 16.58V94.84a51.73 51.73 0 0 1-28.26-16.58 51.634 51.634 0 0 1-22.71-33.89h-27.25v149.24c-.71 17.27-15.27 30.69-32.54 29.99a31.278 31.278 0 0 1-24.06-12.9c-15.29-8.05-21.16-26.97-13.11-42.26a31.274 31.274 0 0 1 27.53-16.71c3.13.03 6.24.51 9.23 1.44V123.9c-37.74.64-67.82 32.19-67.18 69.93a68.353 68.353 0 0 0 18.73 45.86 67.834 67.834 0 0 0 39.29 11.61c37.82-.01 68.49-30.62 68.57-68.43z" fill="#fff"/></svg>`;\r\n\r\nclass VideoTiktok extends js_video_video_common_js__WEBPACK_IMPORTED_MODULE_1__.VideoBase {\r\n    constructor(options) {\r\n        options.logoSVG = TiktokLogo;\r\n        options.type = GLOBAL.TIKTOK;\r\n        options.typeName = "TIKTOK";\r\n        super(options);\r\n\r\n        this.parseDataRequired = true;\r\n        this.iframeUrl = `https://www.tiktok.com/embed/v2/${this.id}?parent=cafe.naver.com&extension=NCCL&seq=${this.seq}&autoPlay=${this.autoPlay}&muted=${this.muted}`;\r\n        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("new VideoTiktok", options);\r\n    }\r\n\r\n    // parse thumbnail image\r\n    async parseData(){try {\r\n        if(this.isDataLoading || this.isDataLoaded) return;\r\n        this.isDataLoading = true;\r\n\r\n        let urlFetch = await fetch(`https://www.tiktok.com/oembed?url=${this.url}`, {\r\n            "method": "GET",\r\n        });\r\n        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("Tiktok fetch", urlFetch);\r\n\r\n        if(urlFetch.status === 200){\r\n            let json = await urlFetch.json();\r\n            (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("Tiktok json", json);\r\n            \r\n            //\r\n            this.updateThumbnail(json.thumbnail_url);\r\n            \r\n            // resize\r\n            if(json.thumbnail_width && json.thumbnail_height){\r\n                let ratio = json.thumbnail_width / json.thumbnail_height;\r\n                let width = this.$iframeContainer.width();\r\n                let new_height = width / ratio + 44;\r\n                let viewportHeight = Math.max((window.parent.innerHeight * 0.8), 800);\r\n                new_height = parseInt(Math.min(viewportHeight, new_height));\r\n                (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("new_height", new_height);\r\n                \r\n                let new_ratio = width / new_height;\r\n                if(Math.abs(new_ratio - 16.0/9.0) > 0.2){\r\n                    if(new_ratio < 1.0) new_ratio = 1.0;\r\n                    if(new_ratio > 4.0) new_ratio = 4.0;\r\n                    this.$iframeContainer.attr("style",`aspect-ratio:${new_ratio}`);\r\n                }\r\n            }\r\n            this.postParseData();\r\n        }\r\n        else{\r\n            NOMO_WARN("Tiktok parsing fail", urlFetch);\r\n            this.isDataLoading = false;\r\n            this.isDataLoaded = true;\r\n            this.isDataSucceed = false;\r\n            this.postParseData();\r\n        }\r\n    }\r\n    catch(e){\r\n        NOMO_WARN("error from Tiktok parsing", e);\r\n        this.isDataLoading = false;\r\n        this.isDataLoaded = true;\r\n        this.isDataSucceed = false;\r\n        this.postParseData();\r\n    }}\r\n}\r\n\r\n\r\n// https://www.tiktok.com/oembed?url=\r\n\r\n// https://www.tiktok.com/oembed?url=https://www.tiktok.com/@weeekly/video/7179905517563727105\r\n// {"version":"1.0","type":"video","title":"🐥재희가 귀여워서 미안해😘🙏 #Weeekly #위클리 #이재희 #LeeJaehee #귀여워서미안해","author_url":"https://www.tiktok.com/@weeekly","author_name":"Weeekly (위클리)","width":"100%","height":"100%","html":"<blockquote class=\\"tiktok-embed\\" cite=\\"https://www.tiktok.com/@weeekly/video/7179905517563727105\\" data-video-id=\\"7179905517563727105\\" data-embed-from=\\"oembed\\" style=\\"max-width: 605px;min-width: 325px;\\" > <section> <a target=\\"_blank\\" title=\\"@weeekly\\" href=\\"https://www.tiktok.com/@weeekly?refer=embed\\">@weeekly</a> <p>🐥재희가 귀여워서 미안해😘🙏 <a title=\\"weeekly\\" target=\\"_blank\\" href=\\"https://www.tiktok.com/tag/weeekly?refer=embed\\">#Weeekly</a> <a title=\\"위클리\\" target=\\"_blank\\" href=\\"https://www.tiktok.com/tag/%EC%9C%84%ED%81%B4%EB%A6%AC?refer=embed\\">#위클리</a> <a title=\\"이재희\\" target=\\"_blank\\" href=\\"https://www.tiktok.com/tag/%EC%9D%B4%EC%9E%AC%ED%9D%AC?refer=embed\\">#이재희</a> <a title=\\"leejaehee\\" target=\\"_blank\\" href=\\"https://www.tiktok.com/tag/leejaehee?refer=embed\\">#LeeJaehee</a> <a title=\\"귀여워서미안해\\" target=\\"_blank\\" href=\\"https://www.tiktok.com/tag/%EA%B7%80%EC%97%AC%EC%9B%8C%EC%84%9C%EB%AF%B8%EC%95%88%ED%95%B4?refer=embed\\">#귀여워서미안해</a></p> <a target=\\"_blank\\" title=\\"♬ 可愛くてごめん (feat. かぴ) - HoneyWorks\\" href=\\"https://www.tiktok.com/music/可愛くてごめん-feat-かぴ-7127871335373015041?refer=embed\\">♬ 可愛くてごめん (feat. かぴ) - HoneyWorks</a> </section> </blockquote> <script async src=\\"https://www.tiktok.com/embed.js\\"><\/script>","thumbnail_width":576,"thumbnail_height":1120,"thumbnail_url":"https://p16-sign-sg.tiktokcdn.com/obj/tos-alisg-p-0037/oYADAJc0wfCWUBhBExhzCgtGIIxGwM8cAokDaK?x-expires=1671836400&x-signature=cy7Zb%2FjGawyKD6vsdKsX453ktmE%3D","provider_url":"https://www.tiktok.com","provider_name":"TikTok","author_unique_id":"weeekly","embed_product_id":"7179905517563727105","embed_type":"video"}\r\n// <blockquote class="tiktok-embed" cite="https://www.tiktok.com/@b2ang/video/7172428949845200129" data-video-id="7172428949845200129" style="max-width: 605px;min-width: 325px;" > <section> <a target="_blank" title="@b2ang" href="https://www.tiktok.com/@b2ang?refer=embed">@b2ang</a> 팩트폭행 다이어트 <a title="빵빵이" target="_blank" href="https://www.tiktok.com/tag/%EB%B9%B5%EB%B9%B5%EC%9D%B4?refer=embed">#빵빵이</a> <a title="틱톡툰" target="_blank" href="https://www.tiktok.com/tag/%ED%8B%B1%ED%86%A1%ED%88%B0?refer=embed">#틱톡툰</a> <a title="파트너크리에이터" target="_blank" href="https://www.tiktok.com/tag/%ED%8C%8C%ED%8A%B8%EB%84%88%ED%81%AC%EB%A6%AC%EC%97%90%EC%9D%B4%ED%84%B0?refer=embed">#파트너크리에이터</a> <a target="_blank" title="♬ 오리지널 사운드  - 빵빵이의 일상" href="https://www.tiktok.com/music/오리지널-사운드-빵빵이의-일상-7172429839658584834?refer=embed">♬ 오리지널 사운드  - 빵빵이의 일상</a> </section> </blockquote> <script async src="https://www.tiktok.com/embed.js"><\/script>\r\n\r\n// https://www.tiktok.com/embed/v2/6808679698583850246\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./src/js/video/video_tiktok.js?')},"./src/js/video/video_youtube.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "VideoYoutube": () => (/* binding */ VideoYoutube)\n/* harmony export */ });\n/* harmony import */ var js_lib_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js/lib.js */ "./src/js/lib.js");\n/* harmony import */ var js_video_video_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! js/video/video_common.js */ "./src/js/video/video_common.js");\n\r\n\r\n\r\nconst YTlogo = `<svg style="vertical-align: middle;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="18" height="18" viewBox="0 0 461.001 461.001" style="enable-background:new 0 0 461.001 461.001;" xml:space="preserve">\r\n<g>\r\n    <path style="fill:#F61C0D;" d="M365.257,67.393H95.744C42.866,67.393,0,110.259,0,163.137v134.728c0,52.878,42.866,95.744,95.744,95.744h269.513c52.878,0,95.744-42.866,95.744-95.744V163.137C461.001,110.259,418.135,67.393,365.257,67.393z M300.506,237.056l-126.06,60.123c-3.359,1.602-7.239-0.847-7.239-4.568V168.607c0-3.774,3.982-6.22,7.348-4.514l126.06,63.881C304.363,229.873,304.298,235.248,300.506,237.056z"/>\r\n</g>\r\n</svg>`;\r\n\r\nclass VideoYoutube extends js_video_video_common_js__WEBPACK_IMPORTED_MODULE_1__.VideoBase {\r\n    constructor(options) {\r\n        options.logoSVG = YTlogo;\r\n        super(options);\r\n\r\n        if(options.type === GLOBAL.YOUTUBE_VOD){\r\n            this.type = GLOBAL.YOUTUBE_VOD;\r\n            this.ytid = options.id;\r\n            this.ytClipId = undefined;\r\n            this.typeName = "YOUTUBE_VOD";\r\n        }\r\n        else if(options.type === GLOBAL.YOUTUBE_CLIP){\r\n            this.type = GLOBAL.YOUTUBE_CLIP;\r\n            this.ytid = undefined;\r\n            this.ytClipId = options.id;\r\n            this.typeName = "YOUTUBE_CLIP";\r\n            this.parseDataRequired = true;\r\n        }\r\n        this.start = options.start;\r\n        this.end = options.end;\r\n\r\n        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("new VideoYoutube", options);\r\n        \r\n        this.YTPlayer = undefined;\r\n\r\n        //  for youtube clip\r\n        this.isDataLoading = false;\r\n        this.isDataLoaded = false;\r\n        this.isDataSucceed = false;\r\n    }\r\n\r\n    static init(){try{\r\n        if(!GM_SETTINGS.useYoutube) return;\r\n        $("head").prepend(`<script async type="text/javascript" src="https://www.youtube.com/iframe_api"><\/script>`);\r\n    }\r\n    catch(e){\r\n        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("FAIL TO LOAD YOUTUBE IFRAME API. TRY TO INSERT YT API MANUALLY", e);\r\n        // eslint-disable-next-line\r\n        const scriptUrl = \'https:\\/\\/www.youtube.com\\/s\\/player\\/4c3f79c5\\/www-widgetapi.vflset\\/www-widgetapi.js\';try{var ttPolicy=window.trustedTypes.createPolicy("youtube-widget-api",{createScriptURL:function(x){return x}});scriptUrl=ttPolicy.createScriptURL(scriptUrl)}catch(e){}if(!window["YT"])var YT={loading:0,loaded:0};if(!window["YTConfig"])var YTConfig={"host":"https://www.youtube.com"};if(!YT.loading){YT.loading=1;(function(){var l=[];YT.ready=function(f){if(YT.loaded)f();else l.push(f)};window.onYTReady=function(){YT.loaded=1;for(var i=0;i<l.length;i++)try{l[i]()}catch(e$0){}};YT.setConfig=function(c){for(var k in c)if(c.hasOwnProperty(k))YTConfig[k]=c[k]};var a=document.createElement("script");a.type="text/javascript";a.id="www-widgetapi-script";a.src=scriptUrl;a.async=true;var c=document.currentScript;if(c){var n=c.nonce||c.getAttribute("nonce");if(n)a.setAttribute("nonce",n)}var b=document.getElementsByTagName("script")[0];if(!b){document.getElementsByTagName(\'head\')[0].appendChild(a)}else{b.parentNode.insertBefore(a,b)}})()};\r\n    }}\r\n\r\n    onYTPlayerReady(event){\r\n        // set_volume_when_stream_starts\r\n        if(event.target.muted){\r\n            event.target.setVolume(0);\r\n        }\r\n        else if(GM_SETTINGS.set_volume_when_stream_starts){\r\n            event.target.setVolume(GM_SETTINGS.target_start_volume * 100.0);\r\n        }\r\n    }\r\n\r\n    onYTPlayerStateChange(event){\r\n        //let videoId = event.target.playerInfo.videoData.video_id;\r\n        let seq = event.target.seq;\r\n        //let playerState = event.data == YT.PlayerState.ENDED ? \'종료됨\' : event.data == YT.PlayerState.PLAYING ? \'재생 중\' : event.data == YT.PlayerState.PAUSED ? \'일시중지 됨\' : event.data == YT.PlayerState.BUFFERING ? \'버퍼링 중\' : event.data == YT.PlayerState.CUED ? \'재생준비 완료됨\' : event.data == -1 ? \'시작되지 않음\' : \'예외\';\r\n        //NOMO_DEBUG("YOUTUBE PLAYER STATE CHANGED", videoId, event, playerState);\r\n        //NOMO_DEBUG("VideoBase.videos", event, VideoBase.videos, videoId, VideoBase.videos[videoId]);\r\n        if(GM_SETTINGS.autoPauseOtherClips && event.data === YT.PlayerState.PLAYING){\r\n            js_video_video_common_js__WEBPACK_IMPORTED_MODULE_1__.VideoBase.videos[seq].eventPlay();\r\n        }\r\n        else if(GM_SETTINGS.autoPlayNextClip && event.data === YT.PlayerState.ENDED){\r\n            js_video_video_common_js__WEBPACK_IMPORTED_MODULE_1__.VideoBase.videos[seq].eventEnded();\r\n        }\r\n    }\r\n    createIframe(){try{\r\n        if(YT === undefined || !YT.loading) {\r\n            if(!this.recur) this.recur = 0;\r\n            this.recur += 1;\r\n            (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("[createIframe] There is no youtube iframe api yet, reload", this.id, this.recur);\r\n            if(this.recur < 10){\r\n                setTimeout(function(){\r\n                    this.createIframe();\r\n                },(this.recur) * 100);\r\n                return;\r\n            }\r\n            else{\r\n                return;\r\n            }\r\n        }\r\n\r\n        const YTElemID = "NCCL-"+this.id;\r\n        this.$iframe = (`<div class="NCCL_iframe" id="${YTElemID}"></div>`);\r\n        this.$iframeContainer.append(this.$iframe);\r\n\r\n        let YTOptions = {\r\n            "height": "100%",\r\n            "width": "100%",\r\n            "videoId": this.ytid,\r\n            "videoTitle": "",\r\n            "playerVars": {\r\n                \'autoplay\': (this.autoPlay ? 1 : 0),\r\n                \'autohide\': 1,\r\n                \'showinfo\': 0,\r\n                \'controls\':1,\r\n                \'loop\': 0\r\n            },\r\n            "suggestedQuality":"hd1080", // highres hd1080\r\n            "events": {\r\n                \'onReady\': this.onYTPlayerReady,\r\n                \'onStateChange\': this.onYTPlayerStateChange\r\n            }\r\n        };\r\n        if(this.start) YTOptions["playerVars"]["start"] = this.start;\r\n        if(this.end) YTOptions["playerVars"]["end"] = this.end;\r\n        if(this.clipt) YTOptions["playerVars"]["clipt"] = this.clipt;\r\n        if(this.ytClipId) YTOptions["playerVars"]["clip"] = this.ytClipId;\r\n\r\n        this.YTPlayer = new YT.Player(YTElemID, YTOptions);\r\n        this.YTPlayer.seq = this.seq;\r\n        this.YTPlayer.muted = this.muted;\r\n        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("CREATE YTPlayer", this.id, YTOptions, this.YTPlayer);\r\n\r\n        this.$iframe = this.$iframeContainer.find(".NCCL_iframe");\r\n        let that = this;\r\n        setTimeout(function(){that.$iframe.attr("title", "");},1000);\r\n    }\r\n    catch(e){\r\n        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("Error from createYTIframe", e);\r\n    }}\r\n\r\n    \r\n    // overwrite video related function\r\n    play(){\r\n        if(!this.$iframe || typeof this.YTPlayer.playVideo !== "function") return;\r\n        this.YTPlayer.playVideo();\r\n    }\r\n    pause(){\r\n        if(!this.$iframe || typeof this.YTPlayer.pauseVideo !== "function") return;\r\n        this.YTPlayer.pauseVideo();\r\n    }\r\n    stop(){\r\n        if(!this.$iframe || typeof this.YTPlayer.stopVideo !== "function") return;\r\n        this.YTPlayer.stopVideo();\r\n    }\r\n\r\n    // video related event\r\n    eventPlay(){\r\n        super.eventPlay();\r\n        this.autoPlayPauseOthers("play");\r\n    }\r\n    eventPause(){\r\n    }\r\n    eventEnded(){\r\n        this.autoPlayPauseOthers("ended");\r\n    }\r\n\r\n    // maxresdefault 를 찾을 수 없는 경우 hqdefault 로 대체한다.\r\n    thumbnailLoaded(e){\r\n        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("thumbnailLoaded", this.id, e.target.naturalWidth, e.target.naturalHeight);\r\n        let width = e.target.naturalWidth;\r\n        let height = e.target.naturalHeight;\r\n\r\n        if(width < 150 && height < 150){\r\n            (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("thumbnail image is small, replace thumbnail!");\r\n            e.target.src = e.target.src.replace("maxresdefault", "hqdefault");\r\n        }\r\n    }\r\n\r\n    parseData(){\r\n        if(this.isDataLoading || this.isDataLoaded) return;\r\n        this.isDataLoading = true;\r\n\r\n        let that = this;\r\n\r\n        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("parseYoutubeClipInfo. try to connect ", that.url);\r\n\r\n        GM.xmlHttpRequest({\r\n            method: "GET",\r\n            url: that.url,\r\n            headers: {},\r\n            onload: function(response) {\r\n                if(response.status !== 200){\r\n                    that.isDataLoading = false;\r\n                    that.isDataLoaded = true;\r\n                    that.isDataSucceed = false;\r\n                    this.showParsingError();\r\n                    return;\r\n                }\r\n\r\n                const rpt = response.responseText;\r\n                (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("parseYoutubeClipInfo, status = 200");\r\n                //https://i.ytimg.com/sb/fMVhKbdsXmU/storyboard3_L$L/$N.jpg?sqp=-oaymwENSDfyq4qpAwVwAcABBqLzl_8DBgjOqr2bBg==|48#27#100#10#10#0#default#rs$AOn4CLDs9EcBxA6-8F51CG6Yeo362ueKDA|80#45#686#10#10#10000#M$M#rs$AOn4CLB6VRt7MmIx6qhJYRpS-km_LCLgxQ|160#90#686#5#5#10000#M$M#rs$AOn4CLB5rxf3hc0c1nW6CY78X1CXPkkyzg\r\n                const rpt_match = rpt.match(/<link itemprop="embedUrl" href="([a-zA-Z0-9-_./:=&;?]+)">/);\r\n                const rpt_match2 = rpt.match(/"playerStoryboardSpecRenderer":{"spec":"([a-zA-Z0-9-_,./?=|!@#$%^&*():]+)"}/);\r\n                const rpt_match3 = rpt.match(/"lengthSeconds":"(\\d+)"/);\r\n                const rpt_match4 = rpt.match(/"startTimeMs":"(\\d+)"/);\r\n                const rpt_match5 = rpt.match(/"endTimeMs":"(\\d+)"/);\r\n\r\n                if(!rpt_match !== null && !rpt_match2 !== null && !rpt_match3 !== null && !rpt_match4 !== null && !rpt_match5 !== null){\r\n                    that.iframeUrl = rpt_match[1];\r\n                    const rpt_match6 = that.iframeUrl.match(/clipt=([a-zA-Z0-9-_]+)/);\r\n                    const rpt_match7 = that.iframeUrl.match(/\\/embed\\/([a-zA-Z0-9-_]+)/);\r\n\r\n                    if(!rpt_match6 === null || !rpt_match7 === null){\r\n                        (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("getYTClipPageInfoXHR FAIL", that.id, rpt_match6, rpt_match7);\r\n                        that.isDataLoading = false;\r\n                        that.isDataLoaded = true;\r\n                        that.isDataSucceed = false;\r\n                        this.showParsingError();\r\n                        return;\r\n                    }\r\n\r\n                    that.storyBoardSpec = rpt_match2[1];\r\n                    that.seconds = rpt_match3[1];\r\n                    that.storyBoard = YTStoryBoard("url", that.storyBoardSpec, true, that.seconds);\r\n                    that.start = Number(rpt_match4[1]) / 1000.0;\r\n                    that.end = Number(rpt_match5[1]) / 1000.0;\r\n                    that.clipt = rpt_match6[1];\r\n                    that.ytid = rpt_match7[1];\r\n                    that.foundStoryBoardUrl = undefined;\r\n                    that.foundStoryBoardSeq = undefined;\r\n\r\n                    (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("getYTClipPageInfoXHR Succeed", that.ytid, that.clipt);\r\n\r\n                    // find image in storyboard\r\n                    const midTime = (that.end - that.start) / 2.0 + that.start;\r\n                    for(let i=0; i<that.storyBoard.length; i++){\r\n                        const sb = that.storyBoard[i];\r\n                        if(sb.start <= midTime && sb.end > midTime){\r\n                            let seq = Math.floor((midTime - sb.start) / sb.slice) + 1;\r\n\r\n                            if(seq < 0){\r\n                                seq = 0;\r\n                            }\r\n                            else if(seq >= (sb.no - 1)){\r\n                                seq = sb.no - 1;\r\n                            }\r\n\r\n                            (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("found storyboard image", seq, sb.url);\r\n                            that.foundStoryBoardUrl = sb.url;\r\n                            that.foundStoryBoardSeq = seq;\r\n\r\n                            that.updateThumbnail(that.foundStoryBoardUrl);\r\n\r\n                            // shift image\r\n                            let translateX = "0";\r\n                            let translateY = "0";\r\n                            if(seq >= 0 && seq < 10){\r\n                                translateY = "calc(100% / 5)";\r\n                            }\r\n                            else if(seq >= 15 && seq < 25){\r\n                                translateY = "calc(-100% / 5)";\r\n                            }\r\n                            if(seq % 5 === 0 || seq % 5 === 1){\r\n                                translateX = "calc(100% / 5)";\r\n                            }\r\n                            else if(seq % 5 === 3 || seq % 5 === 4){\r\n                                translateX = "calc(-100% / 5)";\r\n                            }\r\n                            that.$thumbnail.css("border","1px solid #eee").css("transform", `scale(calc(5/3)) translate(${translateX}, ${translateY})`);\r\n                        }\r\n                    }\r\n\r\n                    that.isDataLoading = false;\r\n                    that.isDataLoaded = true;\r\n                    that.isDataSucceed = true;\r\n                    that.postParseData();\r\n                }\r\n                else{\r\n                    (0,js_lib_js__WEBPACK_IMPORTED_MODULE_0__.NOMO_DEBUG)("getYTClipPageInfoXHR FAIL", that.id, rpt_match, rpt_match2, rpt_match3, rpt_match4, rpt_match5);\r\n                    that.isDataLoading = false;\r\n                    that.isDataLoaded = true;\r\n                    that.isDataSucceed = false;\r\n                    this.showParsingError();\r\n                    return;\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nfunction YTStoryBoard(returnType, spec, hq, seconds) {\r\n    let specParts = spec.split(\'|\');\r\n    let baseUrlHq = specParts[0].split(\'$\')[0] + \'2/\';\r\n    let baseUrlLq = specParts[0].split(\'$\')[0] + \'1/\';\r\n    let sgpPart = specParts[0].split(\'$N\')[1];\r\n\r\n    let sighPartHq;\r\n    let sighPartLq;\r\n\r\n    if (specParts.length === 3) {\r\n        sighPartHq = specParts[2].split(\'M#\')[1];\r\n        sighPartLq = specParts[1].split(\'M#\')[1];\r\n    } else if (specParts.length === 2) {\r\n        sighPartHq = specParts[1].split(\'t#\')[1];\r\n        // sighPartLq = specParts[0].split(\'M#\')[1];\r\n\r\n    } else {\r\n        sighPartHq = specParts[3].split(\'M#\')[1];\r\n        sighPartLq = specParts[2].split(\'M#\')[1];\r\n    }\r\n\r\n    let amountOfBoards = 0;\r\n    let division = 25;\r\n\r\n    let storyboardArray = [];\r\n\r\n    if (hq === false) {\r\n        division = 100;\r\n    } /* More frames per image in the case of LQ */\r\n\r\n    // let slice = -1;\r\n    // if (seconds < 250) {\r\n    //     slice = 2;\r\n    // } else if (seconds > 250 && seconds < 1000) {\r\n    //     slice = 5;\r\n    // } else if (seconds > 1000) {\r\n    //     slice = 10;\r\n    // }\r\n    let slice = -1;\r\n    if (seconds < 2 * 60) {\r\n        slice = 1;\r\n    } else if (seconds >= 2 * 60 && seconds < 5 * 60) {\r\n        slice = 2;\r\n    } else if (seconds >= 5 * 60 && seconds < 15 * 60) {\r\n        slice = 5;\r\n    } else if (seconds >= 15 * 60) {\r\n        slice = 10;\r\n    }\r\n    amountOfBoards = Math.ceil((seconds / slice) / division);\r\n\r\n    let start = 0;\r\n    let end = 0;\r\n    if (hq === true) {\r\n        /* High quality storyboard */\r\n        for (let i = 0; i < amountOfBoards; i++) {\r\n            start = end;\r\n            end = start + slice * division;\r\n\r\n            storyboardArray.push({});\r\n            storyboardArray[i].url = baseUrlHq + \'M\' + i + sgpPart + \'&sigh=\' + encodeURIComponent(sighPartHq);\r\n            storyboardArray[i].start = start;\r\n            storyboardArray[i].slice = slice;\r\n            if(i != amountOfBoards - 1){\r\n                storyboardArray[i].end = end;\r\n                storyboardArray[i].no = division;\r\n                // 위에서 계산된 값보다 1개 정도 더 많을 수도 있다.\r\n            }\r\n            else{\r\n                storyboardArray[i].end = Number(seconds);\r\n                storyboardArray[i].no = Math.ceil((storyboardArray[i].end - storyboardArray[i].start) / slice);\r\n            }\r\n        }\r\n    } else {\r\n        /* Low quality storyboard */\r\n        for (let i = 0; i < amountOfBoards; i++) {\r\n            storyboardArray.push(baseUrlLq + \'M\' + i + sgpPart + \'&sigh=\' + sighPartLq);\r\n        }\r\n    }\r\n\r\n    if (returnType === "url") {\r\n        return storyboardArray;\r\n    } else if (returnType === "parts") {\r\n        let obj = {\r\n            firstPart: `${baseUrlHq}M`,\r\n            secondPart: `${sgpPart}&sigh=${sighPartHq}`\r\n        };\r\n        return obj;\r\n    } else if (returnType === "keys") {\r\n        let obj = {\r\n            sgp: sgpPart.slice(9),\r\n            sigh: sighPartHq\r\n        };\r\n\r\n        return obj;\r\n    }\r\n\r\n}\r\n\r\n\r\n// oembed 를 사용하는 경우\r\n// - url\r\n// https://youtube.com/oembed?url=http://www.youtube.com/watch?v=iwGFalTRHDA&format=json\r\n// - response\r\n// {"title":"Trololo","author_name":"KamoKatt","author_url":"https://www.youtube.com/@KamoKatt","type":"video","height":150,"width":200,"version":"1.0","provider_name":"YouTube","provider_url":"https://www.youtube.com/","thumbnail_height":360,"thumbnail_width":480,"thumbnail_url":"https://i.ytimg.com/vi/iwGFalTRHDA/hqdefault.jpg","html":"\\u003ciframe width=\\u0022200\\u0022 height=\\u0022150\\u0022 src=\\u0022https://www.youtube.com/embed/iwGFalTRHDA?feature=oembed\\u0022 frameborder=\\u00220\\u0022 allow=\\u0022accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\\u0022 allowfullscreen title=\\u0022Trololo\\u0022\\u003e\\u003c/iframe\\u003e"}\r\n\n\n//# sourceURL=webpack://Naver-Cafe-Clip-Loader/./src/js/video/video_youtube.js?')}},__webpack_module_cache__={};function __webpack_require__(e){var r=__webpack_module_cache__[e];if(void 0!==r)return r.exports;var n=__webpack_module_cache__[e]={id:e,exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(r,{a:r}),r},__webpack_require__.d=(e,r)=>{for(var n in r)__webpack_require__.o(r,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},__webpack_require__.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__("./src/index.js")})();