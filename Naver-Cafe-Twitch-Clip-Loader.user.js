// ==UserScript==
// @name        Naver-Cafe-Twitch-Clip-Loader
// @version     0.8.0
// @author      Nomo
// @description Naver Cafe 에서 트위치 클립을 편하게 볼 수 있도록 해주는 유저스크립트 확장
// @supportURL  https://github.com/nomomo/Naver-Cafe-Twitch-Clip-Loader/issues
// @match       https://cafe.naver.com/*
// @match       https://clips.twitch.tv/*parent=cafe.naver.com*
// @match       https://player.twitch.tv/*parent=cafe.naver.com*
// @match       https://serviceapi.nmv.naver.com/*
// @match       https://www.youtube.com/embed/*origin=https%3A%2F%2Fcafe.naver.com*
// @namespace   Naver-Cafe-Twitch-Clip-Loader
// @icon        https://raw.githubusercontent.com/nomomo/Naver-Cafe-Twitch-Clip-Loader/master/images/logo.png
// @homepageURL https://github.com/nomomo/Naver-Cafe-Twitch-Clip-Loader/
// @downloadURL https://github.com/nomomo/Naver-Cafe-Twitch-Clip-Loader/raw/main/Naver-Cafe-Twitch-Clip-Loader.user.js
// @updateURL   https://github.com/nomomo/Naver-Cafe-Twitch-Clip-Loader/raw/main/Naver-Cafe-Twitch-Clip-Loader.user.js
// @run-at      document-start
// @require     https://greasemonkey.github.io/gm4-polyfill/gm4-polyfill.js
// @require     https://code.jquery.com/jquery-3.6.0.min.js
// @grant       GM.addStyle
// @grant       GM_addStyle
// @grant       GM.getValue
// @grant       GM_getValue
// @grant       GM.setValue
// @grant       GM_setValue
// @grant       GM.deleteValue
// @grant       GM_deleteValue
// @grant       GM.listValues
// @grant       GM_listValues
// @grant       GM.info
// @grant       GM_info
// @grant       GM.xmlHttpRequest
// @grant       GM_xmlhttpRequest
// @grant       GM.registerMenuCommand
// @grant       GM_registerMenuCommand
// @grant       GM.addValueChangeListener
// @grant       GM_addValueChangeListener
// @grant       GM.removeValueChangeListener
// @grant       GM_removeValueChangeListener
// @grant       unsafeWindow
// @connect     youtube.com
// ==/UserScript==

(()=>{var e={600:(e,t,n)=>{var i=n(81),a=n(645)(i);a.push([e.id,'.twitchClipFound .se-oglink-thumbnail.hoverPlayButton::before{\r\n    content: \'▶️\';\r\n    font-size: 15vw;\r\n    width: 16vw;\r\n    height: 16vw;\r\n    position: absolute;\r\n    z-index: 10;\r\n    color: #fff;\r\n    text-align: center;\r\n    font-family: monospace;\r\n    border-radius: 0.5vw;\r\n    top: calc(50% - 16vw / 2);\r\n    left: calc(50% - 16vw / 2);\r\n    opacity: 1.0;\r\n    padding: 0 0 0 0.8vw;\r\n    user-select: none;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    transform: scaleX(0.9);\r\n    -webkit-transition: background-color 150ms linear;\r\n    -ms-transition: background-color 150ms linear;\r\n    transition: background-color 150ms linear;\r\n}\r\n.twitchClipFound .se-oglink-thumbnail.hoverPlayButton:hover::before{\r\n    background-color:rgba(255,255,255,0.2);\r\n    box-shadow: 0px 0px 1vw rgb(0 0 0 / 40%);\r\n    opacity:1.0;\r\n}\r\nhtml body .se-section-oglink.twitchClipFound .se-oglink-thumbnail:after{\r\n    border:0;\r\n}\r\ndiv.se-component-content.youtubeClipFound img.se-oglink-thumbnail-resource{\r\n    filter:brightness(0.8);\r\n}\r\n.se-component-content.streamableFound .NCTCL-container, .se-component-content.streamableFound .NCTCL-iframe-container{\r\n    background-color: black;\r\n}\r\n\r\n.NCTCL-iframe-container {\r\n    line-height:0 !important;\r\n}\r\n.NCTCL-container .NCTCL-description {\r\n    margin-top:0.25px;\r\n}\r\n.NCTCL-container .se-link{\r\n    display: flex; align-items:center; padding: 0 16px; border: 1px solid rgba(0,0,0,.15); box-sizing: border-box; margin-top:0px;text-decoration: none;\r\n    overflow: hidden; white-space: nowrap; text-overflow: ellipsis; font-size:14px; box-shadow: 0 1px 3px 0 rgb(0 0 0 / 4%);\r\n    height: 48px;\r\n    font-family:se-nanumsquare,"나눔고딕",nanumgothic,Apple SD Gothic Neo,"맑은 고딕",Malgun Gothic,"돋움",dotum,sans-serif;\r\n    background-color:#fff;\r\n}\r\n.NCTCL-container .se-link:hover{\r\n    text-decoration: none;\r\n}\r\n.NCTCL-container .se-link svg{\r\n    margin-right:10px;\r\n    flex-shrink: 0;\r\n    vertical-align: middle;\r\n}\r\n.NCTCL-container .NCTCL-titleText {\r\n    height:16px;\r\n    vertical-align: middle;\r\n    font-size: 16px;\r\n    font-weight: 700;\r\n    flex-shrink: 0;\r\n    max-width: calc(100% - 19px);\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n}\r\n.NCTCL-container .NCTCL-clipurlText {\r\n    color:#333;\r\n    height:16px;\r\n    color:black;\r\n    vertical-align: middle;\r\n    font-size: 14px;\r\n    margin-left: 10px;\r\n    \r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    position:relative;\r\n    top:0.5px;\r\n}\r\n.NCTCL-container a.se-link .NCTCL-titleText {\r\n    color:#333 !important;\r\n}\r\n.NCTCL-container a.se-link .NCTCL-clipurlText{\r\n    color:#999 !important;\r\n}\r\n.NCTCL-container a.se-link:hover .NCTCL-titleText, .NCTCL-container a.se-link:hover .NCTCL-clipurlText {\r\n    color:#4a90e2 !important;\r\n}\r\n.noUnderLine{text-decoration:none;}\r\n.UnderLine{text-decoration: underline;}\r\n.se-media-meta-info-description::before, .se-media-meta-info-title::before{\r\n    content: \'NAVER\';\r\n    font-weight: 900;\r\n    color: #2DB400;\r\n    font-size: 12px;\r\n    font-family: nanumgothic, sans-serif;\r\n    height: 16px;\r\n    width: 16px;\r\n    margin-right: 10px;\r\n    background: #eee;\r\n    padding: 0 3px;\r\n    user-select: none;\r\n}\r\n\r\n\r\n.twitchClipFound .se-oglink-title::before\r\n/*,.twitchClipFound .NCTCL-titleText::before*/\r\n{\r\n    display: inline-block;\r\n    content: \'Twitch\';\r\n    font-weight: 900;\r\n    color: #a778ff;\r\n    font-size: 12px;\r\n    font-family: math;\r\n    height: 20px;\r\n    width: 45px;\r\n    margin-right: 10px;\r\n    background: #eee;\r\n    position: relative;\r\n    user-select: none;\r\n    padding: 0 4px;\r\n    box-sizing:border-box;\r\n}\r\n\r\n.NCTCLloader,\r\n.NCTCLloader:after {\r\n  border-radius: 50% !important;\r\n  width: 10vw !important;\r\n  height: 10vw !important;\r\n}\r\n.NCTCLloader {\r\n\r\n    position: absolute !important;\r\n    z-index: 10000 !important;\r\n    top: calc(50% - 5vw) !important;\r\n    left: calc(50% - 5vw) !important;\r\n    font-size: 10px !important;\r\n    text-indent: -9999em !important;\r\n    border-top: 1.1em solid rgba(255, 255, 255, 0.2) !important;\r\n    border-right: 1.1em solid rgba(255, 255, 255, 0.2) !important;\r\n    border-bottom: 1.1em solid rgba(255, 255, 255, 0.2) !important;\r\n    border-left: 1.1em solid #ffffff !important;\r\n    animation: NCTCLload8 1.1s infinite linear !important;\r\n}\r\n@keyframes NCTCLload8 {\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n.YTClipFailContainer{\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0;\r\n    z-index: 100;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.YTClipFailContainer .YTClipFailContent{\r\n    padding: 20px;\r\n    background: rgba(0,0,0,0.7);\r\n    max-width: 80%;\r\n    border-radius: 15px;\r\n    text-align: center;\r\n    margin: 0 auto;\r\n    font-size: 16px;\r\n    color: #fff;\r\n    line-height: 160%;\r\n    font-family: se-nanumsquare,"나눔고딕",nanumgothic,Apple SD Gothic Neo,"맑은 고딕",Malgun Gothic,"돋움",dotum,sans-serif;\r\n}\r\n',""]),e.exports=a},254:(e,t,n)=>{var i=n(81),a=n(645)(i);a.push([e.id,'.u_rmc_controls_btn div.naver_player_reload_btn {\r\n    color: #fff;\r\n    float: left;\r\n    font-family: se-nanumsquare,"나눔고딕",nanumgothic,Apple SD Gothic Neo,"맑은 고딕",Malgun Gothic,"돋움",dotum,sans-serif;\r\n    height: 16px;\r\n    line-height: normal;\r\n    cursor:pointer;\r\n}\r\n\r\n.u_rmc_controls_btn div.naver_player_reload_btn:hover {\r\n    color: #00e686;\r\n}\r\n\r\n.u_rmcplayer .u_rmcplayer_error_layer div.naver_player_reload_error_btn {\r\n    border-radius: 15px;\r\n    border: 2px solid #fff;\r\n    background: #eee;\r\n    padding: 10px;\r\n    text-shadow: 0 0 2px rgb(0 0 0 / 10%);\r\n    color: #333;\r\n    font-size: 14px;\r\n    line-height: 23px;\r\n    letter-spacing: -0.5px;\r\n    max-width: 370px;\r\n    font-weight: 300;\r\n    margin: 30px auto 0 auto;\r\n    cursor: pointer;\r\n    font-family:se-nanumsquare,"나눔고딕",nanumgothic,Apple SD Gothic Neo,"맑은 고딕",Malgun Gothic,"돋움",dotum,sans-serif;\r\n}\r\n.u_rmcplayer .u_rmcplayer_error_layer div.naver_player_reload_error_btn:hover {\r\n    background: #fff;\r\n}',""]),e.exports=a},952:(e,t,n)=>{var i=n(81),a=n(645)(i);a.push([e.id,'\r\n:root{\r\n    --NCTCL-font-color:#FFF;\r\n    --NCTCL-background-color:#202020;\r\n    --NCTCL-border-color:#383838;\r\n\r\n    \r\n    --NCTCL-font-color-lighter:#AAA;\r\n    --NCTCL-background-color-lighter:#303030;\r\n    --NCTCL-border-color-lighter:#383838;\r\n    \r\n    --NCTCL-font-color-lightest:#AAA;\r\n    --NCTCL-background-color-lightest:#404040;\r\n    --NCTCL-border-color-lightest:#484848;\r\n}\r\n\r\n*::-webkit-scrollbar { background: #505050 !important; }\r\n*::-webkit-scrollbar-thumb { background: #353535 !important; }\r\n\r\n#powerAd-div, #cafe_sdk {display:none}\r\n\r\nh1,h2,h3,h4,h5,h6\r\n,.skin-1080 .ia-info-data .gm-tcol-c .id .ellipsis\r\n,.skin-1080 #ia-info-data-emblem .txt\r\n,.skin-1080 .com .box-w .group-list .tcol-c\r\n,.skin-1080 .com .pocket_nav\r\n,.skin-1080 .com .pocket_nav .filter-50\r\n,.skin-1080 .com .box-w .group-mlist .tcol-c\r\n,.skin-1080 #cafe-secede\r\n,.skin-1080 .ia-info-data\r\n,.skin-1080 .ia-info-data2\r\n,.skin-1080 .ia-info-data3\r\n,.skin-1080 .ia-info-data3 li\r\n,.skin-1080 .SpecialMenu .menu_list .link_special\r\n,.skin-1080 .article-album .album-box .tit .ellipsis\r\n,.skin-1080 .board-notice.type_event .article, .skin-1080 .board-notice.type_up .article\r\n,.skin-1080 .article-board .pers_nick_area .p-nick a\r\n,.skin-1080 .article-board .td_date\r\n,.skin-1080 .article-board .td_view\r\n,.skin-1080 .article-album-sub .tit .ellipsis\r\n,.skin-1080 .RelatedArticles .member_area\r\n,.skin-1080 .ArticlePaginate .btn.number\r\n,.skin-1080 .PopularArticles .PopularCafeList .popular_list .post_box .title\r\n,.skin-1080 .RelatedArticles .date_area\r\n,.skin-1080 .article-board .td_likes\r\n,.skin-1080 .article-board .article\r\n,.skin-1080 .select_component .date_enter .tit\r\n,.skin-1080 .article-movie-sub .con\r\n,.skin-1080 .article-movie-sub .tit_area .tit strong\r\n,.skin-1080 #main-area .m-tcol-c\r\n,.skin-1080 #special-menu .special-menu .link_special\r\n,.skin-1080 #neighbor-cafe .comment\r\n,.skin-1080 #neighbor-cafe .bca\r\n,.skin-1080 #widget_company_info\r\n,.skin-1080 #widget_company_info .tit_company\r\n,.skin-1080 #widget_company_info .list_company .tit\r\n,.skin-1080 #widget_company_info .list_company li\r\n,.skin-1080 .article-album .album-box li .price\r\n,.skin-1080 .SaleInfo .CommercialDetail .list_detail .btn_text\r\n,.skin-1080 .ModalLayer\r\n,.skin-1080 .ModalLayer .layer_commerce_safety_guide .deal_thead\r\n,.skin-1080 .ModalLayer .layer_commerce_safety_guide .deal_td\r\n,.skin-1080 .ModalLayer .layer_commerce_safety_guide .deal_list\r\n,.skin-1080 .ModalLayer .layer_commerce_safety_guide .safety_deal_text\r\n,.skin-1080 .SaleInfo\r\n,.skin-1080 .SaleInfo .CommercialDetail .list_title\r\n,.skin-1080 .SaleInfo .ProductCategory\r\n,.skin-1080 .NCTCL-container .se-link\r\n,.skin-1080 .CafeViewer .se-viewer .se-section-oglink.se-section.se-l-large_image .se-oglink-info\r\n,.skin-1080 .CafeViewer .se-viewer .se-module-oglink .se-oglink-title\r\n,.skin-1080 .CafeViewer .se-viewer .se-video .se-media-meta\r\n,.skin-1080 .se-viewer .se-video .se-media-meta-info, .se-viewer .se-video .se-media-meta-info-title\r\n,.skin-1080 .CafeViewer .se-viewer .se-video .se-media-meta-info-wrap:not(.se-is-activated) .se-media-meta-info-description\r\n,.NCTCL-container a.se-link .NCTCL-titleText\r\n,.skin-1080 .ArticleTagList .item\r\n,.skin-1080 .ArticleTagList .item a\r\n,.skin-1080 .pop_container\r\n,.skin-1080 .CommentWriter .comment_inbox_text\r\n,.skin-1080 .gnb_my_lyr\r\n,.skin-1080 .gnb_my_li .gnb_my_content\r\n,.skin-1080 #gnb a,.skin-1080 #gnb a:visited,.skin-1080 #gnb a:active,.skin-1080 #gnb a:focus\r\n,.skin-1080 .gnb_my_li .gnb_my_content .gnb_pay_check a,.skin-1080  .gnb_my_li .gnb_my_content .gnb_pay_check span,.skin-1080  .gnb_my_li .gnb_my_content .gnb_pay_check strong\r\n,.skin-1080 .gnb_bdr\r\n,.skin-1080 .gnb_txt\r\n,.skin-1080 .cc_layer_mynews .cc_mynews_list .info_top .box\r\n,.skin-1080 .cc_layer_mynews .cc_mynews_list .info_title\r\n,.skin-1080 .cc_layer_mynews .cc_mynews_list .cc_mynews_info\r\n,.skin-1080 .cc_layer_mynews .cc_mynews_list .info_txt\r\n,.skin-1080 .cafe_list .sort li.on a\r\n,.skin-1080 .cafe_list .sort li a\r\n,.skin-1080 .cafe_list .lst_mycafe li .cafe_name h5 a\r\n,.skin-1080 .LowLevelAccessGuide .tit_level\r\n,.skin-1080 .LowLevelAccessGuide .txt_level\r\n,.skin-1080 .LowLevelAccessGuide .list_explanation .explanation\r\n,.skin-1080 .LowLevelAccessGuide .list_explanation li\r\n,.skin-1080 .LowLevelAccessGuide .list_level .desc\r\n{\r\n    color:var(--NCTCL-font-color) !important;\r\n}\r\n\r\n.skin-1080 .ia-info-data .gm-tcol-c\r\n,.skin-1080 .ia-info-data3 em\r\n,.skin-1080 .ia-info-data2 .mem-cnt-info .link_invite\r\n,.skin-1080 #member-action-data\r\n,.skin-1080 .info-action-tab .gm-tcol-t\r\n,.skin-1080 #member-action-data .prfl_info\r\n,.skin-1080 #member-action-data .grade\r\n,.skin-1080 #member-action-data .grade .txt\r\n,.skin-1080 #linked-member #lm-list .tcol-c\r\n,.skin-1080 .m-tcol-c\r\n,.skin-1080 #naver-gnb #gnb-menu .naver-h,.skin-1080 #naver-gnb #gnb-menu .m-cafe,.skin-1080 #naver-gnb #gnb-menu .join-cafe,.skin-1080 #naver-gnb #gnb-menu .chatting-cafe,.skin-1080 #naver-gnb #gnb-menu #gnb,.skin-1080 #naver-gnb #gnb-menu .gnb_name\r\n,.skin-1080 .Gnb .gnb_menu .gnb_link\r\n,.Gnb .GnbNaver #gnb a.gnb_my .gnb_name\r\n,.WritingHeader .tool_area .temp_save_area .btn_temp_save\r\n,.WritingHeader .tool_area .temp_save_area .btn_temp_count\r\n,.skin-1080 .board-notice.type_event .cmt, .skin-1080 .board-notice.type_up .cmt\r\n,.skin-1080 .article-board .board-list .head\r\n,.skin-1080 .WriterInfo .profile_info .nick_level\r\n,.skin-1080 .CommentBox .comment_option .comment_tab .comment_tab_item .comment_tab_button[aria-selected=true]\r\n,.skin-1080 .RelatedArticlesTabContainer__tab button[aria-pressed=true]\r\n,.skin-1080 .RelatedArticlesTabContainer__tab button\r\n,.skin-1080 .footer\r\n,.skin-1080 .footer .cafe_name\r\n,#theaterModeBtn\r\n,#darkModeBtn\r\n,#button_town_cafe\r\n,.skin-1080 .prev-next a\r\n,.skin-1080 .select_component .select_list li a\r\n,.skin-1080 .select_component2 .select_list li a\r\n,.skin-1080 .article-movie-sub .txt\r\n,.skin-1080 .article-movie-sub .user_info .m-tcol-c\r\n,.skin-1080 .check_box label\r\n,.skin-1080 .input_component input::placeholder\r\n,.skin-1080 .alarm_switch .alarm_txt\r\n,.skin-1080 .SaleInfo .BottomNotice\r\n,.skin-1080 .SaleInfo .BottomNotice .text_title\r\n,.skin-1080 .SaleInfo .BottomNotice .text_info\r\n,.skin-1080 .CafeViewer .se-viewer .se-module-oglink .se-oglink-summary\r\n,.skin-1080 .CafeViewer .se-viewer .se-video .se-media-meta-info-tag\r\n,.skin-1080 .list-style .total\r\n,.skin-1080 .cc_layer_mynews .cc_mynews_list .info_bottom\r\n,.skin-1080 .cafe_list .lst_mycafe li .cafe_name .second\r\n,.skin-1080 .cafe_list .lst_mycafe li .cafe_name .second\r\n,.skin-1080 .list_sub_tab .link\r\n,.skin-1080 .LowLevelAccessGuide .txt_level .level\r\n{\r\n    color:var(--NCTCL-font-color-lighter) !important;\r\n}\r\n\r\n/* space */\r\n.Gnb .gnb_menu .gnb_item:after\r\n,#naver-gnb #gnb-menu .tcol-c\r\n,.footer .cafe_link:before\r\n,.RelatedArticlesTabContainer__tab button[aria-pressed=true]:after\r\n,.skin-1080 .prev-next .pgR:before\r\n{\r\n    background-color:var(--NCTCL-border-color) !important;\r\n}\r\n\r\n.skin-1080 .CommentBox\r\n,.skin-1080 .ArticleContentBox\r\n,.skin-1080 .ArticleContentBox .article_header\r\n,.skin-1080 .CommentBox .comment_list .CommentItem\r\n,.skin-1080 .RelatedArticles .list_item\r\n,.skin-1080 .RelatedArticles .list_item:first-child\r\n,.skin-1080 .RelatedArticlesTabContainer__tab button[aria-pressed=true]\r\n,.skin-1080 .RelatedArticlesTabContainer__tab .tab_menu\r\n,.skin-1080 .PopularArticles .PopularCafeList .popular_list .list_item\r\n,.skin-1080 .select_component2 .select_list\r\n,.skin-1080 .select_component .select_list\r\n,.skin-1080 .article-movie-sub li\r\n,.skin-1080 .area_info_box\r\n,.skin-1080#main-area .list-tit\r\n,.skin-1080 .list-style .check_box ~ .sort_form\r\n,.skin-1080 .list-style .sort_form\r\n,.skin-1080 .com .box-w .group-mlist\r\n,.skin-1080 .info-action-tab .tit-bookmark\r\n,.skin-1080 .list_sub_tab\r\n,.skin-1080 .SaleInfo .CommercialDetail .section\r\n,.skin-1080 .PurchaseButton.PurchaseButton--bottom\r\n,.skin-1080 .ModalLayer .layer_commerce_safety_guide .deal_table\r\n,.skin-1080 .gnb_my_lyr\r\n,.skin-1080 .cafe_list .lst_mycafe\r\n,.skin-1080 .cafe_list_control\r\n,.skin-1080 .article-board tbody td\r\n,.skin-1080 .search_result .learn_more.is_selected + .search_input\r\n{\r\n    border-color:var(--NCTCL-border-color);\r\n}\r\n\r\n\r\n.skin-1080 .list_sub_tab .on .link\r\n{\r\n    border-color:var(--NCTCL-border-color-lightest);\r\n}\r\n\r\n/* normal */\r\nhtml\r\n, iframe\r\n,.skin-1080\r\n,.skin-1080 .layout_content\r\n,.skin-1080 #linked-member #lm-list\r\n,.skin-1080 .gate-list.border-sub\r\n,.skin-1080 .article-board thead th\r\n,.skin-1080 .article-board tbody td\r\n,.skin-1080 .search_result .search_input\r\n,.skin-1080 .prev-next\r\n,.skin-1080 .prev-next a\r\n,.skin-1080 .list-search\r\n{\r\n    color:var(--NCTCL-font-color);\r\n    background-color:var(--NCTCL-background-color);\r\n    border-color:var(--NCTCL-border-color);\r\n}\r\n\r\n.skin-1080 .search_result .search_input{\r\n    border:1px solid var(--NCTCL-border-color);\r\n}\r\n\r\n\r\n/* lighter */\r\n.skin-1080 #cafe-info-action\r\n,.skin-1080 .info-action-tab .tit-bookmark .btn-bookmark-off\r\n,.skin-1080 #cafe-menu\r\n,.skin-1080 #cafe-menu div.cafe-menu-space\r\n,.skin-1080 .box-g-m\r\n,.skin-1080 #cafe-menu .cafe-menu-tit\r\n,.skin-1080 #cafe-menu .cafe-menu-tit .gm-tcol-t\r\n,.skin-1080 #cafe-menu .cafe-menu-list\r\n,.skin-1080 #cafe-menu .cafe-menu-list li\r\n,.skin-1080 #cafe-menu .cafe-menu-list li a\r\n,.skin-1080 #cafe-menu .cafe-menu-list h1\r\n,.skin-1080 #cafe-menu .cafe-menu-list h2\r\n,.skin-1080 #cafe-menu .cafe-menu-list h3\r\n,.skin-1080 #cafe-menu .cafe-menu-list h4\r\n,.skin-1080 #cafe-menu .cafe-menu-list h5\r\n,.skin-1080 #cafe-menu .cafe-menu-list h6\r\n,.skin-1080 .com .box-w\r\n,.skin-1080 .box_notice\r\n,.skin-1080 #special-menu\r\n,.skin-1080 .SpecialMenu\r\n,.skin-1080 .SpecialMenu .menu_list\r\n,.skin-1080 .cafe-search .inp\r\n,.skin-1080 .area_info_box\r\n,.skin-1080 #ia-info-data-emblem\r\n,.skin-1080 .ia-info-data2\r\n,.skin-1080 .info-action-tab\r\n,.skin-1080 .CommentWriter\r\n,.skin-1080 .ArticlePaginate .btn.number[aria-pressed=true]\r\n,.skin-1080 .RelatedArticles .list_item.selected\r\n,.skin-1080 .select_component\r\n,.skin-1080 .select_component .select_box\r\n,.skin-1080 .select_component .select_list li\r\n,.skin-1080 .select_component2\r\n,.skin-1080 .select_component2 .select_box\r\n,.skin-1080 .select_component2 .select_list li\r\n,.skin-1080 .input_component\r\n,.skin-1080 .input_component input\r\n,.skin-1080 .select_component .date_enter\r\n,.skin-1080 .select_component .date_enter input\r\n,.skin-1080 .btn_type1.post_write\r\n,.skin-1080 #widget-count\r\n,.alarm_switch .layer_alarm\r\n,.skin-1080 #widget-currency\r\n,.skin-1080 #widget-currency .bg-body tr:nth-child(even) th, .skin-1080 #widget-currency .bg-body tr:nth-child(even) td\r\n,.skin-1080 #widget-currency .bg-head\r\n,.skin-1080 .com .box-ww.white_box\r\n,.skin-1080 .com .box-ww\r\n,.skin-1080 .PurchaseButton .purchase_chat .btn_purchase\r\n,.skin-1080 .PurchaseButton .purchase_chat .btn_commerce_status.type_chat\r\n,.skin-1080 .PurchaseButton .purchase_chat .btn_commerce_status.type_pay\r\n,.skin-1080 .FormNoticeContent\r\n,.skin-1080 .SaleInfo .CommercialDetail .list_detail .btn_commerce\r\n,.skin-1080 .ModalLayer .layer_wrap\r\n,.skin-1080 .ModalLayer .layer_commerce_safety_guide .deal_thead\r\n,.skin-1080 .ModalLayer .layer_commerce_safety_guide .deal_td\r\n,.skin-1080 .ModalLayer .layer_commerce_safety_guide .deal_list\r\n,.skin-1080 .ModalLayer .layer_commerce_safety_guide .safety_deal_text\r\n,.skin-1080 .NCTCL-container .se-link\r\n,.skin-1080 .CafeViewer .se-viewer .se-section-oglink.se-section.se-l-large_image .se-oglink-info\r\n,.skin-1080 .CafeViewer .se-viewer .se-video .se-media-meta\r\n,.skin-1080 .se-viewer .se-module-oglink\r\n,.skin-1080 .ArticleTagList .item\r\n,.skin-1080 .CommentBox .comment_list .CommentItem--mine\r\n,.skin-1080 .CommentBox .comment_list .CommentItem.CommentItem--mine::before\r\n,.skin-1080 .gnb_my_li .gnb_my_content\r\n,.skin-1080 .gnb_my_lyr_iframe\r\n,.skin-1080 .select_component .select_list\r\n,.skin-1080 .cc_layer_mynews .cc_mynews_header\r\n,.skin-1080 .cc_layer_mynews .cc_mynews_list li\r\n,.skin-1080 .cc_layer_mynews\r\n,.skin-1080 #naver-gnb #join-cafe-iframe\r\n,.skin-1080 .cafe_list .lst_mycafe li\r\n,.skin-1080 .cafe_list .lst_mycafe li\r\n,.skin-1080 .cafe_list .sort_area\r\n,.skin-1080 .cafe_list_control\r\n,.skin-1080 .LowLevelAccessGuide .guide_box\r\n,.skin-1080 .select_component2 .select_list\r\n{\r\n    color:var(--NCTCL-font-color);\r\n    background-color:var(--NCTCL-background-color-lighter);\r\n    border-color:var(--NCTCL-border-color);\r\n}\r\n\r\n.skin-1080 #nomo_settings\r\n,.skin-1080 #nomo_settings li\r\n,.skin-1080 #nomo_settings #GM_setting li[GM_setting_key="set_volume_when_stream_starts"]\r\n,.skin-1080 #GM_setting_footer\r\n,.skin-1080 #neighbor-cafe .comm-btn-top a\r\n,.skin-1080 .ModalLayer .layer_seller_contact .contact_box\r\n,.skin-1080 #gnb .gnb_my_li .gnb_my_community a,.skin-1080  .gnb_notice_li .gnb_notice_all,.skin-1080  a.gnb_service_all, .gnb_svc_more .svc_btns\r\n,.skin-1080 #naver-gnb #gnb-menu .gnb_txt\r\n,.skin-1080 .LowLevelAccessGuide .cafe_level_info\r\n{\r\n    color:var(--NCTCL-font-color);\r\n    background-color:var(--NCTCL-background-color-lightest) !important;\r\n    border-color:var(--NCTCL-border-color) !important;\r\n}\r\n.skin-1080 #nomo_settings #GM_setting input\r\n,.skin-1080 #nomo_settings #GM_setting .btn-default\r\n,.skin-1080 #nomo_settings #GM_setting .btn-primary\r\n,.skin-1080 #nomo_settings #GM_setting .form-control\r\n{\r\n    color:var(--NCTCL-font-color);\r\n    background-color:var(--NCTCL-background-color-lighter);\r\n    border-color:var(--NCTCL-border-color);\r\n}\r\n.skin-1080 #nomo_settings a\r\n,.skin-1080 #nomo_settings a:hover\r\n,.skin-1080 #nomo_settings a:focus{\r\n    color:var(--NCTCL-font-color-lighter) !important;\r\n}\r\n#GM_setting .GM_setting_under_dev .GM_setting_title{\r\n    color:#c9adff;\r\n}\r\n.skin-1080 #GM_setting .GM_setting_item_disable\r\n,.skin-1080 #GM_setting .GM_setting_item_disable .GM_setting_title\r\n,.skin-1080 #GM_setting .GM_setting_item_disable .GM_setting_desc\r\n{\r\n    color:#747474 !important;\r\n}\r\n\r\n/* lightest */\r\n.skin-1080 .cafe-write-btn a\r\n,.skin-1080 .ia-info-btn .link_chat\r\n,.skin-1080 .box_notice .link_more\r\n,.WritingHeader .tool_area .temp_save_area .btn_temp_save\r\n,.WritingHeader .tool_area .temp_save_area .btn_temp_count\r\n,.WriterInfo .profile_info .link_talk\r\n,.BaseButton.size_default:first-child\r\n,.BaseButton.size_default\r\n,.skin-1080 .board-notice.type_event .board-tag-txt, .skin-1080 .board-notice.type_up .board-tag-txt\r\n,.skin-1080 .prev-next a.on\r\n,.skin-1080 .select_component2 .select_list li a:hover\r\n,.skin-1080 .select_component .select_list li a:hover\r\n,.skin-1080 .select_component .date_enter .btn_set\r\n,.skin-1080 #widget_company_info .link_company\r\n,.skin-1080 .cafe-search .btn\r\n,.skin-1080 #cafe-menu #favoriteMenuGroup\r\n,.skin-1080 #cafe-menu #favoriteMenuGroup li\r\n,.skin-1080 #cafe-menu #favoriteMenuGroup li a\r\n,.skin-1080 #cafe-menu .cafe-menu-tit.frst\r\n,.skin-1080 #cafe-menu .cafe-menu-tit.frst h3\r\n,.skin-1080 #cafe-menu .cafe-menu-tit.frst a\r\n,.skin-1080 .input_search_area .btn-search-green\r\n{\r\n    color:var(--NCTCL-font-color);\r\n    background-color:var(--NCTCL-background-color-lightest);\r\n    border-color:var(--NCTCL-border-color-lightest);\r\n}\r\n\r\n/* 공지 */\r\n.skin-1080 .board-notice.type_menu .board-tag-txt\r\n,.skin-1080 .board-notice.type_required .board-tag-txt\r\n,.skin-1080 .board-notice.type_main .board-tag-txt\r\n{\r\n    background: #303030;\r\n    border-color: #404040;\r\n    color: #fff;\r\n}\r\n\r\n/* 글쓰기 */\r\n.skin-1080 .setting_area, .skin-1080 .setting_area *{\r\n    color:var(--NCTCL-font-color-lighter);\r\n    background-color:var(--NCTCL-background-color-lighter);\r\n    border-color:var(--NCTCL-border-color-lighter);\r\n}\r\n\r\n/*emoji*/\r\n.CommentBox .comment_list .CommentItemSticker .comment_sticker_link .image\r\n,.se-viewer .se-sticker-image{\r\n    background-color:var(--NCTCL-background-color-lightest);\r\n}\r\n\r\n.ArticleTool .button_comment .svg-icon\r\n,.prev-next .pgR:after\r\n,.footer .naver_cafe\r\n,.left_area .BaseButton.size_default:not(.BaseButton--skinGreen) svg.svg-icon\r\n,.right_area .BaseButton.size_default:not(.BaseButton--skinGreen) svg.svg-icon\r\n,.se-viewer .se-video .se-media-meta-toggle-button\r\n{\r\n    filter:invert(1)\r\n}\r\n\r\n.toggle_switch .switch_slider\r\n{\r\n    filter:invert(1) brightness(2.5) contrast(0.78);\r\n}\r\n\r\n#linked-member .member-reload\r\n,#linked-member .member-up\r\n{\r\n    filter:invert(1) brightness(1.2) contrast(0.7);\r\n}\r\n\r\n#naver-gnb #gnb-menu .gnb_service_li .gnb_icon\r\n,.CommentBox .comment_option .comment_tab .comment_refresh_button\r\n,.SubscribeButton .ToggleSwitch.ToggleSwitch--skinGray .switch_slider\r\n{\r\n    filter:invert(1) contrast(0.7) brightness(0.5);\r\n}\r\n\r\n.check_box input + label:before\r\n{\r\n    filter:invert(1) contrast(0.3) brightness(0.8);\r\n}\r\n\r\n.skin-1080 .article-board [class*="list-i"]\r\n,.skin-1080 #cafe-menu .cafe-menu-list .ico_new\r\n,.skin-1080 #cafe-menu .cafe-menu-tit .ico_new\r\n,.ico_new\r\n,.skin-1080 .board-notice.type_required .cmt, .skin-1080 .board-notice.type_main .cmt\r\n,.skin-1080 .article-board .board-list .cmt\r\n,.skin-1080 #naver-gnb #gnb-menu .chatting-cafe .count\r\n{\r\n    filter:grayscale(0.4);\r\n}\r\n\r\n.BaseButton--skinGreen\r\n,.skin-1080 #cafe-menu .cafe-menu-tit .ico-bookmark\r\n{\r\n    filter:grayscale(1.0);\r\n}\r\n\r\n.toggle_switch .switch_input:checked + .switch_slider{\r\n    background-color:#AAA;\r\n}\r\n.skin-1080 #cafe-menu .cafe-menu-list{\r\n    margin-top:0px;\r\n    padding-top:6px;\r\n}\r\n\r\n.naver-splugin-c svg,\r\n.button_sticker,\r\n.button_file,\r\n.btn_type1.post_write:before{\r\n    filter:brightness(10);\r\n}\r\n\r\n.se-media-meta-info-description::before, .se-media-meta-info-title::before{\r\n    background-color:var(--NCTCL-background-color) !important;\r\n}\r\n.skin-1080 .twitchClipFound .se-oglink-url{\r\n    color:#a778ff !important;\r\n}\r\n.skin-1080 .twitchClipFound .se-oglink-title::before{\r\n    top:-1px;\r\n}\r\n\r\n',""]),e.exports=a},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,a,r){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(i)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(o[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);i&&o[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),t.push(d))}},t}},81:e=>{"use strict";e.exports=function(e){return e[1]}}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var r=t[i]={id:i,exports:{}};return e[i](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=!1;function t(){if(e){for(var t=arguments,n=t.length,i=t,a=n;a>0;a--)t[a]=i[a-1];t[0]="[NCTCL]  ",t.length=n+1,console.log.apply(console,t)}}window.NOMO_DEBUG=t;!function(e,t,n){function i(e,t,n){o.addMethod(t,n,e.unbindEvent),o.addMethod(t,n,e.unbindEventWithSelectorOrCallback),o.addMethod(t,n,e.unbindEventWithSelectorAndCallback)}function a(e){e.arrive=c.bindEvent,i(c,e,"unbindArrive"),e.leave=d.bindEvent,i(d,e,"unbindLeave")}if(e.MutationObserver&&"undefined"!=typeof HTMLElement){var r=0,o=function(){var t=HTMLElement.prototype.matches||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector;return{matchesSelector:function(e,n){return e instanceof HTMLElement&&t.call(e,n)},addMethod:function(e,t,i){var a=e[t];e[t]=function(){return i.length==arguments.length?i.apply(this,arguments):"function"==typeof a?a.apply(this,arguments):n}},callCallbacks:function(e,t){t&&t.options.onceOnly&&1==t.firedElems.length&&(e=[e[0]]);for(var n,i=0;n=e[i];i++)n&&n.callback&&n.callback.call(n.elem,n.elem);t&&t.options.onceOnly&&1==t.firedElems.length&&t.me.unbindEventWithSelectorAndCallback.call(t.target,t.selector,t.callback)},checkChildNodesRecursively:function(e,t,n,i){for(var a,r=0;a=e[r];r++)n(a,t,i)&&i.push({callback:t.callback,elem:a}),a.childNodes.length>0&&o.checkChildNodesRecursively(a.childNodes,t,n,i)},mergeArrays:function(e,t){var n,i={};for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);return i},toElementsArray:function(t){return n===t||"number"==typeof t.length&&t!==e||(t=[t]),t}}}(),s=function(){var e=function(){this._eventsBucket=[],this._beforeAdding=null,this._beforeRemoving=null};return e.prototype.addEvent=function(e,t,n,i){var a={target:e,selector:t,options:n,callback:i,firedElems:[]};return this._beforeAdding&&this._beforeAdding(a),this._eventsBucket.push(a),a},e.prototype.removeEvent=function(e){for(var t,n=this._eventsBucket.length-1;t=this._eventsBucket[n];n--)if(e(t)){this._beforeRemoving&&this._beforeRemoving(t);var i=this._eventsBucket.splice(n,1);i&&i.length&&(i[0].callback=null)}},e.prototype.beforeAdding=function(e){this._beforeAdding=e},e.prototype.beforeRemoving=function(e){this._beforeRemoving=e},e}(),l=function(t,i){var a=new s,r=this,l={fireOnAttributesModification:!1};return a.beforeAdding((function(n){var a,o=n.target;(o===e.document||o===e)&&(o=document.getElementsByTagName("html")[0]),a=new MutationObserver((function(e){i.call(this,e,n)}));var s=t(n.options);a.observe(o,s),n.observer=a,n.me=r})),a.beforeRemoving((function(e){e.observer.disconnect()})),this.bindEvent=function(e,t,n){t=o.mergeArrays(l,t);for(var i=o.toElementsArray(this),r=0;r<i.length;r++)a.addEvent(i[r],e,t,n)},this.unbindEvent=function(){var e=o.toElementsArray(this);a.removeEvent((function(t){for(var i=0;i<e.length;i++)if(this===n||t.target===e[i])return!0;return!1}))},this.unbindEventWithSelectorOrCallback=function(e){var t,i=o.toElementsArray(this),r=e;t="function"==typeof e?function(e){for(var t=0;t<i.length;t++)if((this===n||e.target===i[t])&&e.callback===r)return!0;return!1}:function(t){for(var a=0;a<i.length;a++)if((this===n||t.target===i[a])&&t.selector===e)return!0;return!1},a.removeEvent(t)},this.unbindEventWithSelectorAndCallback=function(e,t){var i=o.toElementsArray(this);a.removeEvent((function(a){for(var r=0;r<i.length;r++)if((this===n||a.target===i[r])&&a.selector===e&&a.callback===t)return!0;return!1}))},this},c=new function(){function e(e,t){return!(!o.matchesSelector(e,t.selector)||(e._id===n&&(e._id=r++),-1!=t.firedElems.indexOf(e._id)))&&(t.firedElems.push(e._id),!0)}var t={fireOnAttributesModification:!1,onceOnly:!1,existing:!1};c=new l((function(e){var t={attributes:!1,childList:!0,subtree:!0};return e.fireOnAttributesModification&&(t.attributes=!0),t}),(function(t,n){t.forEach((function(t){var i=t.addedNodes,a=t.target,r=[];null!==i&&i.length>0?o.checkChildNodesRecursively(i,n,e,r):"attributes"===t.type&&e(a,n)&&r.push({callback:n.callback,elem:a}),o.callCallbacks(r,n)}))}));var i=c.bindEvent;return c.bindEvent=function(e,a,r){n===r?(r=a,a=t):a=o.mergeArrays(t,a);var s=o.toElementsArray(this);if(a.existing){for(var l=[],c=0;c<s.length;c++)for(var d=s[c].querySelectorAll(e),p=0;p<d.length;p++)l.push({callback:r,elem:d[p]});if(a.onceOnly&&l.length)return r.call(l[0].elem,l[0].elem);setTimeout(o.callCallbacks,1,l)}i.call(this,e,a,r)},c},d=new function(){function e(e,t){return o.matchesSelector(e,t.selector)}var t={};d=new l((function(){return{childList:!0,subtree:!0}}),(function(t,n){t.forEach((function(t){var i=t.removedNodes,a=[];null!==i&&i.length>0&&o.checkChildNodesRecursively(i,n,e,a),o.callCallbacks(a,n)}))}));var i=d.bindEvent;return d.bindEvent=function(e,a,r){n===r?(r=a,a=t):a=o.mergeArrays(t,a),i.call(this,e,a,r)},d};t&&a(t.fn),a(HTMLElement.prototype),a(NodeList.prototype),a(HTMLCollection.prototype),a(HTMLDocument.prototype),a(Window.prototype);var p={};i(c,p,"unbindAllArrive"),i(d,p,"unbindAllLeave")}}(window,"undefined"==typeof jQuery?null:jQuery,void 0);var i=function(e,t,n){var a,r=void 0,o="",s=[],l={},c={},d={},p={$container:void 0,$GM_setting_head:void 0,$GM_homepage_link:void 0,$GM_multilang:void 0,$ul:void 0,$inputs:void 0,$lis:{}},u={},_=!1,m=function(){if(_){for(var e=arguments,t=e.length,n=e,i=t;i>0;i--)e[i]=n[i-1];e[0]="+[GM_SETTINGS]  ",e.length=t+1,console.log.apply(console,e)}},h=(navigator.language||navigator.userLanguage).toLowerCase().substring(0,2),f=h,g="ko",v=!1;const b={en:{title_settings:"Settings",title_reset:"Reset",donate:"Donate",buymeacoffee:"Buy me a coffee",buymeacoffeeDesc:"Support my projects by buying me a coffee! ☕",toonation:"Toonation",button_reset_settings:"Reset Settings",confirm_reset_settings:"Are you sure you want to reset the settings?",complete_reset_settings:"Settings reset complete!",button_reset_settings_all:"Script reset (refresh is required)",confirm_reset_settings_all:"Do you really want to reset script?",complete_reset_settings_all:"Script initialization complete!",auto_saved:"Autosaved: ",err_val_req:"A value must be entered.",err_num_req:"Only numbers can be entered.",err_num_over:"The input value must be a number greater than or equal to : ",err_num_not_more_than:"The input value must be a number less than or equal to: ",err_valid_array_string:"Only English letters, numbers, commas (,) and underscores (_) can be entered.",err_value_empty:"Something for which no value exists, such as an empty value.",err_value_dup:"Duplicate value exists: ",err_value_blank:"There is an item of a space in the string: ",setting_changed_from_other_window:"설정이 다른 창에서 변경되어 다시 불러옵니다."},ko:{title_settings:"Settings",title_reset:"Reset",donate:"후원하기",buymeacoffee:"Buy me a coffee 로 커피 한 잔 사주기",buymeacoffeeDesc:"커피 한 잔☕ 으로 프로젝트를 지원해주세요~",toonation:"Toonation 으로 후원하기",button_reset_settings:"Reset Settings",confirm_reset_settings:"진짜 설정을 초기화 할까요?",complete_reset_settings:"설정 초기화 완료!",button_reset_settings_all:"전체 초기화(새로고침 필요)",confirm_reset_settings_all:"진짜 스크립트를 모두 초기화 할까요?",complete_reset_settings_all:"스크립트 초기화 완료!",auto_saved:"자동 저장 됨: ",err_val_req:"반드시 값이 입력되어야 합니다.",err_num_req:"숫자만 입력 가능합니다.",err_num_over:"입력 값은 다음 값 이상의 숫자이어야 합니다. : ",err_num_not_more_than:"입력 값은 다음 값 이하의 숫자이어야 합니다. : ",err_valid_array_string:"영문, 숫자, 콤마(,), 언더바(_) 만 입력 가능합니다.",err_value_empty:"공백 값 등 값이 존재하지 않는 항목이 존재합니다.",err_value_dup:"중복된 값이 존재합니다: ",err_value_blank:"문자열 내 공백이 존재하는 항목이 있습니다: ",setting_changed_from_other_window:"설정이 다른 창에서 변경되어 다시 불러옵니다: "}};var y=function(e){var t="";if("object"==typeof e){var n=Object.keys(e);if(0===n.length)return t;t=void 0!==e[f]||void 0!==e[g]?e[f]:e[n[0]]}else t=e;return t},k=function(e){return void 0!==b[f]?b[f][e]:void 0!==b[g]?b[g][e]:""},w=async function(){m("save_"),""!==o&&await GM.setValue(o,d),t[o]=d,e.each(s,(function(e,t){void 0!==c[t]&&void 0!==c[t].change&&c[t].change(d[t])})),s=[]},G=async function(){m("load_"),""!==o&&(d=await GM.getValue(o,d)),d.Lang=await T(),t[o]=d},T=async function(){return f=await GM.getValue("GM_SETTING_LANG",h),m("loadLang_",f),f},M=function(t,n,i){t.empty(),t.empty();for(var a=0;a<i.length;a++){for(var r=e("<tr></tr>"),o=0;o<i[a].length;o++)0==o&&r.append(`<td>${a+1}</td>`),r.append(`<td>${i[a][o]}</td>`);r.append(`<td class="table_btn_container"><span title="Modify" alt="Modify" class="glyphicon glyphicon-pencil cp table_modify" GM_setting_key="${n}"></span><span title="Save" alt="Save" style="display:none;" class="glyphicon glyphicon-floppy-disk cp table_save" GM_setting_key="${n}"></span></td>`),r.append(`<td class="table_btn_container"><span title="Delete" alt="Delete" class="glyphicon glyphicon-trash cp table_delete" GM_setting_key="${n}"></span><span title="Cancel" alt="Cancel" style="display:none;" class="glyphicon glyphicon-remove cp table_cancel" GM_setting_key="${n}"></span></td>`),t.append(r)}for(var s=e("<tr></tr>"),l=0;l<c[n].head.length;l++)0==l&&s.append("<td></td>"),s.append("<td></td>");s.append(`<td class="table_btn_container"><span title="New" alt="New" class="glyphicon glyphicon-plus cp table_new" GM_setting_key="${n}"></span><span title="Save" alt="Save" style="display:none;" class="glyphicon glyphicon-floppy-disk cp table_new_save" GM_setting_key="${n}"></span></td>`),s.append(`<td class="table_btn_container"><span title="Cancel" alt="Cancel" style="display:none;" class="glyphicon glyphicon-remove cp table_new_cancel" GM_setting_key="${n}"></span></td>`),t.append(s)},C=function(t){var n,i,a=c[t].category,r=(c[t].depth,c[t].type),o=y(c[t].category_name),s=(c[t].under_dev,c[t].radio_enable_value),l=y(c[t].title),d=y(c[t].desc),_=e("<div class='GM_setting_input_container form-group'></div>"),m=-1!==e.inArray(r,["tag","textarea","object"]);switch(r){case"radio":var h=c[t].radio;for(var f in n=e("<div GM_setting_type='radio'></div>"),h){var g=e("<label class='radio-inline'>"+y(h[f].title)+"</label>");e("<input name='GM_setting_"+t+"' class='form-control' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' onfocus='this.blur()' />").attr({GM_setting_key:t,value:h[f].value,type:"set"===r?"text"===r:"tag"===r?"textarea":r}).prependTo(g),n.append(g)}break;case"combobox":var v=c[t].options;for(var b in n=e(`<select name="GM_setting_${t}" class='form-control input-sm select-inline'></select>`).attr({GM_setting_type:r,GM_setting_key:t,GM_setting_category:void 0===a?"default":a,GM_setting_radio_enable_value:void 0===s?"none":s}),v){var k=e(`<option spellcheck='false' value="${b}" onfocus='this.blur()'>${y(v[b].title)}</option>`);n.append(k)}break;case"table":var w=(n=e(`<table name="GM_setting_${t}" class="table table-bordered table-striped table-hover"><thead><tr></tr></thead><tbody></tbody></table>`).attr({GM_setting_key:t})).find("thead tr");w.append("<th>#</th>");for(var G=0;G<c[t].head.length;G++)w.append(`<th>${c[t].head[G]}</th>`);w.append('<th class="table_btn_container"> </th>'),w.append('<th class="table_btn_container"> </th>');break;default:n=e(`<${m?"textarea ":"input "} class='form-control' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' ${"checkbox"===r?"onfocus='this.blur()'":""}${m?"></textarea>":" />"}`).attr({type:"set"===r?"text"===r:"tag"===r?"textarea":r,GM_setting_key:t})}i=e(void 0!==o?`<div class='GM_setting_category_name'>${o}</div>`:"<div class='GM_setting_category_blank'></div>");var T=e("<div class='GM_setting_list_head'></div>"),M=e(`<span class='GM_setting_title'>${l}</span>`),C=e(`<span class='GM_setting_desc'>${d}</span>`);(T.append(M).append(C),"checkbox"===r)?(e('<label class="btn btn-default btn-xxs"><span class="glyphicon glyphicon-ok"></span></label>').prepend(n).appendTo(_),n.on("change",(function(){e(this).is(":checked")?e(this).closest("label").addClass("active"):e(this).closest("label").removeClass("active"),e(this).is(":disabled")?e(this).closest("label").addClass("disable").prop("disabled",!0):e(this).closest("label").removeClass("disable").prop("disabled",!1)}))):_.append(n);p.$lis[t].empty().append(i).append(T).append(_),u[t]=n,void 0!==c[t].append&&_.append(c[t].append)},x=function(t){for(var n in u={},(a=e(t)).empty(),p.$container=e("<div id='GM_setting'></div>"),p.$ul=e("<ul></ul>"),p.$GM_setting_head=e("<div id='GM_setting_head'></div>"),a.append(p.$container),p.$container.append(p.$GM_setting_head).append(p.$ul),p.$GM_homepage_link=e(`<div class='GM_homepage_link' style='display:none;'><a href='${GM.info.script.homepage}' target='_blank'>${GM.info.script.name} v${GM.info.script.version} (${GM.info.script.homepage})</a></div>`),void 0!==GM.info&&null!==GM.info&&void 0!==GM.info.script&&null!==GM.info.script&&void 0!==GM.info.script.homepage&&null!==GM.info.script.homepage&&""!==GM.info.script.homepage&&p.$GM_homepage_link.show(),p.$GM_multilang_select=e('<select id=\'GM_multilang_select\' class="form-control input-sm"><option value="ko">한국어</option><option value="en">English</option></select>'),p.$GM_multilang=e("<div class='GM_multilang' style='display:none'></div>").append(p.$GM_multilang_select),v&&(p.$GM_multilang.show(),p.$GM_multilang_select.val(f),p.$GM_multilang_select.on("change",(async t=>{var n=f;e("option:selected",this);f=this.value,m(`LANG VALUE CHANGED FROM ${n} TO ${f}`),await async function(e){null==e?(await GM.setValue("GM_SETTING_LANG",f),m("saveLang_",f)):(await GM.setValue("GM_SETTING_LANG",e),m("saveLang_",e))}(),null!=r?(e(r).empty(),x(r)):m("NO CREATED LAYOUT")}))),p.$GM_setting_head.append("<div class='GM_setting_logo'>Settings</div>").append(e("<div class='GM_setting_menu_right'></div>").append(p.$GM_homepage_link).append(p.$GM_multilang)),c){var o=c[n].category,s=c[n].depth,l=c[n].type,h=y(c[n].category_name),g=c[n].under_dev,b=c[n].debug,G=c[n].radio_enable_value;p.$lis[n]=e("<li></li>"),p.$ul.append(p.$lis[n]),p.$lis[n].attr({GM_setting_type:l,GM_setting_key:n,GM_setting_depth:s,GM_setting_category:void 0===o?"default":o,GM_setting_radio_enable_value:void 0===G?"none":G}),p.$lis[n].addClass(`GM_setting_depth${s}`),void 0!==G&&p.$lis[n].attr("GM_setting_radio_enable_value",c[n].radio_enable_value),g&&p.$lis[n].addClass("GM_setting_under_dev"),b&&p.$lis[n].addClass("GM_setting_debug"),void 0!==h&&p.$lis[n].addClass("GM_setting_category"),g&&!d.under_dev&&p.$lis[n].css({display:"none",opacity:"0"}),b&&!_&&p.$lis[n].css({display:"none",opacity:"0"}),C(n)}A(),B(),a.find("input[type='checkbox']").on("click",(function(){B()})),a.find("input[type='radio']").on("click",(function(){B()})),p.$container.on("click",".table_modify",(function(t){m("clicked table_modify btn");var n=e(t.target),i=n.closest("tbody"),a=n.closest("tr");i.find(".table_modify").hide(),i.find(".table_delete").hide(),i.find(".table_new").hide(),i.find(".table_save").hide(),i.find(".table_cancel").hide(),a.find(".table_save").show(),a.find(".table_cancel").show();for(var r=a.find("td"),o=0;o<r.length-2;o++)if(0!=o){var s=e(r[o]),l=s.text();s.html(`<input type="text" value="${l}" orivalue="${l}"></input>`)}})),p.$container.on("click",".table_save",(async function(t){m("clicked table_save btn");var n=e(t.target),i=n.closest("tr"),r=i.find("input"),o=Number(i.find("td").first().text())-1,s=n.attr("GM_setting_key");console.log(r);for(var l=0;l<r.length;l++)d[s][o][l]=e(r[l]).val();await w(),S(k("auto_saved")+(new Date).toLocaleTimeString(),a);var c=n.closest("tbody"),p=d[s];M(c,s,p)})),p.$container.on("click",".table_cancel",(function(t){m("clicked table_cancel btn");var n=e(t.target),i=n.attr("GM_setting_key"),a=n.closest("tbody"),r=d[i];M(a,i,r)})),p.$container.on("click",".table_delete",(async function(t){m("clicked table_delete btn");var n=e(t.target);if(confirm("Delete?")){var i=n.closest("tr"),r=Number(i.find("td").first().text())-1;i.remove();var o=n.attr("GM_setting_key");d[o].splice(r,1),await w();var s=n.closest("tbody"),l=d[o];M(s,o,l),S(k("auto_saved")+(new Date).toLocaleTimeString(),a)}})),p.$container.on("click",".table_new",(function(t){m("clicked table_new btn");var n=e(t.target),i=n.closest("tbody");i.find(".table_modify").hide(),i.find(".table_delete").hide(),i.find(".table_new").hide(),i.find(".table_new_save").show(),i.find(".table_new_cancel").show();for(var a=n.closest("tr").find("td"),r=0;r<a.length-2;r++){if(0!=r)e(a[r]).html('<input type="text" value=""></input>')}})),p.$container.on("click",".table_new_save",(async function(t){m("clicked table_new_save btn");for(var n=e(t.target),i=n.closest("tr").find("input"),r=[],o=0;o<i.length;o++)r.push(e(i[o]).val());var s=n.attr("GM_setting_key");d[s].push(r),await w(),S(k("auto_saved")+(new Date).toLocaleTimeString(),a);var l=n.closest("tbody"),c=d[s];M(l,s,c)})),p.$container.on("click",".table_new_cancel",(function(t){m("clicked table_new_cancel btn");var n=e(t.target).attr("GM_setting_key"),i=e(t.target).closest("tbody"),a=d[n];M(i,n,a)})),p.$container.find("select").on("change",(function(){m("GM_setting - select change"),R(e(this),a,u)})),p.$container.find("input, textarea").on("input",(function(){m("GM_setting - text change"),R(e(this),a,u)})),p.$ul.append(`<li class="GM_setting_category GM_setting_depth1">\n            <div class="GM_setting_category_name">${k("title_reset")}</div>\n            <div class="GM_setting_list_head">\n                <span class="GM_setting_title">\n                    <span class="GM_setting_reset btn btn-primary" style="margin-left:0;">${k("button_reset_settings")}</span>\n                    \x3c!--<span class="GM_setting_reset_all btn btn-primary">button_reset_settings_all</span>--\x3e\n                </span>\n                <span class="GM_setting_desc"></span>\n            </div>\n            <div class="GM_setting_input_container form-group">\n            </div>\n        </li>`),p.$ul.find(".GM_setting_reset").on("click",(async function(){confirm(k("confirm_reset_settings"))&&(await i.reset(),i.createlayout(a),S(k("complete_reset_settings")+(new Date).toLocaleTimeString(),a))})),p.$ul.find(".GM_setting_reset_all").on("click",(async function(){if(confirm(k("confirm_reset_settings_all"))){for(var e=await GM.listValues(),t=0;t<e.length;t++){var n=e[t];await GM.deleteValue(n)}await i.reset(),i.createlayout(a),S(k("complete_reset_settings_all")+(new Date).toLocaleTimeString(),a)}})),p.$ul.append(`<li class="GM_setting_category GM_setting_depth1">\n        <div class="GM_setting_category_name">${k("donate")}</div>\n        <div class="GM_setting_list_head">\n            <span class="GM_setting_title">\n                ${k("buymeacoffee")}\n            </span>\n            <span class="GM_setting_desc">\n                ${k("buymeacoffeeDesc")}\n            </span>\n        </div>\n        <div class="GM_setting_input_container form-group">\n        <a href="https://www.buymeacoffee.com/nomomo" target="_blank"><img src="https://cdn.buymeacoffee.com/buttons/default-yellow.png" alt="Buy Me A Coffee" height="41" width="174"></a>\n        </div>\n        </li>\n    `),p.$ul.after(`\n        <div id="GM_setting_footer">\n            <a href="${GM.info.script.homepage}" target="_blank">${GM.info.script.name}</a> v${GM.info.script.version}\n            <div class="footer_divider"></div> <span class="GM_Setting_Debug_Toggle">GM Setting v22.7.31</span>\n            <div class="footer_divider"></div> ©2017-${(new Date).getFullYear()} <a href="https://nomo.asia/" target="_blank">NOMO</a></div>\n        `);var T=0,N=void 0;p.$container.on("click","span.GM_Setting_Debug_Toggle",(async function(){if(clearTimeout(N),(T+=1)>4)return T=0,_=!_,await GM.setValue("DEBUG",_),S(`DEBUG MODE : "${_?"ON":"OFF"}"`,a),void(_?p.$ul.find(".GM_setting_debug").css("opacity",0).slideDown("fast").animate({opacity:1},{queue:!1,duration:"fast"}):p.$ul.find(".GM_setting_debug").css("opacity",1).slideUp("fast").animate({opacity:0},{queue:!1,duration:"fast"}));N=setTimeout((function(){T=0}),1e3)}))},N=void 0,S=function(t,n){if(void 0!==n){var i="GM_setting_autosaved";n.find("."+i).animate({bottom:"+=40px"},{duration:300,queue:!1}),e("<div style='animation: glow .5s 10 alternate; position:fixed; left:10px; bottom:20px; z-index:10000000;' class='"+i+" btn btn-success'>"+t+"</div>").appendTo(n).fadeIn("fast").animate({opacity:1},6e3,(function(){e(this).fadeOut("fast").delay(600).remove()})).animate({left:"+=30px"},{duration:300,queue:!1})}},L=async function(t){if(!(c[t].autosavepass&&void 0!==d[t]||"table"===d[t].type)){var n=O(t);"tag"===c[t].type&&(1===(n=n.split(",")).length&&""===n[0]&&(n=[]),e.each(n,(function(e,t){n[e]=t.replace(/^\s*|\s*$/g,"")}))),d[t]!==n&&-1===s.indexOf(t)&&s.push(t),d[t]=n}},E=async function(e){if(m("read_"),void 0===e)for(var t in u)await L(t);else await L(e)},$=function(e){I(e,u[e],d[e])},A=function(e){if(m("write_"),void 0===e)for(let e in u)$(e);else $(e)},O=function(t){var n,i=u[t];switch(c[t].type){case"checkbox":n=i.prop("checked");break;case"set":case"text":case"tag":case"textarea":n=i.val();break;case"object":n=JSON.parse(i.val());break;case"radio":n=i.find("input:checked").val();break;case"combobox":n=i.find("option:selected").val();break;case"table":n=[];for(var a=i.find("tbody").find("tr"),r=0;r<a.length-1;r++){n.push([]);for(var o=e(a[r]).find("td"),s=0;s<o.length-2;s++)if(0!==s){var l=e(o[s]).text();n[r][s-1]=l}}break;default:n=void 0}return n},I=function(t,n,i){switch(c[t].type){case"checkbox":n.prop("checked",i).trigger("change");break;case"set":case"text":n.val(i);break;case"tag":case"textarea":n.val(i),n.height("auto"),n.height(String(Number(n.prop("scrollHeight"))+0)+"px");break;case"object":n.val(JSON.stringify(i)),n.height("auto"),n.height(String(Number(n.prop("scrollHeight"))+0)+"px");break;case"radio":n.find("input[value="+i+"]").prop("checked",!0);break;case"combobox":n.find("option[value="+i+"]").prop("selected",!0);break;case"table":var a=n.find("tbody");a.empty();for(var r=0;r<i.length;r++){for(var o=e("<tr></tr>"),s=0;s<i[r].length;s++)0==s&&o.append(`<td>${r+1}</td>`),o.append(`<td>${i[r][s]}</td>`);o.append(`<td class="table_btn_container"><span title="Modify" alt="Modify" class="glyphicon glyphicon-pencil cp table_modify" GM_setting_key="${t}"></span><span title="Save" alt="Save" style="display:none;" class="glyphicon glyphicon-floppy-disk cp table_save" GM_setting_key="${t}"></span></td>`),o.append(`<td class="table_btn_container"><span title="Delete" alt="Delete" class="glyphicon glyphicon-trash cp table_delete" GM_setting_key="${t}"></span><span title="Cancel" alt="Cancel" style="display:none;" class="glyphicon glyphicon-remove cp table_cancel" GM_setting_key="${t}"></span></td>`),a.append(o)}for(var l=e("<tr></tr>"),d=0;d<c[t].head.length;d++)0==d&&l.append("<td></td>"),l.append("<td></td>");l.append(`<td class="table_btn_container"><span title="New" alt="New" class="glyphicon glyphicon-plus cp table_new" GM_setting_key="${t}"></span><span title="Save" alt="Save" style="display:none;" class="glyphicon glyphicon-floppy-disk cp table_new_save" GM_setting_key="${t}"></span></td>`),l.append(`<td class="table_btn_container"><span title="Cancel" alt="Cancel" style="display:none;" class="glyphicon glyphicon-remove cp table_new_cancel" GM_setting_key="${t}"></span></td>`),a.append(l)}},B=async function(){var t=p.$lis;for(let n in t){let i=e(t[n]);i.removeClass("GM_setting_item_disable"),i.find("input, textarea, select").prop("disabled",!1),i.find("input[type='checkbox']").trigger("change")}var n,i=[!0,!0],a=void 0,r=1e3;for(let p in t){let h=e(t[p]);var o=c[p].depth,s=c[p].radio_enable_value;c[p].type;if(void 0===a);else{var l=a.attr("GM_setting_depth");if(r>=o&&(n=void 0,r=1e3),l==o&&l>0)void 0!==n&&(i[l-1]=n==s);else if(l<o){n=void 0;var d=a.find("input[type='checkbox']"),u=a.find("input[type='radio']"),_=a.find("select");0!==d.length&&d.is(":checked")?i[l]=!0:0!==u.length?(n=a.find("input[type='radio']:checked").val(),r=l,a.find("input[type='radio']:checked").val()==s?i[l]=!0:i[l]=!1):0!==_.length?i[l]=!0:i[l]=!1}}a=h;for(var m=0;m<o;m++)if(c[p].disable||!i[m]){h.addClass("GM_setting_item_disable"),h.find("input, textarea, select").prop("disabled",!0),h.find("input[type='checkbox']").trigger("change");break}}},D=function(t,n){var i,a,r,o=!0,s="";if("number"===c[t].valid)o=e.isNumeric(n),""===n?s+=k("err_val_req"):o?void 0!==c[t].min_value&&c[t].min_value>n?(o=!1,s+=k("err_num_over")+c[t].min_value):void 0!==c[t].max_value&&c[t].max_value<n&&(o=!1,s+=k("err_num_not_more_than")+c[t].max_value):s+=k("err_num_req");else if(""!==n&&"array_string"===c[t].valid){i=e.map(n.split(","),e.trim);var l=n.match(/^[A-Za-z0-9 _,]*$/);if(null===l||0===l.length)o=!1,s+=k("err_valid_array_string");else if(-1!==e.inArray("",i))o=!1,s+=k("err_value_empty"),m(i,e.inArray("",i));else if(new Set(i).size!==i.length){o=!1,a=[],r=i.sort();for(var d=0;d<i.length-1;d++)r[d+1]==r[d]&&-1===e.inArray(r[d],a)&&a.push(r[d]);s+=k("err_value_dup")+a.join(",")}else for(var p=0;p<i.length;p++)if(-1!==i[p].indexOf(" ")){o=!1,s+=k("err_value_blank")+i[p];break}}else if(""!==n&&"array_word"===c[t].valid)if(i=e.map(n.split(","),e.trim),-1!==e.inArray("",i))o=!1,s+=k("err_value_empty"),m(i,e.inArray("",i));else if(new Set(i).size!==i.length){o=!1,a=[],r=i.sort();for(var u=0;u<i.length-1;u++)r[u+1]==r[u]&&-1===e.inArray(r[u],a)&&a.push(r[u]);s+=k("err_value_dup")+a.join(",")}return{valid:o,message:s}},R=async function(t,n,i){var a=t.attr("GM_setting_key"),r=O(a),o=D(a,r);t.closest("div").find(".invalid_text").remove(),o.valid?t.closest("div").removeClass("invalid"):(m("validation",o),t.closest("div").addClass("invalid"),t.after("<div class='invalid_text'>"+o.message+"</div>")),clearTimeout(N),N=setTimeout((async function(){var t=!0;e.each(i,(function(e,n){if(!D(e,O(e)).valid)return t=!1,!1})),t&&(await E(),w(),S(k("auto_saved")+(new Date).toLocaleTimeString(),n))}),1e3)},P=function(e,t){var n=Object.keys(e).sort(),i=Object.keys(t).sort();return JSON.stringify(n)===JSON.stringify(i)};return{init:async function(t,i){o=t,await async function(e){for(var t in m("init_",c),e&&(e.DEBUG&&m("GM_setting - DEBUG",_=!0),e.CONSOLE_MSG&&(m=e.CONSOLE_MSG),e.SETTINGS&&(c=e.SETTINGS),e.MULTILANG&&(v=!0,e.LANG_DEFAULT&&(g=e.LANG_DEFAULT))),c)l[t]=c[t].value;if(l.Lang="",await G(),!P(l,d)){for(t in l)void 0===d[t]&&(d[t]=l[t]);for(t in d)void 0===l[t]&&delete d[t];await w()}}(i),await async function(){"function"==typeof GM.addValueChangeListener&&(m("설정에 대한 addValueChangeListener 바인드"),GM.addValueChangeListener(o,(async function(t,n,i,o){o&&(m("다른 창에서 설정 변경됨. val_name, old_value, new_value:",t,n,i),await G(),e.each(n,(function(e,t){void 0!==c[e]&&void 0!==c[e].change&&n[e]!==i[e]&&c[e].change(d[e])})),s=[],void 0!==r&&(x(r),S(k("setting_changed_from_other_window")+(new Date).toLocaleTimeString(),a)))}))),e(n).on("input","input[gm_setting_key='under_dev']",(function(){m("실험실 기능 온오프 이벤트"),e(this).is(":checked")?e(".GM_setting_under_dev").css("opacity",0).slideDown("fast").animate({opacity:1},{queue:!1,duration:"fast"}):e(".GM_setting_under_dev").css("opacity",1).slideUp("fast").animate({opacity:0},{queue:!1,duration:"fast"})}))}(),GM.addStyle('\n#GM_setting .btn {font-size:12px;}\n.GM_setting_autosaved.btn {\n    max-width:100%;\n    font-size:12px;\n    white-space:pre-wrap;\n    user-select:text;\n}\n#GM_setting .btn-xxs {\n    cursor: pointer;\n    padding: 4px 4px;\n}\n#GM_setting label.btn-xxs {\n    box-sizing: content-box;\n    width:11px;\n    height:11px;\n}\n#GM_setting a{\n    color: #428bca;\n    text-decoration: none;\n}\n#GM_setting a:hover, #GM_setting a:focus {\n    color: #2a6496;\n    text-decoration: underline;\n}\n#GM_setting {clear:both;margin-left:auto; margin-right:auto; padding:0;max-width:1400px; min-width:750px; box-sizing:content-box;}\n#GM_setting, #GM_setting table {font-size:13px;}\n\n#GM_setting .GM_setting_logo{font-family:auto;height:25px;display:inline-block;white-space:nowrap}\n#GM_setting .GM_setting_menu_right{display:flex;height:25px;float:right;}\n#GM_setting .GM_homepage_link{font-size:12px;font-weight:normal;align-self:flex-end;}\n#GM_setting .GM_multilang{margin-left:15px;}\n\n#GM_setting_head{margin-left:auto; margin-right:auto; padding:20px 0px 10px 10px;font-size:18px;font-weight:800;max-width:1400px; min-width:750px; box-sizing:content-box;}\n#GM_setting ul {padding:0;}\n#GM_setting li {display:flex;list-style:none;margin:0px;padding:10px;border-top:1px solid #eee;}\n\n#GM_setting .GM_setting_depth1.GM_setting_category:first-child {margin-top:0px}\n#GM_setting .GM_setting_depth1.GM_setting_category {border-top: 2px solid #999;margin-top:30px;padding-top:10px;}\n#GM_setting li[GM_setting_key=\'version_check\'] {margin-top:0px !important}\n\n#GM_setting .GM_setting_category_name{display:block;box-sizing:border-box;padding:0 0 0 0px;font-weight:700;vertical-align:top;flex:0 0 100px;}\n#GM_setting .GM_setting_category_blank{display:block;box-sizing:border-box;padding:0 0 0 0px;vertical-align:top;flex:0 0 100px;}\n\n#GM_setting .GM_setting_list_head{display:block;box-sizing:border-box;vertical-align:top;flex:1 0 370px;}\n#GM_setting .GM_setting_depth1 .GM_setting_list_head {padding-left:0px;}\n#GM_setting .GM_setting_depth2 .GM_setting_list_head {padding-left:30px;}\n#GM_setting .GM_setting_depth3 .GM_setting_list_head {padding-left:60px;}\n#GM_setting .GM_setting_depth4 .GM_setting_list_head {padding-left:90px;}\n#GM_setting .GM_setting_depth5 .GM_setting_list_head {padding-left:120px;}\n\n#GM_setting .GM_setting_title{display:block;font-weight:700;}\n#GM_setting .GM_setting_desc{display:block;font-size:11px;}\n\n#GM_setting .GM_setting_input_container {display:block;box-sizing:border-box;padding:0 0 0 30px;vertical-align:top;flex:1 1 100%;}\n#GM_setting .GM_setting_input_container span{vertical-align:top;}\n#GM_setting .GM_setting_input_container span.btn{margin:0 0 0 10px;}\n#GM_setting input{display:inline}\n#GM_setting input[type="text"]{ width: 100px; height: 30px; padding: 5px 5px; font-size:12px; }\n#GM_setting textarea{ width: 250px; height: 30px; padding: 5px 5px; font-size:12px; }\n#GM_setting input[type="checkbox"] { display:none; width: 20px;height:20px; padding: 0; margin:0; }\n#GM_setting input[type="radio"] {width: 20px;height:20px; padding: 0; margin:0; }\n\n#GM_setting .radio-inline{ padding-left:0; padding-right:10px; }\n#GM_setting .radio-inline input{ margin:0 5px 0 0; }\n\n#GM_setting table {margin:0; width:100%;}\n#GM_setting th, #GM_setting td {height: 24px;}\n#GM_setting table th, #GM_setting table td{padding:2px 5px;}\n#GM_setting table th {border: 1px solid; border-color: inherit;}\n#GM_setting .table_btn_container {white-space: nowrap; vertical-align:middle; width:24px; font-size:14px; padding:0; text-align:center;}\n#GM_setting .table_btn_container span {padding:0}\n#GM_setting table input[type="text"] {padding:1px 2px; height:auto; width:100%; margin-left:auto; margin-right:auto;}\n\n#GM_setting .GM_setting_item_disable, #GM_setting .GM_setting_item_disable .GM_setting_title, #GM_setting .GM_setting_item_disable .GM_setting_desc{color:#ccc !important}\n#GM_setting .invalid input, #GM_setting .invalid textarea{border-color:#dc3545;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;color:#dc3545;}\n#GM_setting .invalid input:focus, #GM_setting .invalid textarea:focus{border-color:#dc3545;box-shadow:0 0 0 0.2rem rgba(220,53,69,.25);outline:0;color:#dc3545;}\n#GM_setting .invalid {color:#dc3545}\n#GM_setting .invalid_text {font-size:12px;padding:5px 0 0 5px;}\n\n#GM_setting .GM_setting_under_dev .GM_setting_title{color:#6441a5;font-style:italic}\n#GM_setting .GM_setting_debug .GM_setting_title{color:#6441a5;font-style:italic}\n\n#GM_setting .btn-xxs {cursor:pointer;padding:4px 4px;} /*padding: 1px 2px;font-size: 9px;line-height: 1.0;border-radius: 3px;margin:0 2px 2px 0;*/\n#GM_setting .btn-xxs .glyphicon{}\n#GM_setting .btn-xxs span.glyphicon {font-size:11px; opacity: 0.1;}\n#GM_setting .btn-xxs.active span.glyphicon {opacity: 0.9;}\n#GM_setting .btn-xxs.disable {opacity: 0.3;cursor:not-allowed;}\n\n#GM_setting_footer { padding: 30px 0 30px 0; margin: 30px 0 0 0; border-top: 1px solid #ccc; text-align: center; font-size:13px; letter-spacing:0.2px; user-select:none;}\n#GM_setting_footer .footer_divider { margin: 0 5px; display: inline-block; width: 1px; height: 13px; background-color: #ebebeb; }\n\n#GM_setting .cp {cursor:pointer}\n\n#GM_setting .form-group {margin-bottom:0px;}\n#GM_setting .form-control {width:auto;}\n')},load:async function(){m("GM_setting - load"),await G()},save:async function(){m("GM_setting - save"),await w()},save_overwrite:async function(){var n=d,i=t[o];m("_settings",c),e.each(n,(function(e,t){void 0!==c[e]&&void 0!==c[e].change&&n[e]!==i[e]&&c[e].change(i[e])})),d=t[o],m("GM_setting - save_overwrite"),await w()},reset:async function(){await GM.setValue(o,l),await G()},createlayout:function(e){r=e,x(e)},getType:function(e){return void 0!==c[e]?c[e].type:void 0},message:function(e,t){S(e,t)}}}(jQuery,window,document);const a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};window.GLOBAL={};const r={use:{category:"general",category_name:"Twitch",depth:1,type:"checkbox",value:!0,title:"Twitch 클립 링크를 비디오로 변환",desc:""},method:{category:"type",category_name:"동작 방식",depth:2,type:"radio",value:"clickRequired",title:"클립 링크 변환 시점 선택",desc:" - 페이지 로딩 시: 섬네일을 비디오로 자동 변환<br /> - 섬네일 클릭 시: 섬네일을 클릭할 때 비디오로 변환",radio:{autoLoad:{title:"페이지 로딩 시",value:"autoLoad"},clickRequired:{title:"섬네일 클릭 시",value:"clickRequired"}}},autoLoadLimit:{category:"type",category_name:"페이지 로딩 시",depth:3,radio_enable_value:"autoLoad",type:"text",value:3,valid:"number",min_value:1,max_value:200,title:"최대 자동 변환할 클립 개수 제한",desc:"이 값을 크게 설정하고 스크롤을 빠르게 내릴 경우 한 번에 많은 비디오를 로딩하느라 브라우저가 멈출 수 있으니 주의하세요. 최대 개수를 초과한 클립부터는 섬네일을 클릭하여 비디오로 변환할 수 있습니다. (Default: 3, Range: 1~200)"},autoPlayFirstClip:{category:"type",depth:3,under_dev:!0,radio_enable_value:"autoLoad",type:"checkbox",value:!1,title:"페이지 로딩과 동시에 첫 번째 클립을 자동 재생",desc:""},autoPlayFirstClipMuted:{category:"type",depth:3,under_dev:!0,radio_enable_value:"autoLoad",type:"checkbox",value:!0,title:"첫 번째 클립 자동 재생 시 음소거로 시작",desc:""},clickRequiredAutoPlay:{category:"type",category_name:"섬네일 클릭 시",depth:3,radio_enable_value:"clickRequired",type:"checkbox",value:!0,title:"클립 로드 시 섬네일 클릭과 동시에 자동 재생",desc:""},set_volume_when_stream_starts:{category:"advanced",category_name:"Twitch 고급",depth:2,under_dev:!0,type:"checkbox",value:!1,title:{en:"Set the volume when stream starts",ko:"클립 로드 시 특정 사운드 볼륨(Volume)으로 설정"},desc:"TIP: Chrome 계열 브라우저는 자동 재생되는 클립을 종종 음소거합니다. 음소거 문제를 피하려면 본 옵션을 사용해보세요(안 될 수도 있음)."},target_start_volume:{category:"advanced",depth:3,under_dev:!0,type:"text",value:1,valid:"number",min_value:0,max_value:1,title:{en:"Volume",ko:"Volume"},desc:{en:"(Max Volume: 1.0, Mute: 0.0, Range: 0.0 ~ 1.0)",ko:"(Max Volume: 1.0, 음소거: 0.0, 범위: 0.0 ~ 1.0)"}},removeOriginalLinks:{category:"advanced",under_dev:!0,depth:2,type:"checkbox",value:!0,title:"클립 원본 링크 삭제",desc:"클립 섬네일을 감지했을 때, 본문에 동일한 링크가 존재하는 경우 삭제하여 보기 좋게 만듭니다."},autoPlayNextClip:{category:"advanced",under_dev:!0,depth:2,type:"checkbox",value:!1,title:"다음 클립을 자동으로 이어서 재생",desc:"본문에 여러 Twitch Clip 이 존재하는 경우, 클립이 종료되면 다음 클립을 자동으로 재생합니다. (편하다!)"},play_and_pause_by_click:{category:"advanced",debug:!0,depth:2,type:"checkbox",value:!0,title:"Twitch Clip 페이지 스타일로 표시",desc:"클립 화면을 클릭하여 재생 및 일시정지 되도록 만듭니다. (편하다!)<br />일시정지 시 상단 오버레이와 재생 버튼을 숨깁니다. 재생 중 화면을 더블 클릭하여 전체화면을 할 수 있습니다."},twitch_clip_hide_related_video_after_end:{category:"advanced",under_dev:!0,depth:2,type:"checkbox",value:!0,title:"클립 재생이 끝난 후 계속 시청 및 연관된 클립 오버레이을 숨김",desc:""},twitch_clip_always_show_volume_controller:{category:"advanced",under_dev:!0,depth:2,type:"checkbox",value:!1,title:"볼륨 컨트롤러를 항상 표시",desc:""},twitch_clip_time_update_after_end:{category:"advanced",debug:!0,depth:2,type:"checkbox",value:!0,title:"클립 재생이 끝난 후 동영상 탐색 동작 개선",desc:"클립 재생이 끝나고 동영상을 탐색한 경우, 클립 재시작 시 마지막 탐색한 시간부터 시작하도록 동작을 개선합니다."},useYoutube:{category:"youtube",category_name:"Youtube",depth:1,type:"checkbox",value:!0,title:"Youtube 관련 기능 사용",desc:""},youtubeLazyLoad:{category:"youtube",depth:2,type:"checkbox",value:!0,under_dev:!0,title:"Youtube 영상에 대하여 게으른 로딩 방식 적용",desc:"Youtube 영상이 많은 게시물에서 순간적으로 브라우저가 멈추는 것을 일부 개선합니다."},youtubeClipConvert:{category:"youtube",depth:2,type:"checkbox",value:!0,title:"Youtube 클립 링크 섬네일 클릭 시 비디오로 변환",desc:""},youtubeClipStoryBoardImage:{category:"youtube",depth:3,type:"checkbox",value:!0,under_dev:!0,title:"Youtube 클립 섬네일을 스토리보드 이미지로 대체",desc:""},youtubeForceWidthHeight:{category:"youtube",depth:2,type:"checkbox",value:!0,title:"Youtube 비디오 크기를 본문에 맞춤 & 비율을 16:9로 고정",desc:"Youtube 비디오가 세로로 너무 길어지는 것을 방지합니다. 예) Shorts"},youtubeSetQuality:{category:"youtube",depth:2,type:"combobox",value:"hd1080",title:"Youtube 비디오 품질 자동 설정",desc:"선택한 비디오 품질을 자동으로 선택합니다. 선택한 품질이 존재하지 않을 경우, 그 다음으로 가장 좋은 품질이 설정됩니다.",options:{default:{title:"사용 안 함"},highres:{title:"highres (8K)"},hd2880:{title:"hd2880 (5K)"},hd2160:{title:"hd2160 (4K)"},hd1440:{title:"hd1440 (1440p)"},hd1080:{title:"hd1080 (1080p)"},hd720:{title:"hd720 (720p)"},large:{title:"large (480p)"},medium:{title:"medium (360p)"},small:{title:"small (240p)"},tiny:{title:"tiny (144p)"}}},youtubeHidePauseOverlay:{category:"youtube",depth:2,type:"checkbox",value:!0,title:"일시정지 시 동영상 더보기를 숨김",desc:""},useStreamable:{category:"Streamable",category_name:"Streamable",depth:1,type:"checkbox",value:!0,title:"Streamable 섬네일을 비디오로 변환 ",desc:""},naverVideoAutoMaxQuality:{category:"naver",category_name:"Naver Video",depth:1,type:"checkbox",value:!0,title:"네이버 비디오를 항상 최대 품질로 시작",desc:""},naverVideoForceWidthHeight:{category:"naver",depth:1,type:"checkbox",value:!0,title:"네이버 비디오 크기를 본문에 맞춤 & 비율을 16:9로 고정",desc:""},showNaverVideoRefreshBtn:{category:"naver",depth:1,debug:!0,type:"checkbox",value:!0,title:"네이버 비디오 Reload 버튼을 표시",desc:""},showNaverVideoRefreshBtnOnPlayer:{category:"naver",depth:2,debug:!0,type:"checkbox",value:!1,title:"네이버 비디오 플레이어에 항상 Reload 버튼을 표시",desc:""},NaverVideoEnhancedClickDebug:{category:"naver",depth:1,debug:!0,type:"checkbox",value:!1,title:"네이버 비디오 화면 클릭 동작 개선",desc:""},videoWidth:{category:"videoCommon",category_name:"공통",depth:1,under_dev:!0,type:"text",value:100,valid:"number",min_value:1,max_value:100,title:"비디오 가로 사이즈(%)",desc:"본문 사이즈 대비 비디오 가로 사이즈를 결정합니다.<br />(Default: 100, Range: 1~100)"},autoPauseOtherClips:{category:"videoCommon",under_dev:!0,depth:1,type:"checkbox",value:!0,title:"비디오 재생 시 다른 재생 중인 비디오 일시정지",desc:"Youtube, Twitch Clip, Naver Video 를 재생 시, 다른 재생 중인 모든 비디오를 일시정지 합니다. 다음 동영상을 재생하기 위하여 이전 동영상을 정지할 필요가 없습니다. (엄청 편하다!)"},fixFullScreenScrollChange:{category:"etc",category_name:"편의 기능",depth:1,type:"checkbox",value:!0,title:"네이버 카페 전체화면 스크롤 동작 개선",desc:"비디오를 전체화면 후 해제 시 스크롤 위치가 변경되는 문제를 개선합니다."},improvedRefresh:{category:"etc",depth:1,type:"checkbox",value:!1,title:"네이버 카페 새로고침 개선",desc:"새로고침 시 첫 화면 대신 마지막으로 탐색한 페이지를 불러옵니다."},naverBoardDefaultArticleCount:{category:"etc",depth:1,type:"combobox",value:"0",title:"게시판 글 기본 표시 개수 설정",desc:"",options:{0:{title:"기본값 사용"},5:{title:"5"},10:{title:"10"},15:{title:"15"},20:{title:"20"},30:{title:"30"},40:{title:"40"},50:{title:"50"}}},alwaysShowFavoriteBoard:{under_dev:!0,category:"etc",depth:1,type:"checkbox",value:!1,title:"즐겨찾는 게시판을 항상 펼침",desc:""},showDarkModeBtn:{category:"etc",under_dev:!0,depth:1,type:"checkbox",value:!1,title:"[실험실] 어두운 모드 버튼을 표시",desc:"카페 최상단 메뉴에 '어두운 모드' 버튼을 표시합니다."},visitedArticleStyle:{category:"etc",under_dev:!0,depth:1,type:"checkbox",value:!1,title:"[실험실] 글 목록에서 읽은 글의 제목을 흐릿하게 표시",desc:""},useTheaterMode:{category:"theaterMode",category_name:"영화관 모드",under_dev:!0,depth:1,type:"checkbox",value:!0,title:"영화관 모드 버튼을 표시",desc:"카페 최상단 메뉴에 '영화관 모드' 버튼을 표시합니다. 영화관 모드에서는 카페 글을 더 넓게 표시하고, 네이버, 유투브, 트위치 동영상을 더 크게 표시합니다."},theaterModeAlignCenter:{category:"theaterMode",under_dev:!0,depth:2,type:"checkbox",value:!0,title:"본문 가운데 정렬",desc:"본문이 화면의 정 가운데 위치하도록 레이아웃을 수정합니다."},useTheaterModeContentWidth:{category:"theaterMode",depth:2,under_dev:!0,type:"text",value:1100,valid:"number",min_value:400,max_value:1e4,title:"본문(컨텐츠) 가로 사이즈(px)",desc:"영화관 모드 시 카페 컨텐츠의 가로 사이즈를 결정합니다.<br />(Default: 1100, Range: 400~10000, 권장: 700~1400)"},under_dev:{category:"advanced",category_name:"고급",depth:1,type:"checkbox",value:!1,title:"숨겨진 고급 기능 설정",desc:"숨겨진 고급 기능과 실험실 기능을 직접 설정할 수 있습니다."}};GM_addStyle('\nbody #GM_setting {min-width:800px;}\nbody #GM_setting .GM_setting_depth1 .GM_setting_list_head{width:370px;}\nbody #GM_setting .GM_setting_depth2 .GM_setting_list_head{width:340px;}\nbody #GM_setting .GM_setting_depth3 .GM_setting_list_head{width:310px;}\n\n#GM_setting li[GM_setting_key="set_volume_when_stream_starts"]\n{\n    border-top: 1px solid #ccc !important;\n    margin-top: 10px !important;\n    padding-top: 10px !important;\n}\n\n#theaterModeBtn, #darkModeBtn {\n    display: inline-block;\n    float: left;\n    margin-top: 10px;\n    font-size: 12px;\n    cursor: pointer;\n}\n\nhtml body .se-viewer .se-module-oglink.twitchClipFound:before{\n    display:none;\n}\n'),window.GM_setting=i;var o={},s=0;function l(e,n,i,a,r,s,c,u,_){try{if(void 0===YT||!YT.loading)return t("[createYTIframe] There is no youtube iframe api yet, reload",e,_),_<10?void setTimeout((function(){l(e,n,i,a,r,s,c,u,_+1)}),100*(_+1)):void 0;var m="NCTCL-"+e,h={height:u,width:c,videoId:i,playerVars:{autoplay:n?1:0,autohide:1,showinfo:0,controls:1,loop:0,clip:e},suggestedQuality:"hd1080",events:{onReady:d,onStateChange:p}};void 0!==a&&(h.playerVars.start=a),void 0!==r&&(h.playerVars.end=r),void 0!==s&&(h.playerVars.clipt=s),t("CREATE YTPlayer",e,h),o[e]=new YT.Player(m,h)}catch(e){t("Error from createYTIframe",e)}}function c(e,n,i,a,r){try{if(void 0===YT||!YT.loading)return t("[createYTIframeArriveSub] There is no youtube iframe api yet, reload",r),r<10?void setTimeout((function(){c(e,n,i,a,r+1)}),100*(r+1)):void $(e).closest("div.se-module-oembed").addClass("fired");var s=$(e);if(0!==s.parent(".fired").length)return;if(s.closest("div.se-module-oembed").addClass("fired"),/^https:\/\/www\.youtube\.com\/embed/.test(n)){s.closest("div.se-module-oembed").addClass("oembed_NCTCL");var l=n.match(/\/embed\/([a-zA-Z0-9-_]+)/),u=n.match(/start=(\d+)/),_=n.match(/end=(\d+)/);if(t("Parse Youtube",l,u,_),null===l||l.length<2)return;if(l=l[1],void 0!==o[l])return;t(s,n);var m=`NCTCL-${l}`,h=$(`<div id="${m}" data-clip-id="${l}" class="NCTCL-YT-CONVERTED fired"></div>`);s.append(h);var f=$("div.article_container");0!==f.length&&E(f.width());var g={height:a,width:i,videoId:l,playerVars:{autoplay:0,autohide:1,showinfo:0,controls:1},suggestedQuality:"hd1080",events:{onReady:d,onStateChange:p}};null!==u&&u.length>1&&(g.playerVars.start=u[1]),null!==_&&_.length>1&&(g.playerVars.end=_[1]),o[l]=new YT.Player(m,g),t("YT IFRAME CONVERTED",l)}}catch(e){t("Error from arrive (for youtube)",e)}}function d(e){}function p(e){try{var n;void 0!==e.target.o&&void 0!==e.target.o.dataset?n=e.target.o.dataset:void 0!==e.target.i&&void 0!==e.target.i.dataset?n=e.target.i.dataset:void 0!==e.target.s&&void 0!==e.target.s.dataset?n=e.target.s.dataset:void 0!==e.target.g&&void 0!==e.target.g.dataset?n=e.target.g.dataset:void 0!==e.target.m&&void 0!==e.target.m.dataset&&(n=e.target.m.dataset);var i="";if(void 0===n)return void t("clipId is undefined",e);i=n.clipId;var a=e.data==YT.PlayerState.ENDED?"종료됨":e.data==YT.PlayerState.PLAYING?"재생 중":e.data==YT.PlayerState.PAUSED?"일시중지 됨":e.data==YT.PlayerState.BUFFERING?"버퍼링 중":e.data==YT.PlayerState.CUED?"재생준비 완료됨":-1==e.data?"시작되지 않음":"예외";t("YOUTUBE PLAYER STATE CHANGED",i,e,a),GM_SETTINGS.autoPauseOtherClips&&e.data==YT.PlayerState.PLAYING&&setTimeout((function(){G({origin:"https://clips.twitch.tv",data:{type:"NCTCL",event:"play",clipId:i}})}),1)}catch(e){t("Error from onYTPlayerStateChange",e)}}var u={};function _(e,n,i,a){if(i>100&&t("getYTClipPageInfoXHR - MAX ITERATION",e,i),void 0!==u[e]){if(u[e].loading)return t("NOW LOADING",u[e]),void setTimeout((function(){_(e,n,i+1,a)}),100);if(u[e].loaded)return t("ALREADY LOADED",u[e]),void(void 0!==a&&a())}u[e]={loading:!0,loaded:!1},GM.xmlHttpRequest({method:"GET",url:n,headers:{},onload:function(n){if(200===n.status){var i=n.responseText,r=i.match(/<link itemprop="embedUrl" href="([a-zA-Z0-9-_./:=&;?]+)">/),o=i.match(/"playerStoryboardSpecRenderer":{"spec":"([a-zA-Z0-9-_,./?=|!@#$%^&*():]+)"}/),s=i.match(/"lengthSeconds":"(\d+)"/),l=i.match(/"startTimeMs":"(\d+)"/),c=i.match(/"endTimeMs":"(\d+)"/);if(null!==r&&null!==o&&null!==s&&null!==l&&null!==c){u[e].loading=!1,u[e].loaded=!0,u[e].url=r[1],u[e].storyBoardSpec=o[1],u[e].seconds=s[1],u[e].storyBoard=function(e,t,n,i){let a,r,o=t.split("|"),s=o[0].split("$")[0]+"2/",l=o[0].split("$")[0]+"1/",c=o[0].split("$N")[1];3===o.length?(a=o[2].split("M#")[1],r=o[1].split("M#")[1]):2===o.length?a=o[1].split("t#")[1]:(a=o[3].split("M#")[1],r=o[2].split("M#")[1]);let d=0,p=25,u=[];!1===n&&(p=100);let _=-1;i<120?_=1:i>=120&&i<300?_=2:i>=300&&i<900?_=5:i>=900&&(_=10);d=Math.ceil(i/_/p);let m=0,h=0;if(!0===n)for(let e=0;e<d;e++)m=h,h=m+_*p,u.push({}),u[e].url=s+"M"+e+c+"&sigh="+encodeURIComponent(a),u[e].start=m,u[e].slice=_,e!=d-1?(u[e].end=h,u[e].no=p):(u[e].end=Number(i),u[e].no=Math.ceil((u[e].end-u[e].start)/_));else for(let e=0;e<d;e++)u.push(l+"M"+e+c+"&sigh="+r);if("url"===e)return u;if("parts"===e){return{firstPart:`${s}M`,secondPart:`${c}&sigh=${a}`}}if("keys"===e){return{sgp:c.slice(9),sigh:a}}}("url",u[e].storyBoardSpec,!0,u[e].seconds),u[e].startTime=Number(l[1])/1e3,u[e].endTime=Number(c[1])/1e3,u[e].foundStoryBoardUrl=void 0,u[e].foundStoryBoardSeq=void 0;for(var d=(u[e].endTime-u[e].startTime)/2+u[e].startTime,p=0;p<u[e].storyBoard.length;p++){var m=u[e].storyBoard[p];if(m.start<=d&&m.end>d){var h=Math.floor((d-m.start)/m.slice)+1;h<0?h=0:h>=m.no-1&&(h=m.no-1),t("found storyboard image",h,m.url),u[e].foundStoryBoardUrl=m.url,u[e].foundStoryBoardSeq=h}}t("YTClipInfo[clipId]",u[e])}else u[e].loading=!1,u[e].loaded=!1,t("getYTClipPageInfoXHR FAIL",_),t("rpt_match",r),t("rpt_match2",o);void 0!==a&&a()}else void 0!==a&&(u[e].loading=!1,u[e].loaded=!0,a())}})}var m=n(600),h=n.n(m),f=n(254),g=n.n(f);function v(){GM_addStyle(g().toString()),function(){if(!GM_SETTINGS.naverVideoAutoMaxQuality)return;$(document).arrive(".u_rmc_definition_ly",{existing:!0},(function(e){setTimeout((function(){try{b(e,!1)}catch(e){t("Error from naverVideoAutoMaxQuality arrive",e)}}),1)}))}(),function(){if(!GM_SETTINGS.showNaverVideoRefreshBtn)return;GLOBAL.isNaverCafeMain&&window.addEventListener("message",(function(e){"https://serviceapi.nmv.naver.com"===e.origin&&"NCTCL_NAVERVID_RELOAD"===e.data.type&&(t("message from serviceapi.nmv.naver.com",e.data),void 0!==e.data.id&&y(e.data.id))}));$(document).arrive(".u_rmcplayer_error_container",{existing:!0},(function(e){try{$(e).find(".u_rmc_error_txt").append(`<div class="naver_player_reload naver_player_reload_error_btn">[Naver Cafe Twitch Clip Loader ${GLOBAL.version}]<br />네이버 플레이어를 다시 로드하려면 여기를 클릭하세요.</div>`),t("naver player arrive")}catch(e){t("Error from video arrive",e)}})),(GLOBAL.isNaverVideoEmbed||GM_SETTINGS.showNaverVideoRefreshBtnOnPlayer)&&$(document).arrive(".u_rmc_controls_btn",{onlyOnce:!0,existing:!0},(function(e){try{$(e).prepend('<div class="naver_player_reload_btn naver_player_reload" title="[NCTCLC] 클릭 시 네이버 비디오 플레이어를 다시 로드합니다.">Reload</div>')}catch(e){t("Error from video arrive",e)}}));$(document).on("click",".naver_player_reload",(async function(e){try{if(GLOBAL.isNaverVideoEmbed){$(e.target).hide();const n=window.location.search,i=new URLSearchParams(n);t("SEND POST MESSAGE",i.get("elemid")),window.parent.postMessage({type:"NCTCL_NAVERVID_RELOAD",id:i.get("elemid")},"https://cafe.naver.com")}else{try{let t=$(e.target).closest(".se-module-video").find("video");0!==t.length&&t[0].pause()}catch(e){t("Error from naver video pause",e)}y($(e.target).closest(".se-module-video").attr("id"),e.target)}}catch(e){t("Error from naver_player_reload arrive",e)}}))}(),unsafeWindow.RELOAD_NAVER_PLAYER=y,function(){if(!GM_SETTINGS.NaverVideoEnhancedClickDebug)return;t("NAVER_VIDEO_ENHANCED_CLICK_EVENT"),Element.prototype._addEventListener=Element.prototype.addEventListener,Element.prototype.addEventListener=function(e,n,i){if("mousedown"===e.toLowerCase()&&(t(`[NVEC] MOUSEDOWN EVENT HIJACKING. id = ${this.id}, nodeName = ${this.nodeName}`),-1!==this.id.indexOf("rmcPlayer_")&&"div"===this.nodeName.toLowerCase())){t("[NVEC] FOUND MOUSEDOWN TARGET ELEMENT.",e,n,i,this);let a=n;n=function(e){e.NCTCL&&a(e)}}if("mouseup"===e.toLowerCase()&&(t(`[NVEC] MOUSEUP EVENT HIJACKING. id = ${this.id}, nodeName = ${this.nodeName}`),-1!==this.id.indexOf("rmcPlayer_")&&"div"===this.nodeName.toLowerCase())){t("[NVEC] FOUND MOUSEUP TARGET ELEMENT.",e,n,i,this);let a=n;n=function(e){var t=$(e.target),n=t.closest(".u_rmcplayer");if(!t.hasClass("u_rmcplayer_control")&&0===t.closest(".u_rmcplayer_control").length){var i={};for(var r in e)i[r]="type"==r?"mousedown":e[r];i.NCTCL=!0,a(i),a(e),k?(clearTimeout(w),k=!1,n.find("button.u_rmc_full_ic").click()):(k=!0,clearTimeout(w),w=setTimeout((function(){k=!1}),300))}}}null==i&&(i=!1),this._addEventListener(e,n,i)}}()}function b(e,n){t("TRY TO SET BEST QUALITY");var i=$(e).closest(".u_rmcplayer");if(0!==i.length)if(n&&i.removeClass("_QSET"),i.hasClass("_QSET"))t("ALREADY QSET");else{var a=$(e).find("li");if(a.length>2){var r=a.last();if(r.hasClass("u_rmc_on"))return void t("u_rmc_on - ALREADY QSET");t("BEST QUALITY SET",r.text()),r.find("button").trigger("click"),i.addClass("_QSET")}else t("no li elements for QSET")}else t("no $u_rmcplayer")}async function y(e,n){t("RELOAD_NAVER_PLAYER",e);var i=!1,a=$("#"+e),r=a.closest("div.se-video"),o=a.closest("div.se-module"),s=r.find("script.__se_module_data");t(r,s);var l=JSON.parse(s.attr("data-module"));t("dataModule",l);l.data.inkey;var c=l.data.vid,d=document.location.href,p=d.match(/^https:\/\/cafe.naver.com\/ca-fe\/cafes\/(\d+)\/articles\/(\d+)?.+menuid=(\d+)/);t(p);var u=await fetch(`https://apis.naver.com/cafe-web/cafe-articleapi/v2/cafes/${p[1]}/articles/${p[2]}?query=&menuId=${p[3]}&boardType=L&useCafeId=true&requestFrom=A`,{headers:{accept:"application/json, text/plain, */*","accept-language":"ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7","sec-ch-ua":'".Not/A)Brand";v="99", "Google Chrome";v="103", "Chromium";v="103"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","x-cafe-product":"pc"},referrer:d,referrerPolicy:"unsafe-url",body:null,method:"GET",mode:"cors",credentials:"include"});if(t("urlFetch",u),200!==u.status&&(t("FAIL TO FETCH",u),i=!0),!i){var _=await u.json();t("urlText",_);for(var m="",h="",f=_.result.article.contentHtml,g=$(f).find("script.__se_module_data"),v=!1,b=0;b<g.length;b++){var y=$(g[b]);if(c==(m=(l=JSON.parse(y.attr("data-module"))).data.vid)){h=l.data.inkey,v=!0;break}}if(v){t("NEW VID AND INKEY",m,h);var k=$(document).find(`div[data-navervid='${e}']`);if(0!==k.length)k.empty();else{var w=r.find("video").first(),G=w.width(),T=w.height();o.hide(),k=$(`<div data-navervid="${e}" style="width:${G}px;height:${T}px"></div>`),o.after(k)}var M=$(`<iframe name="mplayer" width="100%" height="100%" src="https://serviceapi.nmv.naver.com/view/ugcPlayer.nhn?vid=${m}&amp;inKey=${h}&amp;wmode=opaque&amp;hasLink=0&amp;autoPlay=true&amp;beginTime=0&amp;elemid=${e}" frameborder="0" scrolling="no" allowfullscreen=""></iframe>`);k.first().append(M)}else t("FAIL TO GET NEW VID AND INKEY FOR NAVER VIDEO"),i=!0}if(!i)return!0;if(void 0===n)return!1;var C=$(n);C.hasClass("naver_player_reload_error_btn")?C.html(`[Naver Cafe Twitch Clip Loader ${GLOBAL.version}]<br /> 플레이어 로드에 실패했습니다. 페이지를 직접 새로고침 하세요.`):C.hide()}var k=!1,w=void 0;function G(e){if((GM_SETTINGS.autoPauseOtherClips||GM_SETTINGS.autoPlayNextClip)&&!1!=(("https://clips.twitch.tv"===e.origin||"https://player.twitch.tv"===e.origin)&&"NCTCL"===e.data.type)&&void 0!==e.data.clipId&&""!==e.data.clipId){t("autoPauseVideo",e.data);var n=$(document).find("div.NCTCL-container iframe, iframe.NCTCL-YT-CONVERTED");t("$iframes",n);var i=!1;if(n.each((function(n,a){var r,s,l="https://"+a.src.split("/")[2];switch(e.data.event){default:return!1;case"play":if(t("YTPlayers",o[a.dataset.clipId]),!GM_SETTINGS.autoPauseOtherClips)return!1;if(a.dataset.clipId===e.data.clipId)return!0;if(GM_SETTINGS.useYoutube&&GM_SETTINGS.youtubeClipConvert&&void 0!==o[a.dataset.clipId])s=a.dataset.clipId,o[s].pauseVideo();else try{r={type:"NCTCL",event:"pause",clipId:e.data.clipId},a.contentWindow.postMessage(r,l)}catch(e){t("ERROR FROM autoPauseVideo play event",e)}break;case"ended":if(!GM_SETTINGS.autoPlayNextClip)return!1;if(i){if(GM_SETTINGS.useYoutube&&GM_SETTINGS.youtubeClipConvert&&void 0!==o[a.dataset.clipId]);else try{r={type:"NCTCL",event:"play",clipId:a.dataset.clipId},a.contentWindow.postMessage(r,l)}catch(e){t("ERROR FROM autoPauseVideo play event",e)}return!1}if(a.dataset.clipId===e.data.clipId)return i=!0,!0}})),!GM_SETTINGS.autoPauseOtherClips)return!0;if("play"==e.data.event)$(document).find("video").each((function(n,i){var a=$(i),r=a.attr("id");if(e.data.clipId!=r&&a.hasClass("_FIRSTPLAYED")&&!a[0].paused){var o=a.closest(".se-video");if(0!=o.length){var s=o.find(".u_rmc_play_area button");0!=s.length?(s.trigger("click"),t("NAVER VIDEO PAUSE")):t("no playbtn")}else t("no se-video")}}))}}var T,M,C,x,N=800,S=void 0,L=!1;function E(e){L&&N===e||(L=!0,void 0!==S&&$(S).remove(),N=e,T=Number(GM_SETTINGS.videoWidth)/100*N,M=Number(T)/16*9,C=String(T)+"px",x=String(M)+"px",S=GM_addStyle(`\n    .NCTCL-iframe{\n       width:${C};\n       height:${x};\n    }\n    .NCTCL-container .se-link{\n        width:${C}\n    }\n    `),t("reCalculateIframeWidth",e))}const A=10;function O(e,n,i,r){try{var o=n.closest("div.se-section-oglink"),s=n.closest("div.article_container");o.find(".se-oglink-info").hide(),0!==s.length&&E(s.width());var l=o.find(".se-oglink-title"),c="",d="",p=r;0!==l.length&&(_=l.text(),c=String(_).replace(/[&<>"'`=/]/g,(function(e){return a[e]})),1===e&&(c="[VOD] "+c.replace(" - Twitch","")),d=`<span class="NCTCL-titleText">${c}</span>`,p=`<span class="NCTCL-clipurlText">(<span class="UnderLine">${r}</span>)</span>`);var u="";switch(e){default:break;case 0:case 1:u='\n            <svg style="vertical-align: middle;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="14" height="14" viewBox="0 0 256 256" xml:space="preserve">\n                <g transform="translate(128 128) scale(0.72 0.72)" style="">\n                    <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(-175.05 -175.05000000000004) scale(3.89 3.89)" >\n                        <path d="M 2.015 15.448 v 63.134 h 21.493 V 90 h 12.09 l 11.418 -11.418 h 17.463 l 23.507 -23.507 V 0 H 8.06 L 2.015 15.448 z M 15.448 8.06 h 64.478 v 42.985 L 66.493 64.478 H 45 L 33.582 75.896 V 64.478 H 15.448 V 8.06 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(97,59,162); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />\n                        <rect x="58.43" y="23.51" rx="0" ry="0" width="8.06" height="23.48" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(97,59,162); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) "/>\n                        <rect x="36.94" y="23.51" rx="0" ry="0" width="8.06" height="23.48" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(97,59,162); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) "/>\n                    </g>\n                </g>\n            </svg>';break;case A:u='<svg style="vertical-align: middle;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="18" height="18" viewBox="0 0 461.001 461.001" style="enable-background:new 0 0 461.001 461.001;" xml:space="preserve">\n                <g>\n                    <path style="fill:#F61C0D;" d="M365.257,67.393H95.744C42.866,67.393,0,110.259,0,163.137v134.728c0,52.878,42.866,95.744,95.744,95.744h269.513c52.878,0,95.744-42.866,95.744-95.744V163.137C461.001,110.259,418.135,67.393,365.257,67.393z M300.506,237.056l-126.06,60.123c-3.359,1.602-7.239-0.847-7.239-4.568V168.607c0-3.774,3.982-6.22,7.348-4.514l126.06,63.881C304.363,229.873,304.298,235.248,300.506,237.056z"/>\n                </g>\n            </svg>';break;case 20:u='\n            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 64 64"><defs><style>.cls-1{fill:#0f90fa;}</style></defs>\n                <g>\n                    <path class="cls-1" d="M45.11,15.76c-2.84,0-5.8,1.72-7.58,3.4-2.89,2.38-12.44,17-12.44,17l0,.05a8.12,8.12,0,1,1,0-9.39l4.07-6.4A15.77,15.77,0,1,0,18.42,47.7a13.57,13.57,0,0,0,11.06-5.15s5.12-7.07,7.2-10.42c1.89-3,4-8.28,8.59-8.28a8.17,8.17,0,0,1,8.19,8.47,8.58,8.58,0,0,1-8.39,8.75A8.23,8.23,0,0,1,39,38.3l-4,6.32A16.19,16.19,0,0,0,61.35,32,16.27,16.27,0,0,0,45.11,15.76Z"/>\n                </g>\n            </svg>'}o.append(`\n            <div class="NCTCL-container" data-clip-id="${i}">\n                <div id="NCTCL-${i}" class="NCTCL-iframe-container" data-clip-id="${i}"></div>\n                <div class="NCTCL-description" data-clip-id="${i}" data-clip-url="${r}">\n                    <a href="${r}" class="se-link" target="_blank">\n                        ${u}\n                        ${d}\n                        ${p}\n                    </a>\n                </div>\n            </div>\n        `)}catch(e){t("Error from insertTwitchCilpDescription",e)}var _}var I=0;function B(e,n){try{var i=n.href,a=n.clipId,r=n.linkType,o=n.autoPlay,s=n.muted,c=n.lazy,d=n.option,p=e.closest("div.se-component-content"),m=e.closest("div.article_container");0!==m.length&&E(m.width());var h,f=document.location.href.split("/")[2];if(0!==$(`#NCTCL-${a}`).find(`iframe[data-clip-id='${a}']`).length)return;switch(r){case 0:h=`https://clips.twitch.tv/embed?clip=${a}&parent=${f}&autoplay=${o}&muted=${s}`,p.find(".se-oglink-thumbnail").hide(),$(`#NCTCL-${a}`).append(`<iframe ${c?"loading='lazy'":""} class="NCTCL-iframe" data-clip-id="${a}" src="${h}" frameborder="0" allowfullscreen="true" allow="autoplay" scrolling="no"></iframe>`),I+=1;break;case 1:h=`https://player.twitch.tv/?video=${a}&parent=${f}&autoplay=${o}&muted=${s}${d}`,p.find(".se-oglink-thumbnail").hide(),$(`#NCTCL-${a}`).append(`<iframe ${c?"loading='lazy'":""} class="NCTCL-iframe" data-clip-id="${a}" src="${h}" frameborder="0" allowfullscreen="true" allow="autoplay" scrolling="no"></iframe>`),I+=1;break;case A:t("YOUTUBE xmlHttpRequest"),_(a,i,0,(function(){if(void 0!==u[a]&&u[a].loaded){h=u[a].url,p.find(".se-oglink-thumbnail").hide();var e=h.match(/\/embed\/([a-zA-Z0-9-_]+)/);if(null===e)return;t("YTID = ",e=e[1],"clipId = ",a);var n=h.match(/clipt=([a-zA-Z0-9-_]+)/);n=null!==n?n[1]:void 0,l(a,o,e,void 0,void 0,n,T,M,0),p.find(".NCTCLloader").remove(),I+=1}else t("YTClipInfo[clipId] FAIL",u[a],p),p.append(`<a href="${i}" target="_blank"><div class="YTClipFailContainer"><div class="YTClipFailContent">[Naver Cafe Twitch Clip Loader ${GLOBAL.version}]<br />Youtube Clip 정보를 가져오는데 실패했습니다.<br />클릭하면 Youtube 페이지가 새 창으로 열립니다.</div></div></a>`),p.find(".NCTCLloader").remove()}));break;case 20:h=`https://streamable.com/e/${a}?parent=${f}&autoplay=${o?"1":"0"}&muted=${s?"1":"0"}&hd=1&loop=0&nocontrols=0`,p.find(".se-oglink-thumbnail").hide(),$(`#NCTCL-${a}`).append(`<iframe ${c?"loading='lazy'":""} class="NCTCL-iframe" data-clip-id="${a}" src="${h}" frameborder="0" allowfullscreen="true" allow="autoplay" scrolling="no"></iframe>`),I+=1}}catch(e){t("Error from convertVideoLinkToIframe",e)}}function D(e){if(GM_SETTINGS.use&&GM_SETTINGS.removeOriginalLinks)try{$("a.se-link").each((function(t,n){var i=$(n);if(i.attr("href")!==e||i.hasClass("fired"))return!0;var a=i.closest("p");a.text()===e?a.remove():i.remove()}))}catch(e){t("Error from removeOriginalLinks",e)}}var R=0;async function P(){$("head").append('\n        <link rel="dns-prefetch" href="https://gql.twitch.tv/">\n        <link rel="dns-prefetch" href="https://clips.twitch.tv/">\n        <link rel="dns-prefetch" href="https://static.twitchcdn.net/">\n        <link rel="dns-prefetch" href="https://production.assets.clips.twitchcdn.net/">\n        <link rel="preconnect" href="https://clips.twitch.tv/">\n        <link rel="preconnect" href="https://gql.twitch.tv/">\n        <link rel="preconnect" href="https://static.twitchcdn.net/">\n        <link rel="preconnect" href="https://production.assets.clips.twitchcdn.net/">\n    '),window.addEventListener("message",(function(e){G(e)})),GM_addStyle(h().toString()),E(N),function(){if(GM_SETTINGS.useYoutube)try{$("head").prepend('<script async type="text/javascript" src="https://www.youtube.com/iframe_api"><\/script>')}catch(r){t("FAIL TO LOAD YOUTUBE IFRAME API. TRY TO INSERT YT API MANUALLY",r);var e="https://www.youtube.com/s/player/4c3f79c5/www-widgetapi.vflset/www-widgetapi.js";try{var n=window.trustedTypes.createPolicy("youtube-widget-api",{createScriptURL:function(e){return e}});e=n.createScriptURL(e)}catch(e){}if(!window.YT)var i={loading:0,loaded:0};if(!window.YTConfig)var a={host:"https://www.youtube.com"};i.loading||(i.loading=1,function(){var t=[];i.ready=function(e){i.loaded?e():t.push(e)},window.onYTReady=function(){i.loaded=1;for(var e=0;e<t.length;e++)try{t[e]()}catch(e){}},i.setConfig=function(e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])};var n=document.createElement("script");n.type="text/javascript",n.id="www-widgetapi-script",n.src=e,n.async=!0;var r=document.currentScript;if(r){var o=r.nonce||r.getAttribute("nonce");o&&n.setAttribute("nonce",o)}var s=document.getElementsByTagName("script")[0];s?s.parentNode.insertBefore(n,s):document.getElementsByTagName("head")[0].appendChild(n)}())}}(),$(document).arrive("div.se-module-oglink",{onlyOnce:!0,existing:!0},(function(n){try{var i=$(n);if(i.hasClass("fired"))return;i.addClass("fired"),i.parent("div.se-section-oglink").addClass("fired"),e&&(0===R&&(R=Number(new Date)),t("PERFORMANCE CHECK",Number(new Date)-R)),setTimeout((function(){var n,a=i.find("a.se-oglink-thumbnail").first(),r=i.find("img.se-oglink-thumbnail-resource").first();if(0===a.length||0===r.length)return;var o=a.attr("href");t("a = ",a),t("img = ",r);const s={};GM_SETTINGS.use&&(s[0]=/^https?:\/\/(?:clips\.twitch\.tv\/|www\.twitch.tv\/[a-zA-Z0-9-_]+\/clip\/)([a-zA-Z0-9-_]+)/,s[1]=/(?:^https?:\/\/www\.twitch.tv\/videos\/(\d+)\??(t=[hms0-9]+)?|^https?:\/\/www\.twitch.tv\/.+\/v\/(\d+)\??[a-zA-Z0-9=-_]*(&t=[hms0-9]+)?)/),GM_SETTINGS.useYoutube&&GM_SETTINGS.youtubeClipConvert&&(s[10]=/^https?:\/\/(?:www\.)?youtube\.com\/clip\/([a-zA-Z0-9-_]+)/),GM_SETTINGS.useStreamable&&(s[20]=/^https?:\/\/streamable\.com\/(?:e\/)?([a-zA-Z0-9-_]+)/);var l={found:!1,type:null,res:null};for(var c in s){var d=o.match(s[c]);if(null!==d){l={found:!0,type:Number(c),res:d};break}}if(l.found){t("matchRes",l);var p,m,h="";switch(l.type){default:return void t("CANNOT FOUND TYPE",l.type);case 0:n=0,m=`https://clips.twitch.tv/${p=d[1]}`,D(o),O(n,i,p,m);break;case 1:n=1,p=d[1],void 0!==d[2]?(m=`https://www.twitch.tv/videos/${p}?${d[2].replace("?","").replace("&","")}`,h="&"+d[2].replace("?","").replace("&","")):m=`https://www.twitch.tv/videos/${p}`,O(n,i,p,m);break;case A:if(n=A,p=d[1],m=o,D(o),O(n,i,p,m),i.closest("div.se-component-content").addClass("youtubeClipFound"),GM_SETTINGS.youtubeClipStoryBoardImage){const e=1.5*Math.max(1080,window.screen.height),n={root:null,threshold:[0],rootMargin:`${e}px 10px ${e}px 10px`};t("typeof IntersectionObserver = ",typeof IntersectionObserver);new IntersectionObserver(((e,n)=>{e.forEach((e=>{a=i.find("a.se-oglink-thumbnail").first(),r=i.find("img.se-oglink-thumbnail-resource").first(),0!==a.length&&0!==r.length&&(_(p,o,0,(function(){if(t("getYTClipPageInfoXHR callback by IntersectionObserver"),void 0===u||void 0===u[p]||void 0===u[p].foundStoryBoardUrl||void 0===u[p].foundStoryBoardSeq){var e=i.closest("div.se-section-oglink");return t("YTClipInfo[clipId] FAIL",u[p],e),e.append(`<a href="${o}" target="_blank"><div class="YTClipFailContainer"><div class="YTClipFailContent">[Naver Cafe Twitch Clip Loader ${GLOBAL.version}]<br />Youtube Clip 정보를 가져오는데 실패했습니다.<br />클릭하면 Youtube 페이지가 새 창으로 열립니다.</div></div></a>`),void e.find(".NCTCLloader").remove()}i.find(".se-oglink-thumbnail-resource").first().fadeOut(50,(function(){i.find(".se-oglink-thumbnail-resource").first().attr("src",u[p].foundStoryBoardUrl).fadeIn(400)}))})),e.intersectionRatio>0&&n.unobserve(e.target))}))}),n).observe(i.closest("div.se-component-content")[0])}break;case 20:i.closest("div.se-component-content").addClass("streamableFound"),i.addClass("streamableFound"),n=20,m=`https://streamable.com/${p=d[1]}`,D(o),O(n,i,p,m)}var f="autoLoad"===GM_SETTINGS.method;if(n===A&&(f=!1),f){var g=!1,v=!1;GM_SETTINGS.set_volume_when_stream_starts&&0==GM_SETTINGS.target_start_volume&&(v=!0);var b=I;GM_SETTINGS.autoPlayFirstClip&&0==b?(g=!0,GM_SETTINGS.autoPlayFirstClipMuted&&(v=!0),B(i,{linkType:n,href:o,clipId:p,autoPlay:g,muted:v,option:h,lazy:!1})):b<GM_SETTINGS.autoLoadLimit?B(i,0==b?{linkType:n,href:o,clipId:p,autoPlay:g,muted:v,option:h,lazy:!1}:{linkType:n,href:o,clipId:p,autoPlay:g,muted:v,option:h,lazy:!0}):(a.hasClass("se-oglink-thumbnail")&&a.addClass("hoverPlayButton"),a.on("click",(function(e){if(e.preventDefault(),!a.hasClass("clicked")){a.addClass("clicked"),a.removeClass("hoverPlayButton"),n===A&&a.prepend('<div class="NCTCLloader"></div>'),GM_SETTINGS.autoPauseOtherClips&&G({origin:"https://clips.twitch.tv",data:{type:"NCTCL",event:"play",clipId:p}});var t=!1;GM_SETTINGS.set_volume_when_stream_starts&&0==GM_SETTINGS.target_start_volume&&(t=!0),B($(e.target),{linkType:n,href:o,clipId:p,autoPlay:GM_SETTINGS.clickRequiredAutoPlay,muted:t,option:h,lazy:!1})}})))}else a.hasClass("se-oglink-thumbnail")&&a.addClass("hoverPlayButton"),a.on("click",(function(e){if(e.preventDefault(),!a.hasClass("clicked")){a.addClass("clicked"),a.removeClass("hoverPlayButton"),n===A&&a.prepend('<div class="NCTCLloader"></div>'),GM_SETTINGS.autoPauseOtherClips&&G({origin:"https://clips.twitch.tv",data:{type:"NCTCL",event:"play",clipId:p}});var t=!1;GM_SETTINGS.set_volume_when_stream_starts&&0==GM_SETTINGS.target_start_volume&&(t=!0),B($(e.target),{linkType:n,href:o,clipId:p,autoPlay:GM_SETTINGS.clickRequiredAutoPlay,muted:t,option:h,lazy:!1})}}));i.addClass("twitchClipFound"),i.closest("div.se-section-oglink").addClass("twitchClipFound"),i.closest("div.se-component-content").addClass("twitchClipFound"),e&&t("PERFORMANCE CHECK",Number(new Date)-R)}}),1)}catch(e){t("Error from arrive",e)}})),GM_SETTINGS.autoPauseOtherClips&&$(document).on("click",".NCTCL-description a",(function(){G({origin:"https://clips.twitch.tv",data:{type:"NCTCL",event:"play",clipId:"STOP_ALL"}})})),GM_SETTINGS.useYoutube&&$(document).arrive("div.se-module-oembed iframe",{onlyOnce:!0,existing:!0},(function(e){try{var n=$(e);if(0!==n.closest(".YTiframeContainer").length)return;var i=$('<div class="YTiframeContainer" style="width:100%;height:100%"></div>'),a=n.attr("src");if(n.after(i),n.remove(),s+=1,GM_SETTINGS.youtubeLazyLoad&&1!=s){t("LAZYLOAD",a);const e=1.5*Math.max(1080,window.screen.height),n={root:null,threshold:[0],rootMargin:`${e}px 10px ${e}px 10px`};new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.intersectionRatio>0&&(c(i,a,T,M,0),t.unobserve(e.target))}))}),n).observe(i[0])}else c(i,a,T,M,0)}catch(e){t("Error from arrive createYTIframeArriveSub",e)}}));var n=parent.document.querySelector("html"),i=n.scrollTop,a=function(){return document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen};try{GM_SETTINGS.fixFullScreenScrollChange&&window.self!==window.top&&($(document).on("mozfullscreenchange webkitfullscreenchange fullscreenchange",(function(){var e=a();t("FullScreen",e),e||(n.scrollTop!==i&&t("parentHtml.scrollTop = ",n.scrollTop,"lastScrollY = ",i),n.scrollTop=i)})),$(parent.window).scroll((function(){a()||(i=n.scrollTop)})))}catch(e){t("Error from fixFullScreenScrollChange",e)}$(document).arrive("video",{onlyOnce:!0,existing:!0},(function(e){try{if($(e).hasClass("_FIRSTPLAYED"))return;$(e).on("play",(function(e){t("Naver video played",e);var n=$(e.target);GM_SETTINGS.autoPauseOtherClips&&G({origin:"https://clips.twitch.tv",data:{type:"NCTCL",event:"play",clipId:n.attr("id")}}),n.hasClass("_FIRSTPLAYED")||n.addClass("_FIRSTPLAYED")})),$(e).on("playing",(function(n){t("Naver video playing",n);var i=$(n.target);GM_SETTINGS.naverVideoAutoMaxQuality&&i.hasClass("_ENDED")&&(t("ENDED & RESTART - RUN SET_NAVER_VIDEO_MAX_QUALITY_SUB"),i.removeClass("_ENDED"),setTimeout((function(){b(i.closest("div.u_rmcplayer_container").find(".u_rmc_definition_ly").first(),!0),setTimeout((function(){e.paused&&e.play()}),200)}),1))})),$(e).on("pause",(function(e){t("Naver video paused",e)})),$(e).on("ended",(function(n){t("Naver video ended",n),$(e).addClass("_ENDED")}))}catch(e){t("Error from video arrive",e)}})),v(),GM_addStyle(".u_rmc_controls_btn div.naver_player_reload_btn {padding-top:3px;}");try{if(e){let e=localStorage.getItem("NOTICE_OPEN");null===e&&(e="ON"),t("NOTICE_OPEN",e),"OFF"===e&&GM_addStyle("._noticeArticle {display:none;}"),$(document).on("change","#notice_hidden",(function(e){t("e.target.checked",e.target.checked),e.target.checked||$("._noticeArticle").show()}))}}catch(e){t("Error from FasterNoticeHide",e)}GM_SETTINGS.visitedArticleStyle&&GM_addStyle("\n        .skin-1080 .article-board .board-list div.inner_list a:visited,\n        .skin-1080 .article-board .board-list div.inner_list div.inner_list a:visited *\n        div.inner_list a:visited,\n        div.inner_list a:visited *\n        {\n            color:#ddd !important;\n        }\n        html[data-theme='dark'] body .skin-1080 .article-board .board-list div.inner_list a:visited,\n        html[data-theme='dark'] body .skin-1080 .article-board .board-list div.inner_list a:visited *\n        html[data-theme='dark'] body div.inner_list a:visited,\n        html[data-theme='dark'] body div.inner_list a:visited *\n        {\n            color:#454545 !important;\n        }\n        ")}var V=!1,F=$(`<span title="[NCTCL] 클릭 시 영화관 모드를 ${V?"비활성화":"활성화"} 합니다. 영화관 모드에서는 카페 글을 더 넓게 표시하고, 네이버, 유투브, 트위치 동영상을 더 크게 표시합니다." id="theaterModeBtn">영화관 모드 ${V?"켜짐":"꺼짐"}<img src="https://cafe.pstatic.net/cafe4/ico-blank.gif" width="1" height="10" alt="" class="tcol-c"></span>`).on("click",(async()=>{t("isTheaterMode",V," -> ",!V),V=!V,await GM.setValue("theaterMode",V),"function"==typeof GM.addValueChangeListener?W():location.reload()}));async function Y(){t("THEATER_INIT"),V=await GM.getValue("theaterMode",!1),"function"==typeof GM.addValueChangeListener&&GM.addValueChangeListener("theaterMode",(async function(e,n,i,a){a&&(t("다른 창에서 설정 변경됨. val_name, old_value, new_value, location:",e,n,i,document.location.href),W())})),W(),$(document).ready((function(){GLOBAL.isNaverCafeTop&&function(){if(GM_SETTINGS.useTheaterMode){var e=$("#gnb-menu");0!==e.length&&e.prepend(F);var t=$("#front-cafe a img");if(0!==t.length){var n=t.attr("src");GM_addStyle(`\n            html.theaterMode #front-cafe::before{\n                content:'-';\n                width:100%;\n                height:100%;\n                position:absolute;\n                background-size: cover;\n                top:0;\n                left:0;\n                background-image:url(${n});\n                filter:blur(10px);\n                z-index:1;\n            }\n\n            html.theaterMode #front-cafe img{\n                position:relative;\n                top:0;\n                left:0;\n                z-index:2;\n            }\n            `)}}}()}))}var U=void 0,z=void 0;async function W(){try{if(V=await GM.getValue("theaterMode",!1),void 0!==U&&$(U).remove(),void 0!==z&&$(z).remove(),GLOBAL.isCafeWritingMode)return void t("CafeWritingMode - NO TheaterMode");var e,n="";if(GLOBAL.isNaverCafeMobile&&(V=!1),V){$("html").addClass("theaterMode"),E(Number(GM_SETTINGS.useTheaterModeContentWidth));var i=Number(GM_SETTINGS.useTheaterModeContentWidth)*Number(Number(GM_SETTINGS.videoWidth))/100;GM_SETTINGS.useYoutube&&GM_SETTINGS.youtubeForceWidthHeight&&(n+=`\n                .se-module-oembed.oembed_NCTCL {\n                    box-sizing:border-box;\n                    padding-top:unset !important;\n                    width:${i}px !important;\n                    height:calc(${i}px / 16.0 * 9.0) !important;\n                }\n                `),n+=`\n            .se-section-video\n            ,.se-component.se-video\n            ,.se-component.se-video .se-component-content\n            {\n                max-width:${i}px !important;\n                /*max-height:calc(${i}px / 16.0 * 9.0 + 130px) !important;*/\n                width:${i}px !important;\n            }\n            `,n+=`\n            .youtubeClipFound iframe.NCTCL-iframe-container{\n                width:${i}px !important;\n                height:calc(${i}px / 16.0 * 9.0) !important;\n            }\n            `,GM_SETTINGS.theaterModeAlignCenter?n+=`\n                #cafe-body, #content-area, #front-cafe, #front-img, .footer {width:calc(${GM_SETTINGS.useTheaterModeContentWidth}px + 60px) !important}\n                #cafe_main, .Article, .Article .article_wrap, #content-area #main-area {width:calc(${GM_SETTINGS.useTheaterModeContentWidth}px + 60px) !important}\n\n                #group-area {position:absolute;top:0;left:-230px}\n                /*#main-area {position:absolute;top:0;left:0;}*/\n                .footer {display:none;}\n                `:n+=`\n                #cafe-body, #content-area, #front-cafe, #front-img, .footer {width:calc(${GM_SETTINGS.useTheaterModeContentWidth}px + 220px + 60px) !important}\n                #cafe_main, .Article, .Article .article_wrap, #content-area #main-area {width:calc(${GM_SETTINGS.useTheaterModeContentWidth}px + 60px) !important}\n                `,U=GM_addStyle(n+`\n                #front-cafe, #front-img {overflow:hidden; object-fit:cover !important;}\n\n                .twitchClipFound .se-oglink-thumbnail\n                {\n                    width:${i}px !important;\n                    height:calc(${i}px / 16.0 * 9.0) !important;\n                }\n\n                .se-component-content.twitchClipFound\n                {\n                    max-width:${i}px !important;\n                    max-height:calc(${i}px / 16.0 * 9.0 + 48px) !important;\n                    width:${i}px !important;\n                }\n\n                .CafeViewer .se-viewer .se-caption, .CafeViewer .se-viewer .se-component-content, .CafeViewer .se-viewer .se-component-content.se-component-content-fit{\n                    max-width:${i}px !important;\n                    width:${i}px !important;\n                }\n\n\n                .CafeViewer .se-viewer .se-section-oglink.twitchClipFound {\n                    max-width:${i}px !important;\n                    max-height:calc(${i}px / 16.0 * 9.0 + 48px) !important;\n                }\n                .se-viewer .se-section-oglink.se-l-large_image.twitchClipFound .se-oglink-thumbnail,\n                .se-viewer .se-section-oglink.se-l-large_image.twitchClipFound .se-oglink-thumbnail-resource{\n                    max-width:${i}px !important;\n                    max-height:calc(${i}px / 16.0 * 9.0) !important;\n                }\n    \n                #front-cafe {text-align:center}\n                .ArticleFormBanner.bottom{margin-left:auto;margin-right:auto}\n                #cafe-intro .gate-list.border-sub {\n                    width:unset !important;\n                    float:unset !important;\n                    margin:0 auto;\n                }\n            `)}else 0!==(e=$("div.article_container")).length&&E(e.width()),GM_SETTINGS.useYoutube&&GM_SETTINGS.youtubeForceWidthHeight&&(n+=`\n                .se-module-oembed.oembed_NCTCL {\n                    box-sizing:border-box;\n                    padding-top:unset !important;\n                    width:${N*Number(Number(GM_SETTINGS.videoWidth))/100}px !important;\n                    height:calc(${N*Number(Number(GM_SETTINGS.videoWidth))/100}px / 16.0 * 9.0) !important;\n                }\n                `),GM_SETTINGS.naverVideoForceWidthHeight&&(n+=`\n                .se-section-video\n                ,.se-component.se-video\n                ,.se-component.se-video .se-component-content\n                {\n                    max-width:${N*Number(Number(GM_SETTINGS.videoWidth))/100}px !important;\n                    width:${N*Number(Number(GM_SETTINGS.videoWidth))/100}px !important;\n                    max-height:calc(${N*Number(Number(GM_SETTINGS.videoWidth))/100}px / 16.0 * 9.0 + 130px) !important;\n                }\n                `),n+=`\n            .youtubeClipFound iframe.NCTCL-iframe-container{\n                width:${N*Number(Number(GM_SETTINGS.videoWidth))/100}px !important;\n                height:calc(${N*Number(Number(GM_SETTINGS.videoWidth))/100}px / 16.0 * 9.0) !important;\n            }\n            `,$("html").removeClass("theaterMode"),z=GM_addStyle(n+`\n            \n            .twitchClipFound .se-oglink-thumbnail\n            {\n                width:${N*Number(Number(GM_SETTINGS.videoWidth))/100}px !important;\n                height:calc(${N*Number(Number(GM_SETTINGS.videoWidth))/100}px / 16.0 * 9.0) !important;\n            }\n\n            .CafeViewer .se-viewer .se-section-oglink.twitchClipFound .se-oglink-thumbnail-resource{\n                object-fit:cover;\n            }\n            .CafeViewer .se-viewer .se-section-oglink.twitchClipFound {\n                max-width:${N*Number(Number(GM_SETTINGS.videoWidth))/100}px !important;\n                max-height:calc(${N*Number(Number(GM_SETTINGS.videoWidth))/100}px / 16.0 * 9.0 + 48px) !important;\n            }\n            .se-viewer .se-section-oglink.se-l-large_image.twitchClipFound .se-oglink-thumbnail,\n            .se-viewer .se-section-oglink.se-l-large_image.twitchClipFound .se-oglink-thumbnail-resource{\n                max-width:${N*Number(Number(GM_SETTINGS.videoWidth))/100}px !important;\n                max-height:calc(${N*Number(Number(GM_SETTINGS.videoWidth))/100}px / 16.0 * 9.0) !important;\n            }\n            `);0!==(e=$("div.article_container")).length&&E(e.width()),F.attr("title",`[NCTCL] 클릭 시 영화관 모드를 ${V?"비활성화":"활성화"} 합니다. 영화관 모드에서는 카페 글을 더 넓게 표시하고, 네이버, 유투브, 트위치 동영상을 더 크게 표시합니다.`).html(`영화관 모드 ${V?"켜짐":"꺼짐"}<img src="https://cafe.pstatic.net/cafe4/ico-blank.gif" width="1" height="10" alt="" class="tcol-c">`)}catch(e){t("Error from applyTheaterMode",e)}}var q=n(952),H=n.n(q),Q=!1,j=$(`<span title="[NCTCL] 클릭 시 다크 모드를 ${Q?"비활성화":"활성화"} 합니다." id="darkModeBtn">어두운 모드 ${Q?"켜짐":"꺼짐"}<img src="https://cafe.pstatic.net/cafe4/ico-blank.gif" width="1" height="10" alt="" class="tcol-c"></span>`).on("click",(async()=>{t("어두운 모드",Q,"->",!Q),(Q=!Q)?j.html('어두운 모드 켜짐<img src="https://cafe.pstatic.net/cafe4/ico-blank.gif" width="1" height="10" alt="" class="tcol-c">'):j.html('어두운 모드 꺼짐<img src="https://cafe.pstatic.net/cafe4/ico-blank.gif" width="1" height="10" alt="" class="tcol-c">'),await GM.setValue("darkMode",Q),"function"==typeof GM.addValueChangeListener?J():location.reload()}));var Z=void 0;async function J(){try{t("어두운 모드",Q=await GM.getValue("darkMode",!1)),j.attr("title",`[NCTCL] 클릭 시 다크 모드를 ${Q?"비활성화":"활성화"} 합니다.`),void 0!==Z&&$(Z).remove(),Q?(Z=GM_addStyle(H().toString().replace(/(\.skin-1080)/g,"html[data-theme='dark'] body")),$("html").attr("data-theme","dark")):$("html").attr("data-theme","default")}catch(e){t("Error from applyTheme",e)}}function K(){GM_SETTINGS.improvedRefresh&&function(){try{if(window.self!==window.top){if(unsafeWindow.top.refreshChecked)return void NOMO_DEBUG("이미 refresh 여부가 체크되었다.");const i="reload"===String(window.top.performance.getEntriesByType("navigation")[0].type);if(NOMO_DEBUG("PARENT REFRESHED? = ",i,"CURRENT URL = ",document.location.href),unsafeWindow.parent.refreshChecked=!0,!i)return;var e={url_top:void 0,url_main:void 0,date:-1};try{let t=localStorage.getItem("lastCafeMainUrl");if(null===t)return void NOMO_DEBUG("savedLSLSCMU = null");e=JSON.parse(t)}catch(e){return void NOMO_DEBUG("Error from improvedRefresh JSON.parse",e)}if(parent.location.href!==e.url_top)return void NOMO_DEBUG("저장된 url 과 현재 url 이 같지 않다",parent.location.href,e.url_top);if(NOMO_DEBUG("savedLastCafeMainUrl",e),document.location.href===e.url_main)return void NOMO_DEBUG("저장된 url_main 과 현재 url_main 이 같다",e.url_main);for(var t=["https://cafe.naver.com/MyCafeListGNBView.nhn"],n=0;n<t.length;n++)if(-1!==document.location.href.indexOf(t[n]))return void NOMO_DEBUG("예외 목록에 포함된 URL",t[n],document.location.href);let a=Number(new Date)-e.date;a<3e3?(NOMO_DEBUG("LOAD SAVED IFRAME URL. CURRRENT URL = ",document.location.href,", SAVED URL = ",e.url_main,", REFRESHDELAY = ",a),document.location.href=e.url_main):NOMO_DEBUG("refresh delay 초과, REFRESHDELAY = ",a)}window.self===window.top&&(window.onbeforeunload=function(){let e=$("#cafe_main");if(0!==e.length){var t=e[0].contentWindow.location.href;localStorage.setItem("lastCafeMainUrl",JSON.stringify({url_top:document.location.href,url_main:t,date:Number(new Date)}))}})}catch(e){NOMO_DEBUG("Error from improvedRefresh",e)}}();try{Y(),async function(){Q=await GM.getValue("darkMode",!1),"function"==typeof GM.addValueChangeListener&&GM.addValueChangeListener("darkMode",(async function(e,n,i,a){a&&(t("다른 창에서 설정 변경됨. val_name, old_value, new_value, location:",e,n,i,document.location.href),J())})),$(document).ready((function(){if(GM_SETTINGS.showDarkModeBtn){var e=$("#gnb-menu");0!==e.length&&e.prepend(j)}})),J()}()}catch(e){NOMO_DEBUG("Error from theaterMode",e)}}function X(){try{if(void 0===document)return void NOMO_DEBUG("Document is undefined from openSettingsMenu");if(!/(^https:\/\/cafe\.naver\.com\/)/.test(document.location.href))return void NOMO_DEBUG("no naver cafe: return from openSettingsMenu");var e="GM_Setting_Bootstrap";$("#nomo_settings_container").remove();var t=$('\n        <div id="nomo_settings_container" style="display:none;cursor:pointer;position:fixed;top:0;left:0;width:100%;height:100%;z-index:200000;background:rgba(0,0,0,0.93);">\n            <div id="nomo_settings" style="cursor:default;font-size:12px;max-width:850px;max-height:calc(100% - 40px);margin:20px auto;background:#fff;padding:10px 20px;border-radius:5px;overflow-y:scroll;"></div>\n        </div>').appendTo("body");if(t.on("click",(function(){$("#GM_Setting_css_temp").remove(),$("#GM_Setting_Bootstrap").remove(),$(this).fadeOut(500,(function(){$(this).remove()}))})),t.find("#nomo_settings").on("click",(function(e){e.stopPropagation()})),!document.getElementById(e)){var n=document.getElementsByTagName("head")[0],i=document.createElement("link");i.id=e,i.rel="stylesheet",i.type="text/css",i.href="https://maxcdn.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css",i.media="all",n.appendChild(i)}0==$("#GM_Setting_css_temp").length&&$("head").append("<style id='GM_Setting_css_temp' rel='stylesheet' type='text/css'>ul, ol{margin:0; padding:0 !important;}\n            #nomo_settings::-webkit-scrollbar { width: 8px; height: 8px; background: #eee; }\n            #nomo_settings::-webkit-scrollbar-thumb { background: #ccc; }\n            body{overflow-y:hidden;}\n            body #GM_setting .GM_setting_list_head {vertical-align:bottom;}</style>"),$("#nomo_settings_container").fadeIn(500),GM_setting.createlayout($("#nomo_settings"))}catch(e){NOMO_DEBUG("Error from openSettingsMenu function",e)}}function ee(e,n){GM_addStyle("\n            html body .player-overlay-background--darkness-5{background:rgba(0,0,0,.2);}\n            .player-overlay-background--darkness-5:hover [data-a-target='player-overlay-play-button'] {\n                background-color:rgba(255,255,255,0.2);\n                box-shadow: 0px 0px 1vw rgb(0 0 0 / 40%);\n            }\n            .NCTCLVideoDeletedNotice{\n                position: absolute;\n                font-size: 2vw;\n                width: 100%;\n                height: 100%;\n                display: flex;\n                align-items: center;\n                flex: 1 1 100%;\n                background-color: #eee;\n            }\n            .NCTCLVideoDeletedNotice .text{\n                text-align:center;\n                width:100%;\n            }\n            .keep_watching_btn{\n                font-size: 13px;\n                font-weight: 700;\n                background: rgb(145, 71, 255);\n                color: #fff;\n                width: fit-content;\n                padding: 5px 10px;\n                border-radius: 5px;\n                position: absolute;\n                right: 10px;\n                top: 10px;\n                cursor:pointer;\n            }\n            .keep_watching_btn:hover{\n                color:#fff;\n                background:rgb(119, 44, 232);\n                text-decoration:none;\n            }\n\n            .keep_watching_btn.keep_watching_no_vod_btn{\n                background:#666;\n                cursor:default;\n            }\n            .keep_watching_btn.keep_watching_no_vod_btn:hover{\n                background:#666;\n                cursor:default;\n            }\n            .opacity_1{\n                opacity:1 !important;\n            }\n            .opacity_transition{\n                transition: opacity 0.2s !important;\n            }\n        ");var i=!1;if(GM_SETTINGS.set_volume_when_stream_starts)try{localStorage.setItem("volume",GM_SETTINGS.target_start_volume),0!==GM_SETTINGS.target_start_volume&&localStorage.setItem("video-muted",{default:!1})}catch(e){t("Error from set_volume_when_stream_starts")}if(GM_SETTINGS.twitch_clip_hide_related_video_after_end&&(GM_addStyle(".player-overlay-background.player-overlay-background--darkness-1{background:none !important;}.player-overlay-background.player-overlay-background--darkness-1 .clip-postplay-recommendations{display:none !important;}"),$(document).arrive(".clip-postplay-recommendations",(function(e){for(var n=$(e),i=n.find("a.offline-recommendations-video-card"),a=!1,r=0;r<i.length;r++){var o=$(i[r]).attr("href");if(t("href",o),-1!==o.indexOf("https://www.twitch.tv/videos/")){$(".keep_watching_btn").remove(),n.closest(".player-overlay-background--darkness-1").append(`<a href="${o}" target="_blank" class="keep_watching_btn">VOD 계속 시청</a>`),a=!0;break}}a||($(".keep_watching_btn").remove(),n.closest(".player-overlay-background--darkness-1").append('<span class="keep_watching_btn keep_watching_no_vod_btn">이용 가능한 전체 동영상이 없습니다.</span>'))}))),GM_SETTINGS.play_and_pause_by_click)try{e||GM_addStyle('[data-a-target="player-twitch-logo-button"]{display:none !important}'),GM_addStyle("\n                html body .top-bar\n                {\n                    display:none !important;\n                }\n            ");var a=!1,r=void 0;$(document).on("click","[data-a-target='player-overlay-click-handler']",(e=>{t("clicked - playing",e),document.querySelector("button[data-a-target='player-play-pause-button']").click(),a=!0,clearTimeout(r),r=setTimeout((function(){a=!1}),300)})),$(document).on("click",".player-overlay-background",(e=>{t("clicked - end or play",e),0!==$(e.target).find(".clip-postplay-recommendations").length?(t("There is recommendations div"),document.querySelector("button[data-a-target='player-play-pause-button']").click()):t("There is no recommendations div"),a&&(clearTimeout(r),a=!1,$("button[data-a-target='player-fullscreen-button']").click())}))}catch(e){t("ERROR FROM play_and_pause_by_click",e)}var o=void 0,s=document.location.href.match(/^https?:\/\/(?:clips|player)\.twitch\.tv\/(?:embed\?clip=|\?video=)([a-zA-Z0-9-_]+)/),l="";null!==s&&s.length>1&&(l=s[1]),t("clipId = ",l),(GM_SETTINGS.autoPauseOtherClips||GM_SETTINGS.autoPlayNextClip)&&window.addEventListener("message",(function(e){if("https://cafe.naver.com"===e.origin&&"NCTCL"===e.data.type){if(t("message from naver",e.data),void 0===e.data.clipId||""===e.data.clipId||void 0===o)return;switch(e.data.event){default:break;case"pause":e.data.clipId!==l&&"function"==typeof o.pause&&o.pause();break;case"play":o.paused&&document.querySelector("button[data-a-target='player-play-pause-button']").click()}}}));var c=!1,d=Number(new Date),p=!1,u=0;function _(e){GM_SETTINGS.twitch_clip_time_update_after_end&&(p&&e.duration-.1>u&&(e.currentTime=u),p=!1,u=0)}$(document).arrive("video",{onlyOnce:!0,existing:!0},(function(e){t("VIDEO SRC",(o=e).src),o.addEventListener("play",(e=>{t("video.networkState = ",o.networkState,", isLoading? = ",o.networkState===o.NETWORK_LOADING);let n=$(e.target);t("twitch clip play()",e),_(e.target),(GM_SETTINGS.autoPauseOtherClips||GM_SETTINGS.autoPlayNextClip)&&window.parent.postMessage({type:"NCTCL",event:"play",clipId:l},"https://cafe.naver.com"),n.hasClass("_FIRSTPLAYED")||($(".volume-slider__slider-container").addClass("opacity_1").addClass("opacity_transition"),GM_SETTINGS.twitch_clip_always_show_volume_controller||(setTimeout((function(){$(".volume-slider__slider-container").removeClass("opacity_1")}),5e3),setTimeout((function(){$(".volume-slider__slider-container").removeClass("opacity_transition")}),6e3)),n.addClass("_FIRSTPLAYED"),GM_addStyle('\n            html body .player-overlay-background--darkness-5 { background:unset !important; }\n            html body button[data-a-target="player-overlay-play-button"] { display:none !important; }\n            html body .top-bar\n            {\n                display:none !important;\n            }\n            html body .video-player__container\n            ,html body .video-player{\n                background:unset;\n            }\n            '))})),o.addEventListener("pause",(e=>{t("twitch clip pause()",e),_(e.target),(GM_SETTINGS.autoPauseOtherClips||GM_SETTINGS.autoPlayNextClip)&&window.parent.postMessage({type:"NCTCL",event:"pause",clipId:l},"https://cafe.naver.com")})),o.addEventListener("ended",(e=>{t("twitch clip ended",e),p=!0,(GM_SETTINGS.autoPauseOtherClips||GM_SETTINGS.autoPlayNextClip)&&window.parent.postMessage({type:"NCTCL",event:"ended",clipId:l},"https://cafe.naver.com")})),o.addEventListener("playing",(e=>{_(e.target),t("twitch clip playing",e),t("DELAY TO PLAY = ",Number(new Date)-d)})),o.addEventListener("loadeddata",(e=>{t("twitch clip loadeddata",e),$(".NCTCLVideoDeletedNotice").hide(),c=!0})),o.addEventListener("timeupdate",(e=>{var n;n=e.target,GM_SETTINGS.twitch_clip_time_update_after_end&&p&&(t("current time update",n.currentTime),u=n.currentTime)}));try{n||!GM_SETTINGS.set_volume_when_stream_starts||i||(t("set_volume"),void 0!==o.volume&&(t("MUTE?",o.muted,"CURRENT VOLUME",o.volume,"TARGET VOLUME",GM_SETTINGS.target_start_volume),setTimeout((function(){0!==GM_SETTINGS.target_start_volume&&(o.muted=!1),o.volume=GM_SETTINGS.target_start_volume,i=!0}),100)))}catch(e){t("ERROR FROM set_volume_when_stream_starts",e)}})),$(document).ready((function(){setTimeout((function(){var e=$("video").attr("src");c||void 0!==e&&""!==e||$(".video-ref").append(`<div class="NCTCLVideoDeletedNotice"><div class="text">[Naver Cafe Twitch Clip Loader]<br />클립 또는 VOD가 삭제된 것 같습니다.<br /><a href="${document.location.href}" target="_self">이곳을 클릭하면 새로고침 합니다.</a></div></div>`)}),5e3)}))}const te=["highres","hd2880","hd2160","hd1440","hd1080","hd720","large","medium","small","tiny"];var ne=void 0,ie=void 0,ae=!1;function re(){t("== PAGE_YOUTUBE_EMBED =="),GM_addStyle(".ytp-ad-overlay-container {display:none !important}"),"default"!==GM_SETTINGS.youtubeSetQuality&&function(){if("default"===GM_SETTINGS.youtubeSetQuality)return!1;return!!$.inArray(GM_SETTINGS.youtubeSetQuality,te)||(t("NO TARGET QUALITY"),!1)}()&&(!function(){try{var e=localStorage.getItem("yt-player-quality");if(!e){var n=JSON.parse(e);t("GET YTQ TO LOCALSTORATE",n),n.data!==GM_SETTINGS.youtubeSetQuality&&(n.data=GM_SETTINGS.youtubeSetQuality,n.expiration=Number(new Date)+864e5,n.creation=Number(new Date),localStorage.setItem("yt-player-quality",JSON.stringify(n)),t("SET NEW YTQ TO LOCALSTORATE",n))}}catch(e){t("error from set_ls_YTQ",e)}}(),se()),GM_SETTINGS.youtubeHidePauseOverlay&&GM_addStyle("\n        .ytp-pause-overlay {display:none !important}\n        ")}var oe=1;function se(){if(t("YOUTUBE_EMBED_SET_QUALITY_POST",oe),!ae){if(oe>40)return;if(0===(ne=$(".html5-video-player")).length||void 0===ne[0].getPlaybackQuality)return void setTimeout((function(){oe+=1,se()}),50);ie=ne[0],ae=!0}var e=GM_SETTINGS.youtubeSetQuality,n=(te.indexOf(e),ie.getPlaybackQuality());t(`Current YTQ: ${n}`),void 0!==ie.setPlaybackQualityRange&&ie.setPlaybackQualityRange(e),ie.setPlaybackQuality(e),t(`YTQ CHANGED. ${n} -> ${e}`)}(async()=>{if(GLOBAL.version=GM.info.script.version||GM_info.script.version,GLOBAL.isTopWindow=window.self===window.top,GLOBAL.initLocationUrl=document.location.href,GLOBAL.isNaverCafe=/(^https:\/\/cafe\.naver\.com\/)/.test(GLOBAL.initLocationUrl),GLOBAL.isNaverCafeMain=GLOBAL.isNaverCafe&&!GLOBAL.isTopWindow,GLOBAL.isNaverCafeTop=GLOBAL.isNaverCafe&&GLOBAL.isTopWindow,GLOBAL.isNaverCafeMobile=/(^https:\/\/m\.cafe\.naver\.com\/)/.test(GLOBAL.initLocationUrl),GLOBAL.isTwitchClip=/(^https:\/\/clips\.twitch\.tv\/)/.test(GLOBAL.initLocationUrl),GLOBAL.isTwitchVod=/(^https:\/\/player\.twitch\.tv\/)/.test(GLOBAL.initLocationUrl),GLOBAL.isSettingWindow=/(^https:\/\/cafe\.naver\.com\/NaverCafeTwitchClipLoaderSettings)/.test(GLOBAL.initLocationUrl),GLOBAL.isTwitch=GLOBAL.isTwitchClip||GLOBAL.isTwitchVod,GLOBAL.isNaverVideoEmbed=/(^https:\/\/serviceapi\.nmv\.naver\.com(\/ugc)?\/view\/ugcPlayer)/.test(GLOBAL.initLocationUrl),GLOBAL.isParentNaverCafe=/(parent=(cafe|www)?\.?naver\.com)/.test(GLOBAL.initLocationUrl),GLOBAL.isTwitchMuted=GLOBAL.isTwitch&&-1!==document.location.href.indexOf("muted=true"),GLOBAL.isYoutubeEmbed=/^https:\/\/www\.youtube\.com\/embed\//.test(GLOBAL.initLocationUrl),GLOBAL.isCafeWritingMode=/^https:\/\/cafe\.naver\.com\/ca-fe\/cafes\/\d+\/articles\/\d+\/modify/.test(GLOBAL.initLocationUrl)||/^https:\/\/cafe\.naver\.com\/ca-fe\/cafes\/\d+\/menus\/\d+\/articles\/write\?/.test(GLOBAL.initLocationUrl),(!GLOBAL.isTopWindow||!GLOBAL.isTwitch)&&(!GLOBAL.isTopWindow||!GLOBAL.isNaverVideoEmbed)&&(GLOBAL.isTopWindow||!GLOBAL.isTwitch||GLOBAL.isParentNaverCafe))if(console.log("[NCTCL]   Naver-Cafe-Twitch-Clip-Loader",document.location.href),await async function(){e=await GM.getValue("DEBUG",!1),unsafeWindow.NCTCL_DEBUG_TOGGLE=function(){return e=!e,GM.setValue("DEBUG",e),`DEBUG = ${e}`}}(),await async function(){await i.init("GM_SETTINGS",{DEBUG:e,SETTINGS:r,CONSOLE_MSG:t,MULTILANG:!1})}(),GLOBAL.isSettingWindow)!function(){t("== PAGE_SETTING =="),$("body").empty().css("padding","0px 30px 0px 30px"),$("head").find("style").each((function(e,t){var n=$(t);null==n.attr("id")&&n.remove()})),GM_addStyle("\n        body::-webkit-scrollbar { width: 8px; height: 8px; background: #eee; }\n        body::-webkit-scrollbar-thumb { background: #ccc; }\n        body #GM_setting .GM_setting_list_head {vertical-align:bottom;}\n    ");var e="GM_Setting_Bootstrap";if(!document.getElementById(e)){var n=document.getElementsByTagName("head")[0],i=document.createElement("link");i.id=e,i.rel="stylesheet",i.type="text/css",i.href="https://maxcdn.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css",i.media="all",n.appendChild(i)}document.title="Naver-Cafe-Twitch-Clip-Loader 상세 설정 페이지",GM_setting.createlayout($("body"))}();else{if(GLOBAL.isNaverCafe&&K(),GLOBAL.isNaverCafeTop)return"function"==typeof GM.registerMenuCommand&&(GM.registerMenuCommand("상세 설정 열기 (새 창)",(function(){var e=$(window).width(),t=$(window).height(),n=e>930?930:e/5*4,i=e/2-n/2,a=t/2-t/5*4/2;window.open("https://cafe.naver.com/NaverCafeTwitchClipLoaderSettings/","winname","directories=no,titlebar=no,toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width="+n+",height="+t/5*4+",top="+a+",left="+i)})),GM.registerMenuCommand("상세 설정 열기 (현재 창)",X)),void $(document).ready((function(){try{if(GM_SETTINGS.alwaysShowFavoriteBoard){let e=$("#favoriteMenuGroupBtn");0!==e.length&&e.hasClass("down-btn")&&toggleFavoriteMenuGroup()}}catch(e){NOMO_DEBUG("Error from alwaysShowFavoriteBoard",e)}try{"0"!==GM_SETTINGS.naverBoardDefaultArticleCount&&Number(GM_SETTINGS.naverBoardDefaultArticleCount)>0&&(unsafeWindow.oriSearchFrmAfter=unsafeWindow.searchFrmAfter,unsafeWindow.searchFrmAfter=function(e){var t=unsafeWindow.oriSearchFrmAfter.toString().match(/clubid=(\d+)/);null!==t&&t.length>=2?(NOMO_DEBUG("clubid",t),$("#cafe_main").attr("src",`/ArticleSearchList.nhn?search.clubid=${t[1]}&search.searchBy=0&search.query=${URLEncoder.encode(e.query.value,"MS949")}&userDisplay=${GM_SETTINGS.naverBoardDefaultArticleCount}`)):unsafeWindow.oriSearchFrmAfter(e)},unsafeWindow.oriDrawFavoriteCafeMenuList=unsafeWindow.drawFavoriteCafeMenuList,unsafeWindow.drawFavoriteCafeMenuList=function(e){unsafeWindow.oriDrawFavoriteCafeMenuList(e);let t=$("#cafe-menu #favoriteMenuGroup").find("a");NOMO_DEBUG("$as",t),t.each((function(e,t){setTimeout((function(){let e=$(t),n=e.attr("href");-1===n.indexOf("userDisplay")&&e.attr("href",`${n}&userDisplay=${GM_SETTINGS.naverBoardDefaultArticleCount}`)}),1)}))},$("#cafe-menu").find(".cafe-menu-list a[target='cafe_main']").each((function(e,t){setTimeout((function(){let e=$(t),n=e.attr("href");-1===n.indexOf("userDisplay")&&e.attr("href",`${n}&userDisplay=${GM_SETTINGS.naverBoardDefaultArticleCount}`)}),1)})))}catch(e){NOMO_DEBUG("Error from naverBoardDefaultArticleCount",e)}}));if(GLOBAL.isNaverCafeMain)P();else{if(GLOBAL.isNaverCafeMobile)return $(document).arrive("div#postContent .content",{existing:!0},(function(e){E($(e).width()),W()})),K(),void P();if(!GLOBAL.isTwitch)return GLOBAL.isNaverVideoEmbed?(NOMO_DEBUG("== PAGE_NAVER_EMBED =="),void v()):void(GLOBAL.isYoutubeEmbed&&GM_SETTINGS.useYoutube&&re());GM_SETTINGS.use&&ee(GLOBAL.isTwitchVod,GLOBAL.isTwitchMuted)}}})()})()})();